import{A as K}from"./AdminMaster-B-YC6P5R.js";import{H as X,r as Z,c as p,o as b,a as $,b as t,d as N,h as F,f,e as g,A,t as i,F as T,p as tt,n as x,$ as at,w as D,i as w,l as h,y as _,B as et,D as st}from"./app-B_Bg3H0j.js";import{S as d}from"./sweetalert2.esm.all-Y6IUEg8t.js";import{_ as ot}from"./_plugin-vue_export-helper-DlAUqK2U.js";const nt={layout:K,name:"Budgets",components:{Head:X},props:{budgets:Array},setup(S){const a=h("current"),y=h(!1),e=h(null),B=h(!1),l=h([...S.budgets||[]]),C=_(()=>l.value.sort((o,n)=>n.id-o.id)),s=et({name:"",description:"",allocated_amount:0,icon:"fas fa-chart-pie",notes:"",auto_forecast:1}),v=_(()=>l.value.reduce((o,n)=>o+n.allocated_amount,0)),M=_(()=>l.value.reduce((o,n)=>o+n.used_amount,0)),q=_(()=>l.value.reduce((o,n)=>o+(n.forecast_next_quarter||0),0)),Q=_(()=>l.value.filter(o=>o.used_amount/o.allocated_amount*100>=80).length),E=_(()=>{const o=new Date,u=(Math.floor(o.getMonth()/3)+1)*3,r=new Date(o.getFullYear(),u,0)-o;return Math.ceil(r/(1e3*60*60*24))}),c=o=>new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}).format(o||0),U=o=>{const n=o.used_amount/o.allocated_amount*100;return n>=100?"budget-over-limit":n>=80?"budget-near-limit":""},V=o=>{const n=o.used_amount/o.allocated_amount*100;return n>=100?"bg-danger":n>=80?"bg-warning":n>=60?"bg-info":"bg-success"},L=o=>{const n=o.used_amount/o.allocated_amount*100;return n>=100?"bg-danger":n>=80?"bg-warning":"bg-success"},k=o=>{const n=o.used_amount/o.allocated_amount*100;return n>=100?"Over Budget":n>=80?"Near Limit":"On Track"},O=()=>{s.name="",s.description="",s.allocated_amount=0,s.icon="fas fa-chart-pie",s.notes="",s.auto_forecast=1},R=o=>{e.value=o,s.name=o.name,s.description=o.description,s.allocated_amount=o.allocated_amount,s.icon=o.icon,s.notes=o.notes,s.auto_forecast=o.auto_forecast},P=()=>{y.value=!1,e.value=null,O()},I=async()=>{B.value=!0;try{const o={...s,id:e.value?e.value.id:Date.now(),used_amount:e.value?e.value.used_amount:0,remaining_amount:s.allocated_amount-(e.value?e.value.used_amount:0),forecast_next_quarter:s.allocated_amount*1.1};if(e.value){const n=l.value.findIndex(u=>u.id===e.value.id);l.value[n]=o}else l.value.push(o);P(),d.fire({title:"Success!",text:`Budget ${e.value?"updated":"created"} successfully`,icon:"success",confirmButtonColor:"#007bff",timer:3e3,timerProgressBar:!0})}catch(o){console.error("Save failed:",o),d.fire({title:"Error!",text:"Failed to save budget",icon:"error",confirmButtonColor:"#e74a3b"})}finally{B.value=!1}},Y=o=>{d.fire({title:o.name+" Details",html:`
                    <div class="text-left">
                        <p><strong>Allocated:</strong> ৳${c(o.allocated_amount)}</p>
                        <p><strong>Used:</strong> ৳${c(o.used_amount)}</p>
                        <p><strong>Remaining:</strong> ৳${c(o.remaining_amount)}</p>
                        ${o.forecast_next_quarter?`<p><strong>Next Quarter Forecast:</strong> ৳${c(o.forecast_next_quarter)}</p>`:""}
                        <p><strong>Status:</strong> ${k(o)}</p>
                        ${o.description?`<p><strong>Description:</strong> ${o.description}</p>`:""}
                    </div>
                `,confirmButtonColor:"#007bff"})},j=()=>{console.log("Period changed to:",a.value)},G=async o=>{if((await d.fire({title:"Delete Budget?",html:`
                    <div class="text-left">
                        <p>Are you sure you want to delete the budget for <strong>${o.name}</strong>?</p>
                        <div class="alert alert-warning mt-3">
                            <i class="fas fa-exclamation-triangle me-2"></i>
                            <strong>Budget Details:</strong><br>
                            Allocated: ৳${c(o.allocated_amount)}<br>
                            Used: ৳${c(o.used_amount)}<br>
                            Remaining: ৳${c(o.remaining_amount)}
                        </div>
                        <p class="text-danger"><strong>This action cannot be undone!</strong></p>
                    </div>
                `,icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc3545",cancelButtonColor:"#6c757d",confirmButtonText:"Yes, delete it!"})).isConfirmed){const u=l.value.findIndex(m=>m.id===o.id);u!==-1&&(l.value.splice(u,1),d.fire({title:"Budget Deleted!",text:`${o.name} budget has been removed`,icon:"success",confirmButtonColor:"#28a745",timer:3e3,timerProgressBar:!0}))}},z=async()=>{if(l.value.length===0){d.fire({title:"No Budgets",text:"There are no budgets to clear",icon:"info",confirmButtonColor:"#007bff"});return}if((await d.fire({title:"Clear All Budgets?",html:`
                    <div class="text-left">
                        <p>This will permanently delete <strong>${l.value.length}</strong> budget categories totaling <strong>৳${c(v.value)}</strong></p>
                        <div class="mt-3">
                            <h6>Budgets to be deleted:</h6>
                            <ul class="list-unstyled">
                                ${l.value.map(n=>`
                                    <li class="mb-1">
                                        <i class="${n.icon||"fas fa-chart-pie"} me-1"></i> ${n.name} - 
                                        <strong>৳${c(n.allocated_amount)}</strong>
                                    </li>
                                `).join("")}
                            </ul>
                        </div>
                        <div class="alert alert-danger mt-3">
                            <i class="fas fa-exclamation-triangle me-2"></i>
                            <strong>Warning:</strong> All budget data and forecasting information will be permanently lost. This action cannot be undone!
                        </div>
                    </div>
                `,icon:"error",showCancelButton:!0,confirmButtonColor:"#dc3545",cancelButtonColor:"#6c757d",confirmButtonText:"Yes, clear all budgets!",cancelButtonText:"Cancel",width:"600px"})).isConfirmed){const n=l.value.length,u=v.value;l.value.splice(0),d.fire({title:"All Budgets Cleared!",html:`
                        <div class="text-center">
                            <i class="fas fa-check-circle text-success mb-3" style="font-size: 3rem;"></i>
                            <p><strong>${n}</strong> budgets deleted</p>
                            <p><strong>৳${c(u)}</strong> total budget cleared</p>
                            <div class="alert alert-success mt-3">
                                <i class="fas fa-info-circle me-2"></i>
                                You can now create fresh budgets for your business planning!
                            </div>
                        </div>
                    `,icon:null,confirmButtonColor:"#28a745",timer:5e3,timerProgressBar:!0,width:"500px"})}},H=()=>{if(l.value.length===0){d.fire({title:"No Data to Export",text:"There are no budgets to export",icon:"info",confirmButtonColor:"#007bff"});return}let o=`Budget Name,Description,Allocated Amount (BDT),Used Amount (BDT),Remaining Amount (BDT),Usage %,Status,Next Quarter Forecast (BDT),Auto Forecast
`;l.value.forEach(r=>{const J=(r.used_amount/r.allocated_amount*100).toFixed(1);o+=`"${r.name}","${r.description||""}",${r.allocated_amount},${r.used_amount},${r.remaining_amount},${J}%,"${k(r)}",${r.forecast_next_quarter||""},"${r.auto_forecast?"Yes":"No"}"
`});const n=new Blob([o],{type:"text/csv;charset=utf-8;"}),u=URL.createObjectURL(n),m=document.createElement("a");m.href=u,m.download=`Budget-Summary-${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(u),d.fire({title:"Export Complete!",text:`Budget data exported to CSV file with ${l.value.length} categories`,icon:"success",confirmButtonColor:"#007bff",timer:3e3,timerProgressBar:!0})},W=async()=>{(await d.fire({title:"Reset Budget Period?",html:`
                    <div class="text-left">
                        <p>This will reset the "used amount" for all budget categories to zero, keeping the allocated amounts intact.</p>
                        <div class="alert alert-info mt-3">
                            <i class="fas fa-info-circle me-2"></i>
                            <strong>What happens:</strong><br>
                            • All "used amount" values reset to ৳0<br>
                            • Allocated amounts remain unchanged<br>
                            • Progress bars restart at 0%<br>
                            • Perfect for starting a new quarter
                        </div>
                        <p>Use this when starting a new budget period.</p>
                    </div>
                `,icon:"question",showCancelButton:!0,confirmButtonColor:"#007bff",cancelButtonColor:"#6c757d",confirmButtonText:"Yes, reset period!"})).isConfirmed&&(l.value.forEach(n=>{n.used_amount=0,n.remaining_amount=n.allocated_amount}),d.fire({title:"Budget Period Reset!",text:"All budget categories have been reset for the new period",icon:"success",confirmButtonColor:"#28a745",timer:3e3,timerProgressBar:!0}))};return st(()=>{l.value.length===0&&(l.value=[{id:1,name:"Technology & Software",description:"Hosting, domains, software subscriptions, development tools",allocated_amount:15e3,used_amount:8500,remaining_amount:6500,icon:"fas fa-laptop",forecast_next_quarter:16500,auto_forecast:1},{id:2,name:"Marketing & Advertising",description:"Google Ads, Facebook Ads, content creation, networking",allocated_amount:2e4,used_amount:16800,remaining_amount:3200,icon:"fas fa-bullhorn",forecast_next_quarter:25e3,auto_forecast:1},{id:3,name:"Office & Operations",description:"Electricity, internet, phone, office supplies",allocated_amount:12e3,used_amount:5400,remaining_amount:6600,icon:"fas fa-building",forecast_next_quarter:13200,auto_forecast:1}])}),{selectedPeriod:a,showCreateBudget:y,editingBudget:e,saving:B,budgets:l,sortedBudgets:C,budgetForm:s,totalBudget:v,currentQuarterSpent:M,forecastNextQuarter:q,nearLimitCount:Q,daysLeftInQuarter:E,formatNumber:c,getBudgetCardClass:U,getProgressBarClass:V,getStatusBadgeClass:L,getBudgetStatus:k,editBudget:R,closeModal:P,saveBudget:I,viewBudgetDetails:Y,updatePeriod:j,deleteBudget:G,clearAllBudgets:z,exportBudgets:H,resetBudgetPeriod:W}}},lt={class:"row"},it={class:"col-lg-12"},rt={class:"dashboard-settings margin-top-40"},dt={class:"card mb-4"},ct={class:"card-header d-flex justify-content-between align-items-center"},ut={class:"d-flex gap-2"},mt={class:"dropdown"},ft={class:"dropdown-menu"},gt=["disabled"],vt=["disabled"],pt={class:"card-body"},bt={class:"row"},_t={class:"col-md-4 text-end"},xt={class:"budget-summary"},ht={class:"total-budget"},Bt={class:"h5 mb-0 text-primary"},wt={class:"row mb-4"},yt={class:"col-md-6 mb-3"},Ct={class:"stat-card"},kt={class:"stat-content"},Ft={class:"stat-value"},At={class:"col-md-6 mb-3"},St={class:"stat-card"},Pt={class:"stat-content"},Nt={class:"stat-value"},Tt={class:"col-md-6 mb-3"},Dt={class:"stat-card"},Mt={class:"stat-content"},qt={class:"stat-value"},Qt={class:"col-md-6 mb-3"},Et={class:"stat-card"},Ut={class:"stat-content"},Vt={class:"stat-value"},Lt={class:"row"},Ot={class:"budget-header"},Rt={class:"budget-icon"},It={class:"budget-actions"},Yt=["onClick"],jt=["onClick"],Gt=["onClick"],zt={class:"budget-content"},Ht={class:"budget-description"},Wt={class:"budget-progress mb-3"},Jt={class:"d-flex justify-content-between mb-1"},Kt={class:"progress"},Xt={class:"budget-details"},Zt={class:"budget-amounts"},$t={class:"amount-row"},ta={class:"value"},aa={class:"amount-row"},ea={key:0,class:"amount-row"},sa={class:"value text-info"},oa={class:"budget-status mt-2"},na={key:0,class:"col-12"},la={class:"modal-header"},ia={class:"modal-body"},ra={class:"row"},da={class:"col-md-6 mb-3"},ca={class:"col-md-6 mb-3"},ua={class:"row"},ma={class:"col-md-6 mb-3"},fa={class:"col-md-6 mb-3"},ga={class:"mb-3"},va={class:"mb-3"},pa={class:"d-flex justify-content-end gap-2"},ba=["disabled"];function _a(S,a,y,e,B,l){const C=Z("Head");return b(),p(T,null,[$(C,{title:"Budget Management & Forecasting"}),t("div",lt,[t("div",it,[t("div",rt,[t("div",dt,[t("div",ct,[a[24]||(a[24]=t("h4",{class:"mb-0"},[t("i",{class:"fas fa-chart-pie me-2"}),f(" Budget Management & Forecasting ")],-1)),t("div",ut,[g(t("select",{"onUpdate:modelValue":a[0]||(a[0]=s=>e.selectedPeriod=s),onChange:a[1]||(a[1]=(...s)=>e.updatePeriod&&e.updatePeriod(...s)),class:"form-select form-select-sm",style:{width:"180px"}},[...a[17]||(a[17]=[t("option",{value:"current"},"Current Quarter",-1),t("option",{value:"next"},"Next Quarter",-1),t("option",{value:"annual"},"Annual View",-1)])],544),[[A,e.selectedPeriod]]),t("button",{onClick:a[2]||(a[2]=s=>e.showCreateBudget=!0),class:"btn btn-primary me-2"},[...a[18]||(a[18]=[t("i",{class:"fas fa-plus"},null,-1),f(" Create Budget ",-1)])]),t("div",mt,[a[23]||(a[23]=t("button",{class:"btn btn-outline-danger dropdown-toggle",type:"button","data-bs-toggle":"dropdown"},[t("i",{class:"fas fa-trash-alt"}),f(" Manage ")],-1)),t("ul",ft,[t("li",null,[t("button",{class:"dropdown-item text-danger",onClick:a[3]||(a[3]=(...s)=>e.clearAllBudgets&&e.clearAllBudgets(...s)),disabled:e.budgets.length===0},[...a[19]||(a[19]=[t("i",{class:"fas fa-trash-alt me-2"},null,-1),f("Clear All Budgets ",-1)])],8,gt)]),t("li",null,[t("button",{class:"dropdown-item",onClick:a[4]||(a[4]=(...s)=>e.exportBudgets&&e.exportBudgets(...s)),disabled:e.budgets.length===0},[...a[20]||(a[20]=[t("i",{class:"fas fa-download me-2"},null,-1),f("Export CSV ",-1)])],8,vt)]),a[22]||(a[22]=t("li",null,[t("hr",{class:"dropdown-divider"})],-1)),t("li",null,[t("button",{class:"dropdown-item",onClick:a[5]||(a[5]=(...s)=>e.resetBudgetPeriod&&e.resetBudgetPeriod(...s))},[...a[21]||(a[21]=[t("i",{class:"fas fa-sync-alt me-2"},null,-1),f("Reset Current Period ",-1)])])])])])])]),t("div",pt,[t("div",bt,[a[26]||(a[26]=t("div",{class:"col-md-8"},[t("p",{class:"text-muted mb-0"}," Plan and track your business expenses across different categories with quarterly forecasting. Monitor spending patterns and predict future financial needs based on historical data. ")],-1)),t("div",_t,[t("div",xt,[t("div",ht,[a[25]||(a[25]=t("small",{class:"text-muted"},"Total Budget",-1)),t("div",Bt,"৳"+i(e.formatNumber(e.totalBudget)),1)])])])])])]),a[52]||(a[52]=N('<div class="card mb-4 entrepreneur-guide" data-v-38f1d704><div class="card-header bg-warning-light" data-v-38f1d704><button class="btn btn-link text-warning p-0 w-100 text-start" type="button" data-bs-toggle="collapse" data-bs-target="#budgetGuide" aria-expanded="false" data-v-38f1d704><h6 class="mb-0" data-v-38f1d704><i class="fas fa-lightbulb me-2" data-v-38f1d704></i> Solo Entrepreneur Budget &amp; Forecasting Guide <i class="fas fa-chevron-down float-end mt-1" data-v-38f1d704></i></h6></button></div><div class="collapse" id="budgetGuide" data-v-38f1d704><div class="card-body" data-v-38f1d704><div class="row" data-v-38f1d704><div class="col-md-6" data-v-38f1d704><h6 class="text-primary mb-3" data-v-38f1d704><i class="fas fa-question-circle me-2" data-v-38f1d704></i> What is Budget Management? </h6><p class="mb-3 text-muted" data-v-38f1d704> Budget management helps you <strong data-v-38f1d704>plan and control spending</strong> by setting limits for different business categories and tracking actual expenses against those limits. </p><ul class="list-unstyled mb-4" data-v-38f1d704><li class="mb-2" data-v-38f1d704><i class="fas fa-check text-success me-2" data-v-38f1d704></i><strong data-v-38f1d704>Plan Ahead:</strong> Set spending limits for each category </li><li class="mb-2" data-v-38f1d704><i class="fas fa-check text-success me-2" data-v-38f1d704></i><strong data-v-38f1d704>Track Progress:</strong> Monitor actual vs budgeted amounts </li><li class="mb-2" data-v-38f1d704><i class="fas fa-check text-success me-2" data-v-38f1d704></i><strong data-v-38f1d704>Forecast Future:</strong> Predict next quarter&#39;s needs </li><li class="mb-2" data-v-38f1d704><i class="fas fa-check text-success me-2" data-v-38f1d704></i><strong data-v-38f1d704>Stay on Track:</strong> Get alerts when nearing limits </li></ul><h6 class="text-primary mb-3" data-v-38f1d704><i class="fas fa-crystal-ball me-2" data-v-38f1d704></i> Quarterly Forecasting Benefits </h6><ul class="list-unstyled" data-v-38f1d704><li class="mb-2" data-v-38f1d704><i class="fas fa-arrow-right text-info me-2" data-v-38f1d704></i> Plan for seasonal business changes </li><li class="mb-2" data-v-38f1d704><i class="fas fa-arrow-right text-info me-2" data-v-38f1d704></i> Prepare for equipment upgrades </li><li class="mb-2" data-v-38f1d704><i class="fas fa-arrow-right text-info me-2" data-v-38f1d704></i> Budget for marketing campaigns </li><li class="mb-2" data-v-38f1d704><i class="fas fa-arrow-right text-info me-2" data-v-38f1d704></i> Ensure adequate cash flow </li></ul></div><div class="col-md-6" data-v-38f1d704><h6 class="text-primary mb-3" data-v-38f1d704><i class="fas fa-user-tie me-2" data-v-38f1d704></i> Solo Business Budget Categories </h6><div class="budget-categories" data-v-38f1d704><div class="category-example mb-3" data-v-38f1d704><strong class="text-success d-block mb-2" data-v-38f1d704><i class="fas fa-laptop me-2" data-v-38f1d704></i>Technology &amp; Software </strong><small class="text-muted d-block" data-v-38f1d704> Hosting, domains, Adobe CC, Figma Pro, development tools, equipment repairs </small><div class="example-amounts mt-1" data-v-38f1d704><span class="badge bg-light text-dark" data-v-38f1d704>Q1: ৳15,000</span><span class="badge bg-light text-dark" data-v-38f1d704>Q2: ৳8,000</span></div></div><div class="category-example mb-3" data-v-38f1d704><strong class="text-info d-block mb-2" data-v-38f1d704><i class="fas fa-bullhorn me-2" data-v-38f1d704></i>Marketing &amp; Growth </strong><small class="text-muted d-block" data-v-38f1d704> Google Ads, Facebook Ads, content creation, networking events, conferences </small><div class="example-amounts mt-1" data-v-38f1d704><span class="badge bg-light text-dark" data-v-38f1d704>Q1: ৳20,000</span><span class="badge bg-light text-dark" data-v-38f1d704>Q2: ৳25,000</span></div></div><div class="category-example mb-3" data-v-38f1d704><strong class="text-warning d-block mb-2" data-v-38f1d704><i class="fas fa-building me-2" data-v-38f1d704></i>Operations &amp; Office </strong><small class="text-muted d-block" data-v-38f1d704> Electricity, internet, phone, office supplies, co-working space </small><div class="example-amounts mt-1" data-v-38f1d704><span class="badge bg-light text-dark" data-v-38f1d704>Q1: ৳12,000</span><span class="badge bg-light text-dark" data-v-38f1d704>Q2: ৳12,000</span></div></div></div><div class="alert alert-warning mt-3" data-v-38f1d704><strong data-v-38f1d704><i class="fas fa-star me-2" data-v-38f1d704></i>Pro Forecasting Tips: </strong><ul class="mb-0 mt-2" data-v-38f1d704><li data-v-38f1d704>Review last 6 months to predict next quarter</li><li data-v-38f1d704>Add 10-20% buffer for unexpected expenses</li><li data-v-38f1d704>Plan for seasonal changes in your business</li><li data-v-38f1d704>Set aside money for annual software renewals</li></ul></div></div></div></div></div></div>',1)),t("div",wt,[t("div",yt,[t("div",Ct,[a[28]||(a[28]=t("div",{class:"stat-icon bg-primary"},[t("i",{class:"fas fa-wallet"})],-1)),t("div",kt,[t("div",Ft,"৳"+i(e.formatNumber(e.currentQuarterSpent)),1),a[27]||(a[27]=t("div",{class:"stat-label"},"Current Quarter Spent",-1))])])]),t("div",At,[t("div",St,[a[30]||(a[30]=t("div",{class:"stat-icon bg-success"},[t("i",{class:"fas fa-chart-line"})],-1)),t("div",Pt,[t("div",Nt,"৳"+i(e.formatNumber(e.forecastNextQuarter)),1),a[29]||(a[29]=t("div",{class:"stat-label"},"Next Quarter Forecast",-1))])])]),t("div",Tt,[t("div",Dt,[a[32]||(a[32]=t("div",{class:"stat-icon bg-warning"},[t("i",{class:"fas fa-exclamation-triangle"})],-1)),t("div",Mt,[t("div",qt,i(e.nearLimitCount),1),a[31]||(a[31]=t("div",{class:"stat-label"},"Budgets Near Limit",-1))])])]),t("div",Qt,[t("div",Et,[a[34]||(a[34]=t("div",{class:"stat-icon bg-info"},[t("i",{class:"fas fa-calendar-alt"})],-1)),t("div",Ut,[t("div",Vt,i(e.daysLeftInQuarter),1),a[33]||(a[33]=t("div",{class:"stat-label"},"Days Left in Quarter",-1))])])])]),t("div",Lt,[(b(!0),p(T,null,tt(e.sortedBudgets,s=>(b(),p("div",{key:s.id,class:"col-lg-6 col-xl-4 mb-4"},[t("div",{class:x(["budget-card",e.getBudgetCardClass(s)])},[t("div",Ot,[t("div",Rt,[t("i",{class:x(s.icon||"fas fa-chart-pie")},null,2)]),t("div",It,[t("button",{onClick:v=>e.editBudget(s),class:"btn btn-sm btn-outline-primary",title:"Edit Budget"},[...a[35]||(a[35]=[t("i",{class:"fas fa-edit"},null,-1)])],8,Yt),t("button",{onClick:v=>e.viewBudgetDetails(s),class:"btn btn-sm btn-outline-info",title:"View Details"},[...a[36]||(a[36]=[t("i",{class:"fas fa-chart-bar"},null,-1)])],8,jt),t("button",{onClick:v=>e.deleteBudget(s),class:"btn btn-sm btn-outline-danger",title:"Delete Budget"},[...a[37]||(a[37]=[t("i",{class:"fas fa-trash"},null,-1)])],8,Gt)])]),t("div",zt,[t("h6",null,i(s.name),1),t("p",Ht,i(s.description||"No description"),1),t("div",Wt,[t("div",Jt,[t("small",null,"Used: ৳"+i(e.formatNumber(s.used_amount)),1),t("small",null,i(Math.round(s.used_amount/s.allocated_amount*100))+"%",1)]),t("div",Kt,[t("div",{class:x(["progress-bar",e.getProgressBarClass(s)]),style:at(`width: ${Math.min(s.used_amount/s.allocated_amount*100,100)}%`)},null,6)])]),t("div",Xt,[t("div",Zt,[t("div",$t,[a[38]||(a[38]=t("span",{class:"label"},"Allocated:",-1)),t("span",ta,"৳"+i(e.formatNumber(s.allocated_amount)),1)]),t("div",aa,[a[39]||(a[39]=t("span",{class:"label"},"Remaining:",-1)),t("span",{class:x(["value",s.remaining_amount<0?"text-danger":"text-success"])}," ৳"+i(e.formatNumber(s.remaining_amount)),3)]),s.forecast_next_quarter?(b(),p("div",ea,[a[40]||(a[40]=t("span",{class:"label"},"Next Quarter Forecast:",-1)),t("span",sa,"৳"+i(e.formatNumber(s.forecast_next_quarter)),1)])):F("",!0)])]),t("div",oa,[t("span",{class:x(["badge",e.getStatusBadgeClass(s)])},i(e.getBudgetStatus(s)),3)])])],2)]))),128)),e.budgets.length===0?(b(),p("div",na,[...a[41]||(a[41]=[t("div",{class:"text-center py-5"},[t("i",{class:"fas fa-chart-pie text-muted mb-3",style:{"font-size":"4rem"}}),t("h5",{class:"text-muted"},"No Budgets Created"),t("p",{class:"text-muted"},'Click "Create Budget" to set up your first budget category with forecasting.')],-1)])])):F("",!0)]),e.showCreateBudget||e.editingBudget?(b(),p("div",{key:0,class:"modal-overlay",onClick:a[16]||(a[16]=(...s)=>e.closeModal&&e.closeModal(...s))},[t("div",{class:"modal-content large-modal",onClick:a[15]||(a[15]=D(()=>{},["stop"]))},[t("div",la,[t("h5",null,i(e.editingBudget?"Edit":"Create")+" Budget",1),t("button",{onClick:a[6]||(a[6]=(...s)=>e.closeModal&&e.closeModal(...s)),class:"btn-close"},"×")]),t("div",ia,[t("form",{onSubmit:a[14]||(a[14]=D((...s)=>e.saveBudget&&e.saveBudget(...s),["prevent"]))},[t("div",ra,[t("div",da,[a[42]||(a[42]=t("label",{class:"form-label"},"Budget Name *",-1)),g(t("input",{"onUpdate:modelValue":a[7]||(a[7]=s=>e.budgetForm.name=s),type:"text",class:"form-control",required:"",placeholder:"e.g., Technology & Software"},null,512),[[w,e.budgetForm.name]])]),t("div",ca,[a[43]||(a[43]=t("label",{class:"form-label"},"Quarterly Amount (BDT) *",-1)),g(t("input",{"onUpdate:modelValue":a[8]||(a[8]=s=>e.budgetForm.allocated_amount=s),type:"number",class:"form-control",step:"0.01",min:"0",required:"",placeholder:"15000.00"},null,512),[[w,e.budgetForm.allocated_amount,void 0,{number:!0}]])])]),t("div",ua,[t("div",ma,[a[45]||(a[45]=t("label",{class:"form-label"},"Category Icon",-1)),g(t("select",{"onUpdate:modelValue":a[9]||(a[9]=s=>e.budgetForm.icon=s),class:"form-select"},[...a[44]||(a[44]=[N('<option value="fas fa-chart-pie" data-v-38f1d704>Chart Pie (Default)</option><option value="fas fa-laptop" data-v-38f1d704>Technology &amp; Software</option><option value="fas fa-bullhorn" data-v-38f1d704>Marketing &amp; Advertising</option><option value="fas fa-building" data-v-38f1d704>Office &amp; Operations</option><option value="fas fa-car" data-v-38f1d704>Travel &amp; Transportation</option><option value="fas fa-graduation-cap" data-v-38f1d704>Education &amp; Training</option><option value="fas fa-handshake" data-v-38f1d704>Professional Services</option><option value="fas fa-shield-alt" data-v-38f1d704>Insurance &amp; Legal</option><option value="fas fa-cogs" data-v-38f1d704>Equipment &amp; Maintenance</option><option value="fas fa-users" data-v-38f1d704>Outsourcing &amp; Contractors</option>',10)])],512),[[A,e.budgetForm.icon]])]),t("div",fa,[a[47]||(a[47]=t("label",{class:"form-label"},"Auto-Forecast Next Quarter",-1)),g(t("select",{"onUpdate:modelValue":a[10]||(a[10]=s=>e.budgetForm.auto_forecast=s),class:"form-select"},[...a[46]||(a[46]=[t("option",{value:"1"},"Yes - Based on current usage",-1),t("option",{value:"0"},"No - Manual planning only",-1)])],512),[[A,e.budgetForm.auto_forecast]])])]),t("div",ga,[a[48]||(a[48]=t("label",{class:"form-label"},"Description",-1)),g(t("textarea",{"onUpdate:modelValue":a[11]||(a[11]=s=>e.budgetForm.description=s),class:"form-control",rows:"3",placeholder:"What expenses will this budget cover?"},null,512),[[w,e.budgetForm.description]])]),t("div",va,[a[49]||(a[49]=t("label",{class:"form-label"},"Budget Notes",-1)),g(t("textarea",{"onUpdate:modelValue":a[12]||(a[12]=s=>e.budgetForm.notes=s),class:"form-control",rows:"2",placeholder:"Internal notes about this budget category"},null,512),[[w,e.budgetForm.notes]])]),a[51]||(a[51]=t("div",{class:"alert alert-info"},[t("h6",null,[t("i",{class:"fas fa-crystal-ball me-2"}),f("Forecasting Information")]),t("p",{class:"mb-0"},"The system will analyze your historical spending in this category and automatically suggest budget amounts for next quarter. You can always adjust these suggestions manually.")],-1)),t("div",pa,[t("button",{type:"button",onClick:a[13]||(a[13]=(...s)=>e.closeModal&&e.closeModal(...s)),class:"btn btn-secondary"}," Cancel "),t("button",{type:"submit",class:"btn btn-primary",disabled:e.saving},[a[50]||(a[50]=t("i",{class:"fas fa-save"},null,-1)),f(" "+i(e.saving?"Saving...":"Save Budget"),1)],8,ba)])],32)])])])):F("",!0)])])])],64)}const ya=ot(nt,[["render",_a],["__scopeId","data-v-38f1d704"]]);export{ya as default};
