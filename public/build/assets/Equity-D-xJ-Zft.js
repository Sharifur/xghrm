import{A as V}from"./AdminMaster-CXZjJI1l.js";import{H as F,r as P,c,o as u,a as O,b as t,d as _,h as q,f as y,F as T,p as R,n as H,t as f,w as S,e as b,i as x,A as B,l as p,y as L,B as W,C as G,x as C}from"./app-DFdneysv.js";import{S as g}from"./sweetalert2.esm.all-Y6IUEg8t.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";const z={layout:V,name:"Equity",components:{Head:F},props:{equity:Array},setup(E){const a=p(!1),n=p(null),s=p(!1),r=p([...E.equity]),k=L(()=>r.value.sort((d,i)=>i.id-d.id)),o=W({name:"",description:"",default_amount:0,icon:"fas fa-chart-line",tooltip:"",currency:"BDT"}),e=120,v=p("BDT");G(()=>o.currency,d=>{const i=v.value;i&&o.default_amount!==0&&i!==d&&(i==="BDT"&&d==="USD"?o.default_amount=Number((o.default_amount/e).toFixed(2)):i==="USD"&&d==="BDT"&&(o.default_amount=Number((o.default_amount*e).toFixed(2)))),v.value=d});const M=d=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(d||0),A=()=>{o.name="",o.description="",o.default_amount=0,o.icon="fas fa-chart-line",o.tooltip="",o.currency="BDT",v.value="BDT"},U=d=>{n.value=d,o.name=d.name,o.description=d.description,o.default_amount=d.default_amount,o.icon=d.icon,o.tooltip=d.tooltip,o.currency=d.currency||"BDT",v.value=d.currency||"BDT"},D=()=>{a.value=!1,n.value=null,A()};return{equity:r,sortedEquity:k,showAddModal:a,editingEquity:n,saving:s,form:o,USD_TO_BDT_RATE:e,formatNumber:M,editEquity:U,closeModal:D,saveEquity:async()=>{var d,i;s.value=!0;try{const m=n.value?route("admin.finance.equity.update",n.value.id):route("admin.finance.equity.store"),h=n.value?"put":"post",l=await C[h](m,o);if(l.data.success){if(n.value){const w=r.value.findIndex(N=>N.id===n.value.id);r.value[w]=l.data.equity}else r.value.push(l.data.equity);D(),g.fire({title:"Success!",text:l.data.message,icon:"success",confirmButtonColor:"#17a2b8",timer:3e3,timerProgressBar:!0})}}catch(m){console.error("Save failed:",m),g.fire({title:"Error!",text:((i=(d=m.response)==null?void 0:d.data)==null?void 0:i.message)||"Failed to save equity item",icon:"error",confirmButtonColor:"#e74a3b"})}finally{s.value=!1}},deleteEquity:async d=>{var m,h;if((await g.fire({title:"Are you sure?",text:"You want to delete this equity item? This will remove it from all balance sheets.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#e74a3b",cancelButtonColor:"#6c757d",confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel"})).isConfirmed)try{const l=await C.delete(route("admin.finance.equity.delete",d));l.data.success&&(r.value=r.value.filter(w=>w.id!==d),g.fire({title:"Deleted!",text:l.data.message,icon:"success",confirmButtonColor:"#17a2b8",timer:3e3,timerProgressBar:!0}))}catch(l){console.error("Delete failed:",l),g.fire({title:"Error!",text:((h=(m=l.response)==null?void 0:m.data)==null?void 0:h.message)||"Failed to delete equity item",icon:"error",confirmButtonColor:"#e74a3b"})}}}}},Y={class:"row"},K={class:"col-lg-12"},J={class:"dashboard-settings margin-top-40"},Q={class:"card mb-4"},X={class:"card-header d-flex justify-content-between align-items-center"},Z={class:"row"},I={class:"equity-card"},$={class:"equity-header"},tt={class:"equity-icon"},at={class:"equity-actions"},st=["onClick"],et=["onClick"],dt={class:"equity-content"},ot={class:"equity-description"},it={class:"equity-amount"},lt={class:"amount"},nt={key:0,class:"d-block mt-1 text-muted",style:{"font-size":"0.75rem"}},rt={key:0,class:"col-12"},ct={class:"modal-header"},ut={class:"modal-body"},ft={class:"row"},mt={class:"col-md-6 mb-3"},vt={class:"col-md-6 mb-3"},yt={class:"input-group"},bt={key:0,class:"form-text text-info"},pt={key:1,class:"form-text text-muted"},gt={class:"mb-3"},ht={class:"mb-3"},xt={class:"mb-3"},wt={class:"d-flex justify-content-end gap-2"},qt=["disabled"];function Et(E,a,n,s,r,k){const o=P("Head");return u(),c(T,null,[O(o,{title:"Equity Management"}),t("div",Y,[t("div",K,[t("div",J,[t("div",Q,[t("div",X,[a[13]||(a[13]=t("h4",{class:"mb-0"},[t("i",{class:"fas fa-chart-line me-2"}),y(" Equity Management ")],-1)),t("button",{onClick:a[0]||(a[0]=e=>s.showAddModal=!0),class:"btn btn-info"},[...a[12]||(a[12]=[t("i",{class:"fas fa-plus"},null,-1),y(" Add Equity Item ",-1)])])]),a[14]||(a[14]=t("div",{class:"card-body"},[t("p",{class:"text-muted"}," Manage your company equity including owner investments, retained earnings, and profit distributions. These items represent the owner's stake in the company. ")],-1))]),a[30]||(a[30]=_('<div class="card mb-4 entrepreneur-guide" data-v-11fc81dd><div class="card-header bg-info-light" data-v-11fc81dd><h6 class="text-info mb-0" data-v-11fc81dd><button class="btn btn-link text-info p-0 text-decoration-none w-100 text-start" type="button" data-bs-toggle="collapse" data-bs-target="#equityGuide" aria-expanded="false" aria-controls="equityGuide" data-v-11fc81dd><i class="fas fa-lightbulb me-2" data-v-11fc81dd></i> Single Company Owner Equity Guide <i class="fas fa-chevron-down float-end mt-1" data-v-11fc81dd></i></button></h6></div><div id="equityGuide" class="collapse" data-v-11fc81dd><div class="card-body" data-v-11fc81dd><div class="row" data-v-11fc81dd><div class="col-md-6" data-v-11fc81dd><h6 class="text-primary mb-3" data-v-11fc81dd><i class="fas fa-question-circle me-2" data-v-11fc81dd></i> What is Owner&#39;s Equity? </h6><p class="mb-3 text-muted" data-v-11fc81dd> As a solo entrepreneur, equity represents <strong data-v-11fc81dd>your ownership stake</strong> in the business. It&#39;s essentially what you&#39;ve put into the business minus what you&#39;ve taken out. </p><ul class="list-unstyled mb-4" data-v-11fc81dd><li class="mb-2" data-v-11fc81dd><i class="fas fa-plus text-success me-2" data-v-11fc81dd></i><strong data-v-11fc81dd>Owner Investment:</strong> Money you&#39;ve put into the business </li><li class="mb-2" data-v-11fc81dd><i class="fas fa-plus text-success me-2" data-v-11fc81dd></i><strong data-v-11fc81dd>Retained Earnings:</strong> Profits kept in the business </li><li class="mb-2" data-v-11fc81dd><i class="fas fa-minus text-danger me-2" data-v-11fc81dd></i><strong data-v-11fc81dd>Owner Withdrawals:</strong> Money you&#39;ve taken out </li><li class="mb-2" data-v-11fc81dd><i class="fas fa-minus text-danger me-2" data-v-11fc81dd></i><strong data-v-11fc81dd>Business Losses:</strong> Reduces your equity </li></ul><div class="alert alert-info" data-v-11fc81dd><strong data-v-11fc81dd><i class="fas fa-calculator me-2" data-v-11fc81dd></i>Simple Formula: </strong><br data-v-11fc81dd><code class="text-dark" data-v-11fc81dd>Owner&#39;s Equity = Assets - Liabilities</code><br data-v-11fc81dd><small class="mt-1 d-block" data-v-11fc81dd>This shows your true ownership value in the business.</small></div></div><div class="col-md-6" data-v-11fc81dd><h6 class="text-primary mb-3" data-v-11fc81dd><i class="fas fa-user-tie me-2" data-v-11fc81dd></i> Solo Business Equity Examples </h6><div class="equity-examples" data-v-11fc81dd><div class="example-category mb-3 positive" data-v-11fc81dd><strong class="text-success d-block mb-2" data-v-11fc81dd><i class="fas fa-arrow-up me-2" data-v-11fc81dd></i>Positive Equity (Increases Value) </strong><ul class="list-unstyled small text-muted mb-0" data-v-11fc81dd><li data-v-11fc81dd>• Initial $10,000 investment to start business</li><li data-v-11fc81dd>• Purchased laptop and equipment for business</li><li data-v-11fc81dd>• Monthly profits reinvested in business growth</li><li data-v-11fc81dd>• Earnings from Webflow templates &amp; Shopify apps</li></ul></div><div class="example-category mb-3 negative" data-v-11fc81dd><strong class="text-danger d-block mb-2" data-v-11fc81dd><i class="fas fa-arrow-down me-2" data-v-11fc81dd></i>Negative Equity (Decreases Value) </strong><ul class="list-unstyled small text-muted mb-0" data-v-11fc81dd><li data-v-11fc81dd>• Owner draws/salary you pay yourself</li><li data-v-11fc81dd>• Business losses during tough months</li><li data-v-11fc81dd>• Large equipment purchases (temporary)</li><li data-v-11fc81dd>• Emergency cash withdrawals</li></ul></div></div><h6 class="text-primary mb-3 mt-4" data-v-11fc81dd><i class="fas fa-chart-line me-2" data-v-11fc81dd></i> Why Track Equity? </h6><ul class="list-unstyled" data-v-11fc81dd><li class="mb-2" data-v-11fc81dd><i class="fas fa-arrow-right text-info me-2" data-v-11fc81dd></i> See how much your business is truly worth </li><li class="mb-2" data-v-11fc81dd><i class="fas fa-arrow-right text-info me-2" data-v-11fc81dd></i> Track your return on investment </li><li class="mb-2" data-v-11fc81dd><i class="fas fa-arrow-right text-info me-2" data-v-11fc81dd></i> Plan for future investments or withdrawals </li><li class="mb-2" data-v-11fc81dd><i class="fas fa-arrow-right text-info me-2" data-v-11fc81dd></i> Prepare accurate financial statements </li></ul></div></div><div class="row mt-4" data-v-11fc81dd><div class="col-12" data-v-11fc81dd><div class="alert alert-warning" data-v-11fc81dd><strong data-v-11fc81dd><i class="fas fa-star me-2" data-v-11fc81dd></i>Pro Tips for Solo Entrepreneurs: </strong><div class="row mt-2" data-v-11fc81dd><div class="col-md-6" data-v-11fc81dd><ul class="mb-0" data-v-11fc81dd><li data-v-11fc81dd><strong data-v-11fc81dd>Keep it Simple:</strong> Track major investments and withdrawals</li><li data-v-11fc81dd><strong data-v-11fc81dd>Regular Reviews:</strong> Check equity monthly to see business growth</li></ul></div><div class="col-md-6" data-v-11fc81dd><ul class="mb-0" data-v-11fc81dd><li data-v-11fc81dd><strong data-v-11fc81dd>Separate Funds:</strong> Don&#39;t mix personal and business money</li><li data-v-11fc81dd><strong data-v-11fc81dd>Plan Withdrawals:</strong> Avoid taking out too much too quickly</li></ul></div></div></div></div></div></div></div></div>',1)),t("div",Z,[(u(!0),c(T,null,R(s.sortedEquity,e=>(u(),c("div",{key:e.id,class:"col-lg-4 col-md-6 mb-4"},[t("div",I,[t("div",$,[t("div",tt,[t("i",{class:H(e.icon||"fas fa-chart-line")},null,2)]),t("div",at,[t("button",{onClick:v=>s.editEquity(e),class:"btn btn-sm btn-outline-primary"},[...a[15]||(a[15]=[t("i",{class:"fas fa-edit"},null,-1)])],8,st),t("button",{onClick:v=>s.deleteEquity(e.id),class:"btn btn-sm btn-outline-danger"},[...a[16]||(a[16]=[t("i",{class:"fas fa-trash"},null,-1)])],8,et)])]),t("div",dt,[t("h5",null,f(e.name),1),t("p",ot,f(e.description||"No description"),1),t("div",it,[a[17]||(a[17]=t("small",{class:"text-muted"},"Default Value",-1)),t("div",lt,[y(" ৳"+f(s.formatNumber(e.currency==="USD"?e.default_amount*s.USD_TO_BDT_RATE:e.default_amount))+" ",1),e.currency==="USD"?(u(),c("small",nt," ($"+f(s.formatNumber(e.default_amount))+" USD) ",1)):q("",!0)])])])])]))),128)),s.equity.length===0?(u(),c("div",rt,[...a[18]||(a[18]=[t("div",{class:"text-center py-5"},[t("i",{class:"fas fa-chart-line text-muted mb-3",style:{"font-size":"4rem"}}),t("h5",{class:"text-muted"},"No Equity Items Found"),t("p",{class:"text-muted"},'Click "Add Equity Item" to create your first equity category.')],-1)])])):q("",!0)]),s.showAddModal||s.editingEquity?(u(),c("div",{key:0,class:"modal-overlay",onClick:a[11]||(a[11]=(...e)=>s.closeModal&&s.closeModal(...e))},[t("div",{class:"modal-content",onClick:a[10]||(a[10]=S(()=>{},["stop"]))},[t("div",ct,[t("h5",null,f(s.editingEquity?"Edit":"Add")+" Equity Item",1),t("button",{onClick:a[1]||(a[1]=(...e)=>s.closeModal&&s.closeModal(...e)),class:"btn-close"},"×")]),t("div",ut,[t("form",{onSubmit:a[9]||(a[9]=S((...e)=>s.saveEquity&&s.saveEquity(...e),["prevent"]))},[t("div",ft,[t("div",mt,[a[19]||(a[19]=t("label",{class:"form-label"},"Equity Name *",-1)),b(t("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>s.form.name=e),type:"text",class:"form-control",required:"",placeholder:"e.g., Owner Investment, Retained Earnings"},null,512),[[x,s.form.name]])]),t("div",vt,[a[23]||(a[23]=t("label",{class:"form-label"},"Default Amount",-1)),t("div",yt,[b(t("select",{"onUpdate:modelValue":a[3]||(a[3]=e=>s.form.currency=e),class:"input-group-text",style:{"border-right":"0",background:"#e9ecef"}},[...a[20]||(a[20]=[t("option",{value:"BDT"},"৳",-1),t("option",{value:"USD"},"$",-1)])],512),[[B,s.form.currency]]),b(t("input",{"onUpdate:modelValue":a[4]||(a[4]=e=>s.form.default_amount=e),type:"number",class:"form-control",step:"0.01",placeholder:"0.00"},null,512),[[x,s.form.default_amount,void 0,{number:!0}]])]),s.form.currency==="USD"?(u(),c("div",bt,[t("small",null,[a[21]||(a[21]=t("i",{class:"fas fa-exchange-alt me-1"},null,-1)),y(" Converted: ৳"+f(s.formatNumber(Math.abs(s.form.default_amount)*s.USD_TO_BDT_RATE))+" BDT (1 USD = "+f(s.USD_TO_BDT_RATE)+" BDT) ",1)])])):(u(),c("div",pt,[...a[22]||(a[22]=[t("small",null,"Can be negative for distributions/losses",-1)])]))])]),t("div",gt,[a[25]||(a[25]=t("label",{class:"form-label"},"Icon",-1)),b(t("select",{"onUpdate:modelValue":a[5]||(a[5]=e=>s.form.icon=e),class:"form-select"},[...a[24]||(a[24]=[_('<option value="fas fa-chart-line" data-v-11fc81dd>Chart Line (Default)</option><option value="fas fa-user-tie" data-v-11fc81dd>Owner Investment</option><option value="fas fa-piggy-bank" data-v-11fc81dd>Retained Earnings</option><option value="fas fa-trophy" data-v-11fc81dd>Profits</option><option value="fas fa-handshake" data-v-11fc81dd>Partnership Capital</option><option value="fas fa-coins" data-v-11fc81dd>Paid-in Capital</option><option value="fas fa-chart-pie" data-v-11fc81dd>Equity Distribution</option><option value="fas fa-balance-scale" data-v-11fc81dd>Common Stock</option><option value="fas fa-star" data-v-11fc81dd>Preferred Stock</option><option value="fas fa-minus-circle" data-v-11fc81dd>Treasury Stock</option>',10)])],512),[[B,s.form.icon]])]),t("div",ht,[a[26]||(a[26]=t("label",{class:"form-label"},"Description",-1)),b(t("textarea",{"onUpdate:modelValue":a[6]||(a[6]=e=>s.form.description=e),class:"form-control",rows:"3",placeholder:"Describe this equity category"},null,512),[[x,s.form.description]])]),t("div",xt,[a[27]||(a[27]=t("label",{class:"form-label"},"Tooltip (Help Text)",-1)),b(t("input",{"onUpdate:modelValue":a[7]||(a[7]=e=>s.form.tooltip=e),type:"text",class:"form-control",placeholder:"Help text shown to users"},null,512),[[x,s.form.tooltip]])]),a[29]||(a[29]=t("div",{class:"alert alert-info"},[t("i",{class:"fas fa-info-circle me-2"}),t("strong",null,"Note:"),y(" Equity can be positive (owner investment, profits) or negative (distributions, losses). ")],-1)),t("div",wt,[t("button",{type:"button",onClick:a[8]||(a[8]=(...e)=>s.closeModal&&s.closeModal(...e)),class:"btn btn-secondary"}," Cancel "),t("button",{type:"submit",class:"btn btn-info",disabled:s.saving},[a[28]||(a[28]=t("i",{class:"fas fa-save"},null,-1)),y(" "+f(s.saving?"Saving...":"Save"),1)],8,qt)])],32)])])])):q("",!0)])])])],64)}const Ct=j(z,[["render",Et],["__scopeId","data-v-11fc81dd"]]);export{Ct as default};
