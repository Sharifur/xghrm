import{L as E,H as F,K as M,l as s,u as N,m as P,c as y,a as c,b as a,w as j,e as n,t as o,g as T,h as G,F as L,x as I,r as d,o as D,p as K,n as U}from"./app-RrRrrMtY.js";import{A as z}from"./AdminMaster-upIi9uLN.js";import{S as O}from"./Select-z8nEou51.js";import{B as X}from"./Button-0oI3-S2_.js";import{s as Y}from"./vue3-datepicker.esm-lWCF35Rg.js";import{V as q}from"./ValidationErrors-qkK8fPvR.js";import{S}from"./sweetalert2.all-dJWsu-1m.js";import{_ as J}from"./_plugin-vue_export-helper-x3n3nnut.js";const Q={name:"AttendanceCheck",layout:z,components:{BsSelect:O,BsButton:X,Datepicker:Y,ValidationErrors:q,Link:E,Head:F,Select:O,VueDatePicker:M},setup(){const k=s(0),l=s(0),C=s(0),e=s(0),b=s(0),w=s(0),m=s(0),h=s(0),u=s(0),p=s(0),f=s(!1),r=s([]),i=N().props.value.allEmployees,v=P({employee_id:null,startDate:new Date,endDate:new Date});function W(){I.post(route("admin.employee.attendance.post"),{...v}).then(t=>{let A=t.data.logs;if(Object.keys(A).length>0){let x=A,H=[];Object.keys(x).forEach(function(B){let V=x[B];Object.keys(V).forEach(_=>{_!=="dateTime"&&H.push({key:`${_}-${Math.random()}`,customData:{title:`${_.replaceAll("_"," ")}: ${V[_]}`,class:_},dates:new Date(V.dateTime)})})}),r.value=H,f.value=!0,k.value=t.data.holidayCount,l.value=t.data.leaveCount,C.value=t.data.OfficeDays,e.value=t.data.sickLeaveCount,b.value=t.data.paidLeaveCount,w.value=t.data.workFormHome,m.value=t.data.avgOfficeWorkingHours,h.value=t.data.daysWithCompleteData,u.value=t.data.lateArrivalCount,p.value=t.data.officeWorkingDays}else S.fire("Error!","NO Data found for selected Dates","warning")}).catch(t=>{S.fire("Error!",t.message,"warning")})}new Date().getMonth(),new Date().getFullYear();function g(){return{masks:{weekdays:"WWW"},attributes:r.value}}return{employeeData:v,getAttendanceDetails:W,employeeList:i,CalendarData:g,attendanceShow:f,CalendarAttributes:r,holidayCount:k,leaveCount:l,OfficeDays:C,sickLeaveCount:e,paidLeaveCount:b,workFormHome:w,officeWorkingDays:p,avgOfficeWorkingHours:m,daysWithCompleteData:h,lateArrivalCount:u}}},R={class:"row"},Z={class:"col-lg-12"},$={class:"dashboard-settings margin-top-40"},aa=a("div",{class:"header-wrap d-flex justify-content-between"},[a("h2",{class:"dashboards-title"},"Attendance Check test")],-1),ea={class:"edit-profile"},ta={class:"profile-info-dashboard"},sa={class:"dashboard-profile-flex"},oa={class:"dashboard-address-details"},na={class:"single-dashboard-input"},la={class:"single-info-input margin-top-30"},ia=a("label",{class:"info-title"}," Select Month ",-1),ca=a("span",null,"any date you select in this calendar, system will get data for the selected date month",-1),da={class:"btn-wrapper margin-top-35"},ra={key:0,class:"cleardar-wrapper"},_a={class:"head-rapw margin-top-40"},ma=a("h4",null,"Color Explanation",-1),ha={class:"color-explanation"},ua={class:"holiday"},pa={class:"badge"},fa={class:"leave"},va={class:"badge"},ga={class:"C/In"},ya={class:"badge"},Da={class:"sick-leave"},ka={class:"badge"},Ca={class:"paid-leave"},ba={class:"badge"},wa={class:"work-from-home"},Wa={class:"badge"},Va={class:"avgOfficeWorkingHours"},Aa={class:"badge"},xa={class:"daysWithCompleteData"},Ha={class:"badge"},La={class:"daysWithCompleteData"},Oa={class:"badge"},Sa={class:"officeWorkingDays"},Ba={class:"badge"},Ea={class:"date-box-wrapper"},Fa={class:"day-label"},Ma={class:"custom-data-wrapper"};function Na(k,l,C,e,b,w){const m=d("Head"),h=d("ValidationErrors"),u=d("VueDatePicker"),p=d("Select"),f=d("BsButton"),r=d("Calendar");return D(),y(L,null,[c(m,{title:"Employee Attendance Check - Xgenious"}),a("div",R,[a("div",Z,[a("div",$,[aa,a("div",ea,[a("div",ta,[c(h),a("div",sa,[a("div",oa,[a("form",{onSubmit:l[2]||(l[2]=j(()=>{},["prevent"]))},[a("div",na,[a("div",la,[ia,c(u,{modelValue:e.employeeData.startDate,"onUpdate:modelValue":l[0]||(l[0]=i=>e.employeeData.startDate=i)},null,8,["modelValue"]),ca])]),c(p,{title:"Employee",modelValue:e.employeeData.employee_id,"onUpdate:modelValue":l[1]||(l[1]=i=>e.employeeData.employee_id=i),options:e.employeeList},null,8,["modelValue","options"]),a("div",da,[c(f,{"button-text":"Get Details",onClick:e.getAttendanceDetails,classes:"cmn-btn btn-bg-1"},null,8,["onClick"])])],32)])])])]),e.attendanceShow?(D(),y("div",ra,[a("div",_a,[ma,a("ul",ha,[a("li",ua,[n("Holiday"),a("span",pa,o(e.holidayCount),1)]),a("li",fa,[n("leave"),a("span",va,o(e.leaveCount),1)]),a("li",ga,[n("OfficeDays"),a("span",ya,o(e.OfficeDays),1)]),a("li",Da,[n("Sick Leave"),a("span",ka,o(e.sickLeaveCount),1)]),a("li",Ca,[n("Paid Leave"),a("span",ba,o(e.paidLeaveCount),1)]),a("li",wa,[n("Work From Home"),a("span",Wa,o(e.workFormHome),1)]),a("li",Va,[n("Avg Office Working Hours"),a("span",Aa,o(e.avgOfficeWorkingHours)+" hr",1)]),a("li",xa,[n("Days With Complete Data"),a("span",Ha,o(e.daysWithCompleteData)+" days",1)]),a("li",La,[n("Late Arrival Count"),a("span",Oa,o(e.lateArrivalCount)+" days",1)]),a("li",Sa,[n("Office Working Days"),a("span",Ba,o(e.officeWorkingDays)+" days",1)])])]),c(r,{class:"custom-calendar-outer-wrap",masks:e.CalendarData().masks,attributes:e.CalendarData().attributes,"disable-page-swipe":"","is-expanded":""},{"day-content":T(({day:i,attributes:v})=>[a("div",Ea,[a("span",Fa,o(i.day),1),a("div",Ma,[(D(!0),y(L,null,K(v,({key:W,customData:g})=>(D(),y("p",{key:W,class:U(["data-item",g.class])},o(g.title),3))),128))])])]),_:1},8,["masks","attributes"])])):G("",!0)])])])],64)}const Xa=J(Q,[["render",Na]]);export{Xa as default};
