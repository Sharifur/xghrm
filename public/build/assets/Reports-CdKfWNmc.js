import{A as ne}from"./AdminMaster-B-YC6P5R.js";import{H as oe,r as le,c,o as m,a as ie,b as e,d as j,h as k,f as v,e as u,A as R,t as d,F as S,p as B,n as C,$ as de,w as D,i as g,l as P,B as I,y as _,D as re}from"./app-B_Bg3H0j.js";import{S as f}from"./sweetalert2.esm.all-Y6IUEg8t.js";import{_ as ce}from"./_plugin-vue_export-helper-DlAUqK2U.js";const me={layout:ne,name:"Reports",components:{Head:oe},props:{clients:Array,revenues:Array},setup(M){const t=P("current"),T=P(!1),n=P(!1),w=P(!1),x=P([...M.clients||[]]),i=P([...M.revenues||[]]),a=I({name:"",email:"",phone:"",payment_terms:"net_30",notes:""}),b=I({client_id:"",service_type:"web_development",amount:0,status:"paid",expected_date:"",invoice_date:"",description:"",notes:""}),O=_(()=>i.value.filter(s=>s.status==="paid"&&new Date(s.created_at).getMonth()===new Date().getMonth()).reduce((s,o)=>s+o.amount,0)),L=_(()=>i.value.filter(s=>s.status==="paid").reduce((s,o)=>s+o.amount,0)),F=_(()=>i.value.filter(s=>s.status==="pending"||s.status==="overdue").reduce((s,o)=>s+o.amount,0)),W=_(()=>i.value.filter(s=>s.service_type==="shopify_app"&&s.status==="paid").reduce((s,o)=>s+o.amount,0)),q=_(()=>i.value.filter(o=>o.status==="paid"&&new Date(o.created_at).getMonth()===new Date().getMonth()-1).reduce((o,l)=>o+l.amount,0)*1.1+F.value*.8),G=_(()=>{const s={};return i.value.filter(o=>o.status==="paid").forEach(o=>{s[o.service_type]||(s[o.service_type]={amount:0,count:0}),s[o.service_type].amount+=o.amount,s[o.service_type].count+=1}),Object.entries(s).map(([o,l])=>({type:N(o),amount:l.amount,count:l.count,icon:E(o),color:z(o)})).sort((o,l)=>l.amount-o.amount)}),Y=_(()=>{const s={};return i.value.filter(o=>o.status==="paid").forEach(o=>{s[o.client_id]||(s[o.client_id]={total_revenue:0,last_payment_date:null,pending:0}),s[o.client_id].total_revenue+=o.amount,(!s[o.client_id].last_payment_date||o.created_at>s[o.client_id].last_payment_date)&&(s[o.client_id].last_payment_date=o.created_at)}),i.value.filter(o=>o.status==="pending"||o.status==="overdue").forEach(o=>{s[o.client_id]&&(s[o.client_id].pending+=o.amount)}),x.value.map(o=>{var l,r,p;return{...o,total_revenue:((l=s[o.id])==null?void 0:l.total_revenue)||0,last_payment_date:A((r=s[o.id])==null?void 0:r.last_payment_date),pending:((p=s[o.id])==null?void 0:p.pending)||0}}).filter(o=>o.total_revenue>0).sort((o,l)=>l.total_revenue-o.total_revenue).slice(0,10)}),y=_(()=>i.value.filter(s=>s.status==="pending"||s.status==="overdue").map(s=>{var o;return{...s,client_name:((o=x.value.find(l=>l.id===s.client_id))==null?void 0:o.name)||"Unknown Client",service_icon:E(s.service_type),expected_date:A(s.expected_date)}}).sort((s,o)=>new Date(s.expected_date)-new Date(o.expected_date))),h=s=>new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}).format(s||0),N=s=>({webflow_template:"Webflow Templates",shopify_app:"Shopify Apps",web_development:"Web Development",consulting:"Consulting",maintenance:"Maintenance",other:"Other Services"})[s]||s,E=s=>({webflow_template:"fas fa-globe",shopify_app:"fas fa-shopping-cart",web_development:"fas fa-code",consulting:"fas fa-handshake",maintenance:"fas fa-cogs",other:"fas fa-star"})[s]||"fas fa-star",z=s=>({webflow_template:"bg-success",shopify_app:"bg-info",web_development:"bg-primary",consulting:"bg-warning",maintenance:"bg-secondary",other:"bg-dark"})[s]||"bg-secondary",A=s=>s?new Date(s).toLocaleDateString():"N/A",H=s=>s.status==="overdue"?"payment-overdue":new Date(s.expected_date)<new Date?"payment-due-soon":"",K=s=>s.status==="overdue"?"bg-danger":new Date(s.expected_date)<new Date?"bg-warning":"bg-success",Q=s=>s.status==="overdue"?"Overdue":new Date(s.expected_date)<new Date?"Due Soon":"On Track",U=()=>{T.value=!1,Object.keys(a).forEach(s=>{a[s]=s==="payment_terms"?"net_30":""})},V=()=>{n.value=!1,Object.keys(b).forEach(s=>{s==="service_type"?b[s]="web_development":s==="status"?b[s]="paid":s==="amount"?b[s]=0:b[s]=""})},J=async()=>{w.value=!0;try{const s={...a,id:Date.now()};x.value.push(s),U(),f.fire({title:"Success!",text:"Client added successfully",icon:"success",confirmButtonColor:"#28a745",timer:3e3,timerProgressBar:!0})}catch{f.fire({title:"Error!",text:"Failed to save client",icon:"error",confirmButtonColor:"#e74a3b"})}finally{w.value=!1}},X=async()=>{w.value=!0;try{const s={...b,id:Date.now(),created_at:new Date().toISOString()};i.value.push(s),V(),f.fire({title:"Success!",text:"Revenue logged successfully",icon:"success",confirmButtonColor:"#007bff",timer:3e3,timerProgressBar:!0})}catch{f.fire({title:"Error!",text:"Failed to save revenue",icon:"error",confirmButtonColor:"#e74a3b"})}finally{w.value=!1}},Z=async s=>{if((await f.fire({title:"Mark as Paid?",text:`Mark payment of ৳${h(s.amount)} as received?`,icon:"question",showCancelButton:!0,confirmButtonColor:"#28a745",cancelButtonColor:"#6c757d",confirmButtonText:"Yes, mark as paid!"})).isConfirmed){const l=i.value.findIndex(r=>r.id===s.id);l!==-1&&(i.value[l].status="paid",i.value[l].paid_date=new Date().toISOString(),f.fire({title:"Payment Recorded!",text:"Payment has been marked as paid",icon:"success",confirmButtonColor:"#28a745",timer:3e3,timerProgressBar:!0}))}},$=async s=>{f.fire({title:"Reminder Sent!",text:`Payment reminder sent to ${s.client_name}`,icon:"success",confirmButtonColor:"#007bff",timer:3e3,timerProgressBar:!0})},ee=()=>{console.log("Period changed to:",t.value)},te=async s=>{if((await f.fire({title:"Remove Pending Payment?",text:`Remove pending payment of ৳${h(s.amount)} from ${s.client_name}?`,html:`
                    <div class="text-left">
                        <p><strong>Client:</strong> ${s.client_name}</p>
                        <p><strong>Amount:</strong> ৳${h(s.amount)}</p>
                        <p><strong>Service:</strong> ${N(s.service_type)}</p>
                        <p><strong>Expected Date:</strong> ${s.expected_date}</p>
                    </div>
                `,icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc3545",cancelButtonColor:"#6c757d",confirmButtonText:"Yes, remove it!"})).isConfirmed){const l=i.value.findIndex(r=>r.id===s.id);l!==-1&&(i.value.splice(l,1),f.fire({title:"Payment Removed!",text:"Pending payment has been removed from forecast",icon:"success",confirmButtonColor:"#28a745",timer:3e3,timerProgressBar:!0}))}},se=async()=>{if(y.value.length===0){f.fire({title:"No Pending Payments",text:"There are no pending payments to clear",icon:"info",confirmButtonColor:"#007bff"});return}if((await f.fire({title:"Clear All Pending Payments?",html:`
                    <div class="text-left">
                        <p>This will remove <strong>${y.value.length}</strong> pending payments totaling <strong>৳${h(F.value)}</strong></p>
                        <div class="mt-3">
                            <h6>Payments to be removed:</h6>
                            <ul class="list-unstyled">
                                ${y.value.map(o=>`
                                    <li class="mb-1">
                                        <i class="fas fa-user me-1"></i> ${o.client_name} - 
                                        <strong>৳${h(o.amount)}</strong>
                                    </li>
                                `).join("")}
                            </ul>
                        </div>
                        <div class="alert alert-warning mt-3">
                            <i class="fas fa-exclamation-triangle me-2"></i>
                            <strong>Warning:</strong> This action cannot be undone. All pending payment forecasts will be permanently removed.
                        </div>
                    </div>
                `,icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc3545",cancelButtonColor:"#6c757d",confirmButtonText:"Yes, clear all!",cancelButtonText:"Cancel",width:"600px"})).isConfirmed){const o=y.value.length,l=F.value;i.value=i.value.filter(r=>r.status!=="pending"&&r.status!=="overdue"),f.fire({title:"All Pending Payments Cleared!",html:`
                        <div class="text-center">
                            <i class="fas fa-check-circle text-success mb-3" style="font-size: 3rem;"></i>
                            <p><strong>${o}</strong> pending payments removed</p>
                            <p><strong>৳${h(l)}</strong> cleared from forecast</p>
                            <div class="alert alert-success mt-3">
                                <i class="fas fa-info-circle me-2"></i>
                                You can now start fresh with your payment tracking!
                            </div>
                        </div>
                    `,icon:null,confirmButtonColor:"#28a745",timer:5e3,timerProgressBar:!0,width:"500px"})}},ae=()=>{if(y.value.length===0){f.fire({title:"No Data to Export",text:"There are no pending payments to export",icon:"info",confirmButtonColor:"#007bff"});return}let s=`Client,Service Type,Amount (BDT),Status,Expected Date,Invoice Date,Description,Notes
`;y.value.forEach(p=>{s+=`"${p.client_name}","${N(p.service_type)}",${p.amount},"${p.status}","${p.expected_date}","${A(p.invoice_date)}","${p.description||""}","${p.notes||""}"
`});const o=new Blob([s],{type:"text/csv;charset=utf-8;"}),l=URL.createObjectURL(o),r=document.createElement("a");r.href=l,r.download=`Pending-Payments-${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(l),f.fire({title:"Export Complete!",text:`Pending payments exported to CSV file with ${y.value.length} records`,icon:"success",confirmButtonColor:"#007bff",timer:3e3,timerProgressBar:!0})};return re(()=>{x.value.length===0&&(x.value=[{id:1,name:"Tech Startup Inc",email:"contact@techstartup.com",payment_terms:"net_30"},{id:2,name:"E-commerce Store",email:"owner@ecomstore.com",payment_terms:"net_15"},{id:3,name:"Local Restaurant",email:"manager@restaurant.com",payment_terms:"net_30"},{id:4,name:"Marketing Agency",email:"hello@agency.com",payment_terms:"net_30"},{id:5,name:"Consulting Firm",email:"info@consulting.com",payment_terms:"net_45"}]),i.value.length===0&&(i.value=[{id:1,client_id:1,service_type:"web_development",amount:25e3,status:"paid",created_at:"2024-12-15",description:"E-commerce website development"},{id:2,client_id:2,service_type:"shopify_app",amount:1200,status:"paid",created_at:"2024-12-10",description:"Monthly app subscription"},{id:3,client_id:3,service_type:"webflow_template",amount:5e3,status:"pending",expected_date:"2024-12-30",invoice_date:"2024-12-15",description:"Custom restaurant template"},{id:4,client_id:4,service_type:"consulting",amount:8e3,status:"paid",created_at:"2024-12-20",description:"Digital strategy consulting"},{id:5,client_id:5,service_type:"maintenance",amount:3e3,status:"overdue",expected_date:"2024-12-20",invoice_date:"2024-11-20",description:"Website maintenance contract"},{id:6,client_id:1,service_type:"web_development",amount:15e3,status:"pending",expected_date:"2025-01-15",invoice_date:"2024-12-15",description:"Phase 2 development"},{id:7,client_id:2,service_type:"shopify_app",amount:1200,status:"pending",expected_date:"2025-01-05",invoice_date:"2024-12-05",description:"Next month subscription"}])}),{selectedPeriod:t,showAddClient:T,showAddRevenue:n,saving:w,clients:x,revenues:i,clientForm:a,revenueForm:b,monthlyRevenue:O,totalRevenue:L,pendingRevenue:F,recurringRevenue:W,forecastRevenue:q,revenueByService:G,topClients:Y,pendingPayments:y,formatNumber:h,getPaymentCardClass:H,getPaymentBadgeClass:K,getPaymentStatus:Q,closeClientModal:U,closeRevenueModal:V,saveClient:J,saveRevenue:X,markPaid:Z,sendReminder:$,updatePeriod:ee,removePendingPayment:te,clearAllPendingPayments:se,exportPendingPayments:ae}}},ve={class:"row"},ue={class:"col-lg-12"},fe={class:"dashboard-settings margin-top-40"},pe={class:"card mb-4"},be={class:"card-header d-flex justify-content-between align-items-center"},ge={class:"d-flex gap-2"},ye={class:"card-body"},_e={class:"row"},xe={class:"col-md-4 text-end"},he={class:"revenue-summary"},we={class:"total-revenue"},Ce={class:"h5 mb-0 text-success"},Pe={class:"row mb-4"},ke={class:"col-md-3"},Re={class:"stat-card"},Se={class:"stat-content"},Fe={class:"stat-value"},Be={class:"col-md-3"},De={class:"stat-card"},Me={class:"stat-content"},Te={class:"stat-value"},Ne={class:"col-md-3"},Ae={class:"stat-card"},Ee={class:"stat-content"},Ue={class:"stat-value"},Ve={class:"col-md-3"},je={class:"stat-card"},Ie={class:"stat-content"},Oe={class:"stat-value"},Le={class:"row"},We={class:"col-lg-6 mb-4"},qe={class:"card"},Ge={class:"card-body"},Ye={class:"service-header d-flex justify-content-between align-items-center mb-2"},ze={class:"service-info"},He={class:"badge bg-secondary ms-2"},Ke={class:"service-amount"},Qe={class:"progress",style:{height:"6px"}},Je={class:"col-lg-6 mb-4"},Xe={class:"card"},Ze={class:"card-body"},$e={class:"client-header d-flex justify-content-between align-items-center mb-2"},et={class:"client-info"},tt={class:"text-muted ms-2"},st={class:"client-amount"},at={class:"client-details"},nt={class:"row"},ot={class:"col-6"},lt={class:"small"},it={class:"col-6"},dt={class:"row"},rt={class:"col-12"},ct={class:"card"},mt={class:"card-header d-flex justify-content-between align-items-center"},vt={class:"header-actions"},ut=["disabled"],ft={class:"card-body"},pt={class:"row"},bt={class:"payment-header"},gt={class:"payment-client"},yt={class:"payment-amount"},_t={class:"payment-details"},xt={class:"payment-service"},ht={class:"payment-date"},wt={key:0,class:"payment-notes"},Ct={class:"text-muted"},Pt={class:"payment-actions mt-2"},kt=["onClick"],Rt=["onClick"],St=["onClick"],Ft={key:0,class:"col-12"},Bt={class:"modal-header"},Dt={class:"modal-body"},Mt={class:"row"},Tt={class:"col-md-6 mb-3"},Nt={class:"col-md-6 mb-3"},At={class:"row"},Et={class:"col-md-6 mb-3"},Ut={class:"col-md-6 mb-3"},Vt={class:"mb-3"},jt={class:"d-flex justify-content-end gap-2"},It=["disabled"],Ot={class:"modal-header"},Lt={class:"modal-body"},Wt={class:"row"},qt={class:"col-md-6 mb-3"},Gt=["value"],Yt={class:"col-md-6 mb-3"},zt={class:"row"},Ht={class:"col-md-6 mb-3"},Kt={class:"col-md-6 mb-3"},Qt={key:0,class:"row"},Jt={class:"col-md-6 mb-3"},Xt={class:"col-md-6 mb-3"},Zt={class:"mb-3"},$t={class:"mb-3"},es={class:"d-flex justify-content-end gap-2"},ts=["disabled"];function ss(M,t,T,n,w,x){const i=le("Head");return m(),c(S,null,[ie(i,{title:"Revenue Tracking & Client Forecasting"}),e("div",ve,[e("div",ue,[e("div",fe,[e("div",pe,[e("div",be,[t[32]||(t[32]=e("h4",{class:"mb-0"},[e("i",{class:"fas fa-chart-line me-2"}),v(" Revenue Tracking & Client Forecasting ")],-1)),e("div",ge,[u(e("select",{"onUpdate:modelValue":t[0]||(t[0]=a=>n.selectedPeriod=a),onChange:t[1]||(t[1]=(...a)=>n.updatePeriod&&n.updatePeriod(...a)),class:"form-select form-select-sm",style:{width:"150px"}},[...t[29]||(t[29]=[e("option",{value:"current"},"This Month",-1),e("option",{value:"quarter"},"This Quarter",-1),e("option",{value:"year"},"This Year",-1)])],544),[[R,n.selectedPeriod]]),e("button",{onClick:t[2]||(t[2]=a=>n.showAddClient=!0),class:"btn btn-success"},[...t[30]||(t[30]=[e("i",{class:"fas fa-user-plus"},null,-1),v(" Add Client ",-1)])]),e("button",{onClick:t[3]||(t[3]=a=>n.showAddRevenue=!0),class:"btn btn-primary"},[...t[31]||(t[31]=[e("i",{class:"fas fa-dollar-sign"},null,-1),v(" Log Revenue ",-1)])])])]),e("div",ye,[e("div",_e,[t[34]||(t[34]=e("div",{class:"col-md-8"},[e("p",{class:"text-muted mb-0"}," Track your revenue streams from different services like Webflow templates, Shopify apps, and recurring revenue. Monitor pending payments and forecast upcoming earnings. ")],-1)),e("div",xe,[e("div",he,[e("div",we,[t[33]||(t[33]=e("small",{class:"text-muted"},"This Month Revenue",-1)),e("div",Ce,"৳"+d(n.formatNumber(n.monthlyRevenue)),1)])])])])])]),t[79]||(t[79]=j('<div class="card mb-4 entrepreneur-guide" data-v-1ac5d358><div class="card-header bg-success-light" data-v-1ac5d358><h6 class="text-success mb-0" data-v-1ac5d358><button class="btn btn-link text-success p-0 text-decoration-none w-100 text-start" type="button" data-bs-toggle="collapse" data-bs-target="#revenueGuide" aria-expanded="false" aria-controls="revenueGuide" data-v-1ac5d358><i class="fas fa-lightbulb me-2" data-v-1ac5d358></i> Solo Entrepreneur Revenue &amp; Client Management Guide <i class="fas fa-chevron-down float-end mt-1" data-v-1ac5d358></i></button></h6></div><div id="revenueGuide" class="collapse" data-v-1ac5d358><div class="card-body" data-v-1ac5d358><div class="row" data-v-1ac5d358><div class="col-md-6" data-v-1ac5d358><h6 class="text-primary mb-3" data-v-1ac5d358><i class="fas fa-question-circle me-2" data-v-1ac5d358></i> Why Track Revenue by Client &amp; Service? </h6><ul class="list-unstyled mb-4" data-v-1ac5d358><li class="mb-2" data-v-1ac5d358><i class="fas fa-check text-success me-2" data-v-1ac5d358></i><strong data-v-1ac5d358>Identify Best Clients:</strong> See who pays the most consistently </li><li class="mb-2" data-v-1ac5d358><i class="fas fa-check text-success me-2" data-v-1ac5d358></i><strong data-v-1ac5d358>Service Performance:</strong> Know which services are most profitable </li><li class="mb-2" data-v-1ac5d358><i class="fas fa-check text-success me-2" data-v-1ac5d358></i><strong data-v-1ac5d358>Predict Cash Flow:</strong> Forecast upcoming payments and revenue </li><li class="mb-2" data-v-1ac5d358><i class="fas fa-check text-success me-2" data-v-1ac5d358></i><strong data-v-1ac5d358>Plan Growth:</strong> Focus on high-value services and clients </li></ul><h6 class="text-primary mb-3" data-v-1ac5d358><i class="fas fa-clock me-2" data-v-1ac5d358></i> Pending Payment Forecasting </h6><ul class="list-unstyled" data-v-1ac5d358><li class="mb-2" data-v-1ac5d358><i class="fas fa-arrow-right text-info me-2" data-v-1ac5d358></i> Track invoices sent but not yet paid </li><li class="mb-2" data-v-1ac5d358><i class="fas fa-arrow-right text-info me-2" data-v-1ac5d358></i> Predict when payments will arrive </li><li class="mb-2" data-v-1ac5d358><i class="fas fa-arrow-right text-info me-2" data-v-1ac5d358></i> Plan for cash flow gaps </li><li class="mb-2" data-v-1ac5d358><i class="fas fa-arrow-right text-info me-2" data-v-1ac5d358></i> Follow up on overdue payments </li></ul></div><div class="col-md-6" data-v-1ac5d358><h6 class="text-primary mb-3" data-v-1ac5d358><i class="fas fa-user-tie me-2" data-v-1ac5d358></i> Solo Business Revenue Streams </h6><div class="revenue-streams" data-v-1ac5d358><div class="stream-example mb-3" data-v-1ac5d358><strong class="text-success d-block mb-2" data-v-1ac5d358><i class="fas fa-globe me-2" data-v-1ac5d358></i>Webflow Templates </strong><small class="text-muted d-block" data-v-1ac5d358> One-time sales, license fees, custom template development </small><div class="example-amounts mt-1" data-v-1ac5d358><span class="badge bg-light text-dark" data-v-1ac5d358>$50 - $500 each</span><span class="badge bg-light text-dark" data-v-1ac5d358>Recurring licenses</span></div></div><div class="stream-example mb-3" data-v-1ac5d358><strong class="text-info d-block mb-2" data-v-1ac5d358><i class="fas fa-shopping-cart me-2" data-v-1ac5d358></i>Shopify Apps </strong><small class="text-muted d-block" data-v-1ac5d358> Monthly subscriptions, app store revenue, custom development </small><div class="example-amounts mt-1" data-v-1ac5d358><span class="badge bg-light text-dark" data-v-1ac5d358>$10-50/month</span><span class="badge bg-light text-dark" data-v-1ac5d358>Recurring MRR</span></div></div><div class="stream-example mb-3" data-v-1ac5d358><strong class="text-warning d-block mb-2" data-v-1ac5d358><i class="fas fa-handshake me-2" data-v-1ac5d358></i>Client Services </strong><small class="text-muted d-block" data-v-1ac5d358> Web development, consulting, maintenance contracts, design work </small><div class="example-amounts mt-1" data-v-1ac5d358><span class="badge bg-light text-dark" data-v-1ac5d358>$500-5000</span><span class="badge bg-light text-dark" data-v-1ac5d358>Project-based</span></div></div></div><div class="alert alert-success mt-3" data-v-1ac5d358><strong data-v-1ac5d358><i class="fas fa-star me-2" data-v-1ac5d358></i>Pro Revenue Tips: </strong><ul class="mb-0 mt-2" data-v-1ac5d358><li data-v-1ac5d358>Set up automatic payment reminders for clients</li><li data-v-1ac5d358>Offer payment terms that favor faster payments (2/10 net 30)</li><li data-v-1ac5d358>Diversify revenue streams to reduce dependency on single clients</li><li data-v-1ac5d358>Track monthly recurring revenue (MRR) vs one-time payments</li></ul></div></div></div></div></div></div>',1)),e("div",Pe,[e("div",ke,[e("div",Re,[t[36]||(t[36]=e("div",{class:"stat-icon bg-success"},[e("i",{class:"fas fa-money-bill-wave"})],-1)),e("div",Se,[e("div",Fe,"৳"+d(n.formatNumber(n.totalRevenue)),1),t[35]||(t[35]=e("div",{class:"stat-label"},"Total Revenue",-1))])])]),e("div",Be,[e("div",De,[t[38]||(t[38]=e("div",{class:"stat-icon bg-warning"},[e("i",{class:"fas fa-hourglass-half"})],-1)),e("div",Me,[e("div",Te,"৳"+d(n.formatNumber(n.pendingRevenue)),1),t[37]||(t[37]=e("div",{class:"stat-label"},"Pending Payments",-1))])])]),e("div",Ne,[e("div",Ae,[t[40]||(t[40]=e("div",{class:"stat-icon bg-info"},[e("i",{class:"fas fa-chart-line"})],-1)),e("div",Ee,[e("div",Ue,"৳"+d(n.formatNumber(n.recurringRevenue)),1),t[39]||(t[39]=e("div",{class:"stat-label"},"Monthly Recurring Revenue",-1))])])]),e("div",Ve,[e("div",je,[t[42]||(t[42]=e("div",{class:"stat-icon bg-primary"},[e("i",{class:"fas fa-crystal-ball"})],-1)),e("div",Ie,[e("div",Oe,"৳"+d(n.formatNumber(n.forecastRevenue)),1),t[41]||(t[41]=e("div",{class:"stat-label"},"Next Month Forecast",-1))])])])]),e("div",Le,[e("div",We,[e("div",qe,[t[43]||(t[43]=e("div",{class:"card-header"},[e("h6",{class:"mb-0"},[e("i",{class:"fas fa-chart-pie me-2"}),v(" Revenue by Service Type ")])],-1)),e("div",Ge,[(m(!0),c(S,null,B(n.revenueByService,a=>(m(),c("div",{key:a.type,class:"service-revenue mb-3"},[e("div",Ye,[e("div",ze,[e("i",{class:C([a.icon,"me-2"])},null,2),e("strong",null,d(a.type),1),e("span",He,d(a.count)+" items",1)]),e("div",Ke,"৳"+d(n.formatNumber(a.amount)),1)]),e("div",Qe,[e("div",{class:C(["progress-bar",a.color]),style:de(`width: ${a.amount/n.totalRevenue*100}%`)},null,6)])]))),128))])])]),e("div",Je,[e("div",Xe,[t[47]||(t[47]=e("div",{class:"card-header"},[e("h6",{class:"mb-0"},[e("i",{class:"fas fa-users me-2"}),v(" Top Clients by Revenue ")])],-1)),e("div",Ze,[(m(!0),c(S,null,B(n.topClients,a=>(m(),c("div",{key:a.id,class:"client-revenue mb-3"},[e("div",$e,[e("div",et,[t[44]||(t[44]=e("i",{class:"fas fa-user-circle me-2 text-primary"},null,-1)),e("strong",null,d(a.name),1),e("small",tt,d(a.email),1)]),e("div",st,"৳"+d(n.formatNumber(a.total_revenue)),1)]),e("div",at,[e("div",nt,[e("div",ot,[t[45]||(t[45]=e("small",{class:"text-muted"},"Last Payment:",-1)),e("div",lt,d(a.last_payment_date),1)]),e("div",it,[t[46]||(t[46]=e("small",{class:"text-muted"},"Pending:",-1)),e("div",{class:C(["small",a.pending>0?"text-warning":"text-success"])}," ৳"+d(n.formatNumber(a.pending)),3)])])])]))),128))])])])]),e("div",dt,[e("div",rt,[e("div",ct,[e("div",mt,[t[50]||(t[50]=e("h6",{class:"mb-0"},[e("i",{class:"fas fa-clock me-2"}),v(" Pending Payments Forecast - Next 90 Days ")],-1)),e("div",vt,[e("button",{onClick:t[4]||(t[4]=(...a)=>n.clearAllPendingPayments&&n.clearAllPendingPayments(...a)),class:"btn btn-outline-danger btn-sm me-2",disabled:n.pendingPayments.length===0},[...t[48]||(t[48]=[e("i",{class:"fas fa-trash-alt me-1"},null,-1),v(" Clear All ",-1)])],8,ut),e("button",{onClick:t[5]||(t[5]=(...a)=>n.exportPendingPayments&&n.exportPendingPayments(...a)),class:"btn btn-outline-primary btn-sm"},[...t[49]||(t[49]=[e("i",{class:"fas fa-download me-1"},null,-1),v(" Export CSV ",-1)])])])]),e("div",ft,[e("div",pt,[(m(!0),c(S,null,B(n.pendingPayments,a=>(m(),c("div",{key:a.id,class:"col-lg-4 col-md-6 mb-4"},[e("div",{class:C(["pending-payment-card",n.getPaymentCardClass(a)])},[e("div",bt,[e("div",gt,[t[51]||(t[51]=e("i",{class:"fas fa-user-circle me-2"},null,-1)),e("strong",null,d(a.client_name),1)]),e("div",yt,"৳"+d(n.formatNumber(a.amount)),1)]),e("div",_t,[e("div",xt,[e("i",{class:C([a.service_icon,"me-2"])},null,2),v(" "+d(a.service_type),1)]),e("div",ht,[t[52]||(t[52]=e("i",{class:"fas fa-calendar me-2"},null,-1)),v(" Expected: "+d(a.expected_date)+" ",1),e("span",{class:C(["badge ms-2",n.getPaymentBadgeClass(a)])},d(n.getPaymentStatus(a)),3)]),a.notes?(m(),c("div",wt,[t[53]||(t[53]=e("i",{class:"fas fa-sticky-note me-2"},null,-1)),e("small",Ct,d(a.notes),1)])):k("",!0)]),e("div",Pt,[e("button",{onClick:b=>n.markPaid(a),class:"btn btn-sm btn-success me-2"},[...t[54]||(t[54]=[e("i",{class:"fas fa-check"},null,-1),v(" Mark Paid ",-1)])],8,kt),e("button",{onClick:b=>n.sendReminder(a),class:"btn btn-sm btn-outline-primary me-2"},[...t[55]||(t[55]=[e("i",{class:"fas fa-bell"},null,-1),v(" Remind ",-1)])],8,Rt),e("button",{onClick:b=>n.removePendingPayment(a),class:"btn btn-sm btn-outline-danger",title:"Remove this pending payment"},[...t[56]||(t[56]=[e("i",{class:"fas fa-times"},null,-1)])],8,St)])],2)]))),128)),n.pendingPayments.length===0?(m(),c("div",Ft,[...t[57]||(t[57]=[e("div",{class:"text-center py-5"},[e("i",{class:"fas fa-check-circle text-success mb-3",style:{"font-size":"4rem"}}),e("h5",{class:"text-muted"},"All Payments Up to Date!"),e("p",{class:"text-muted"},"No pending payments found. Great job keeping on top of collections!")],-1)])])):k("",!0)])])])])]),n.showAddClient?(m(),c("div",{key:0,class:"modal-overlay",onClick:t[15]||(t[15]=(...a)=>n.closeClientModal&&n.closeClientModal(...a))},[e("div",{class:"modal-content",onClick:t[14]||(t[14]=D(()=>{},["stop"]))},[e("div",Bt,[t[58]||(t[58]=e("h5",null,"Add New Client",-1)),e("button",{onClick:t[6]||(t[6]=(...a)=>n.closeClientModal&&n.closeClientModal(...a)),class:"btn-close"},"×")]),e("div",Dt,[e("form",{onSubmit:t[13]||(t[13]=D((...a)=>n.saveClient&&n.saveClient(...a),["prevent"]))},[e("div",Mt,[e("div",Tt,[t[59]||(t[59]=e("label",{class:"form-label"},"Client Name *",-1)),u(e("input",{"onUpdate:modelValue":t[7]||(t[7]=a=>n.clientForm.name=a),type:"text",class:"form-control",required:"",placeholder:"Company or Person Name"},null,512),[[g,n.clientForm.name]])]),e("div",Nt,[t[60]||(t[60]=e("label",{class:"form-label"},"Email *",-1)),u(e("input",{"onUpdate:modelValue":t[8]||(t[8]=a=>n.clientForm.email=a),type:"email",class:"form-control",required:"",placeholder:"client@company.com"},null,512),[[g,n.clientForm.email]])])]),e("div",At,[e("div",Et,[t[61]||(t[61]=e("label",{class:"form-label"},"Phone",-1)),u(e("input",{"onUpdate:modelValue":t[9]||(t[9]=a=>n.clientForm.phone=a),type:"text",class:"form-control",placeholder:"+1234567890"},null,512),[[g,n.clientForm.phone]])]),e("div",Ut,[t[63]||(t[63]=e("label",{class:"form-label"},"Payment Terms",-1)),u(e("select",{"onUpdate:modelValue":t[10]||(t[10]=a=>n.clientForm.payment_terms=a),class:"form-select"},[...t[62]||(t[62]=[e("option",{value:"net_15"},"Net 15 days",-1),e("option",{value:"net_30"},"Net 30 days",-1),e("option",{value:"net_60"},"Net 60 days",-1),e("option",{value:"immediate"},"Immediate",-1)])],512),[[R,n.clientForm.payment_terms]])])]),e("div",Vt,[t[64]||(t[64]=e("label",{class:"form-label"},"Notes",-1)),u(e("textarea",{"onUpdate:modelValue":t[11]||(t[11]=a=>n.clientForm.notes=a),class:"form-control",rows:"3",placeholder:"Client preferences, project details, etc."},null,512),[[g,n.clientForm.notes]])]),e("div",jt,[e("button",{type:"button",onClick:t[12]||(t[12]=(...a)=>n.closeClientModal&&n.closeClientModal(...a)),class:"btn btn-secondary"}," Cancel "),e("button",{type:"submit",class:"btn btn-success",disabled:n.saving},[t[65]||(t[65]=e("i",{class:"fas fa-save"},null,-1)),v(" "+d(n.saving?"Saving...":"Save Client"),1)],8,It)])],32)])])])):k("",!0),n.showAddRevenue?(m(),c("div",{key:1,class:"modal-overlay",onClick:t[28]||(t[28]=(...a)=>n.closeRevenueModal&&n.closeRevenueModal(...a))},[e("div",{class:"modal-content large-modal",onClick:t[27]||(t[27]=D(()=>{},["stop"]))},[e("div",Ot,[t[66]||(t[66]=e("h5",null,"Log Revenue / Pending Payment",-1)),e("button",{onClick:t[16]||(t[16]=(...a)=>n.closeRevenueModal&&n.closeRevenueModal(...a)),class:"btn-close"},"×")]),e("div",Lt,[e("form",{onSubmit:t[26]||(t[26]=D((...a)=>n.saveRevenue&&n.saveRevenue(...a),["prevent"]))},[e("div",Wt,[e("div",qt,[t[68]||(t[68]=e("label",{class:"form-label"},"Client *",-1)),u(e("select",{"onUpdate:modelValue":t[17]||(t[17]=a=>n.revenueForm.client_id=a),class:"form-select",required:""},[t[67]||(t[67]=e("option",{value:""},"Select Client",-1)),(m(!0),c(S,null,B(n.topClients,a=>(m(),c("option",{key:a.id,value:a.id},d(a.name),9,Gt))),128))],512),[[R,n.revenueForm.client_id]])]),e("div",Yt,[t[70]||(t[70]=e("label",{class:"form-label"},"Service Type *",-1)),u(e("select",{"onUpdate:modelValue":t[18]||(t[18]=a=>n.revenueForm.service_type=a),class:"form-select",required:""},[...t[69]||(t[69]=[j('<option value="webflow_template" data-v-1ac5d358>Webflow Template</option><option value="shopify_app" data-v-1ac5d358>Shopify App</option><option value="web_development" data-v-1ac5d358>Web Development</option><option value="consulting" data-v-1ac5d358>Consulting</option><option value="maintenance" data-v-1ac5d358>Maintenance Contract</option><option value="other" data-v-1ac5d358>Other Service</option>',6)])],512),[[R,n.revenueForm.service_type]])])]),e("div",zt,[e("div",Ht,[t[71]||(t[71]=e("label",{class:"form-label"},"Amount (BDT) *",-1)),u(e("input",{"onUpdate:modelValue":t[19]||(t[19]=a=>n.revenueForm.amount=a),type:"number",class:"form-control",step:"0.01",min:"0",required:"",placeholder:"5000.00"},null,512),[[g,n.revenueForm.amount,void 0,{number:!0}]])]),e("div",Kt,[t[73]||(t[73]=e("label",{class:"form-label"},"Status *",-1)),u(e("select",{"onUpdate:modelValue":t[20]||(t[20]=a=>n.revenueForm.status=a),class:"form-select",required:""},[...t[72]||(t[72]=[e("option",{value:"paid"},"Paid (Received)",-1),e("option",{value:"pending"},"Pending Payment",-1),e("option",{value:"overdue"},"Overdue",-1)])],512),[[R,n.revenueForm.status]])])]),n.revenueForm.status!=="paid"?(m(),c("div",Qt,[e("div",Jt,[t[74]||(t[74]=e("label",{class:"form-label"},"Expected Payment Date",-1)),u(e("input",{"onUpdate:modelValue":t[21]||(t[21]=a=>n.revenueForm.expected_date=a),type:"date",class:"form-control"},null,512),[[g,n.revenueForm.expected_date]])]),e("div",Xt,[t[75]||(t[75]=e("label",{class:"form-label"},"Invoice Date",-1)),u(e("input",{"onUpdate:modelValue":t[22]||(t[22]=a=>n.revenueForm.invoice_date=a),type:"date",class:"form-control"},null,512),[[g,n.revenueForm.invoice_date]])])])):k("",!0),e("div",Zt,[t[76]||(t[76]=e("label",{class:"form-label"},"Description",-1)),u(e("input",{"onUpdate:modelValue":t[23]||(t[23]=a=>n.revenueForm.description=a),type:"text",class:"form-control",placeholder:"Brief description of the service"},null,512),[[g,n.revenueForm.description]])]),e("div",$t,[t[77]||(t[77]=e("label",{class:"form-label"},"Notes",-1)),u(e("textarea",{"onUpdate:modelValue":t[24]||(t[24]=a=>n.revenueForm.notes=a),class:"form-control",rows:"3",placeholder:"Additional notes, payment terms, follow-up reminders"},null,512),[[g,n.revenueForm.notes]])]),e("div",es,[e("button",{type:"button",onClick:t[25]||(t[25]=(...a)=>n.closeRevenueModal&&n.closeRevenueModal(...a)),class:"btn btn-secondary"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary",disabled:n.saving},[t[78]||(t[78]=e("i",{class:"fas fa-save"},null,-1)),v(" "+d(n.saving?"Saving...":"Save Revenue"),1)],8,ts)])],32)])])])):k("",!0)])])])],64)}const is=ce(me,[["render",ss],["__scopeId","data-v-1ac5d358"]]);export{is as default};
