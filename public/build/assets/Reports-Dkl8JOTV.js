import{A as pe}from"./AdminMaster-reP-zw_B.js";import{H as be,r as ge,c,o as m,a as ye,b as e,d as G,h as g,f as u,e as b,A as F,t as d,F as T,p as U,n as P,$ as _e,w as E,i as x,l as k,B as Q,C as he,y,D as xe,x as L}from"./app-E6KsSlBo.js";import{S as p}from"./sweetalert2.esm.all-Y6IUEg8t.js";import{_ as we}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Ce={layout:pe,name:"Reports",components:{Head:be},props:{clients:Array,revenues:Array},setup(R){console.log("Reports component setup started",R),console.log("Clients received:",R.clients),console.log("Revenues received:",R.revenues);const t=k("current"),V=k(!1),n=k(!1),D=k(!1),w=k([...R.clients||[]]),v=k([...R.revenues||[]]),a=Q({name:"",email:"",phone:"",payment_terms:"net_30",notes:""}),f=Q({client_id:"",service_type:"web_development",amount:0,currency:"BDT",status:"paid",expected_date:"",invoice_date:"",description:"",notes:""}),j=120,O=k("BDT"),h=s=>new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}).format(s||0),S=s=>s?{webflow_template:"Webflow Templates",shopify_app:"Shopify Apps",web_development:"Web Development",consulting:"Consulting",maintenance:"Maintenance",envato:"Envato",other:"Other Services"}[s]||s:"Unknown Service",B=s=>s&&{webflow_template:"fas fa-globe",shopify_app:"fas fa-shopping-cart",web_development:"fas fa-code",consulting:"fas fa-handshake",maintenance:"fas fa-cogs",envato:"fas fa-download",other:"fas fa-star"}[s]||"fas fa-star",Y=s=>s&&{webflow_template:"bg-success",shopify_app:"bg-info",web_development:"bg-primary",consulting:"bg-warning",maintenance:"bg-secondary",envato:"bg-danger",other:"bg-dark"}[s]||"bg-secondary",M=s=>s?new Date(s).toLocaleDateString():"N/A";he(()=>f.currency,s=>{const o=O.value;o&&f.amount>0&&o!==s&&(o==="BDT"&&s==="USD"?f.amount=Number((f.amount/j).toFixed(2)):o==="USD"&&s==="BDT"&&(f.amount=Number((f.amount*j).toFixed(2)))),O.value=s});const H=y(()=>v.value.filter(s=>s.status==="paid"&&new Date(s.created_at).getMonth()===new Date().getMonth()).reduce((s,o)=>s+(parseFloat(o.amount)||0),0)),K=y(()=>{try{return(v.value||[]).filter(s=>s&&s.status==="paid").reduce((s,o)=>s+(parseFloat(o.bdt_amount||o.amount)||0),0)}catch(s){return console.error("Error in totalRevenue:",s),0}}),A=y(()=>{try{return(v.value||[]).filter(s=>s&&(s.status==="pending"||s.status==="overdue")).reduce((s,o)=>s+(parseFloat(o.bdt_amount||o.amount)||0),0)}catch(s){return console.error("Error in pendingRevenue:",s),0}}),J=y(()=>{try{return(w.value||[]).filter(s=>s&&s.is_active!==!1).sort((s,o)=>(s.name||"").localeCompare(o.name||""))}catch(s){return console.error("Error in sortedClients:",s),[]}}),X=y(()=>v.value.filter(o=>o.status==="paid"&&new Date(o.created_at).getMonth()===new Date().getMonth()-1).reduce((o,i)=>o+(parseFloat(i.amount)||0),0)*1.1+A.value*.8),Z=y(()=>{const s={};return v.value.filter(o=>o.status==="paid").forEach(o=>{s[o.service_type]||(s[o.service_type]={amount:0,count:0}),s[o.service_type].amount+=parseFloat(o.amount)||0,s[o.service_type].count+=1}),Object.entries(s).map(([o,i])=>({type:S(o),amount:i.amount,count:i.count,icon:B(o),color:Y(o)})).sort((o,i)=>i.amount-o.amount)}),C=y(()=>v.value.filter(s=>s.status==="pending"||s.status==="overdue").map(s=>{var o;return{...s,client_name:((o=w.value.find(i=>i.id===s.client_id))==null?void 0:o.name)||"Unknown Client",service_icon:B(s.service_type),expected_date:M(s.expected_date)}}).sort((s,o)=>new Date(s.expected_date)-new Date(o.expected_date))),N=y(()=>{const s=new Date,o=s.getMonth(),i=s.getFullYear();return v.value.filter(l=>{if(l.status!=="paid")return!1;const r=new Date(l.paid_date||l.created_at);return r.getMonth()===o&&r.getFullYear()===i}).map(l=>{var r;return{...l,client_name:((r=w.value.find(_=>_.id===l.client_id))==null?void 0:r.name)||"Unknown Client",service_icon:B(l.service_type),formatted_amount:h(l.bdt_amount||l.amount||0),formatted_paid_date:M(l.paid_date||l.created_at)}}).sort((l,r)=>new Date(r.paid_date||r.created_at)-new Date(l.paid_date||l.created_at))}),$=y(()=>N.value.reduce((s,o)=>s+(parseFloat(o.bdt_amount)||parseFloat(o.amount)||0),0)),q=y(()=>{try{const s=new Date,o=s.getMonth(),i=s.getFullYear();return(v.value||[]).filter(l=>{if(!l||!l.created_at&&!l.invoice_date)return!1;const r=new Date(l.created_at||l.invoice_date);if(isNaN(r.getTime()))return!1;switch(t.value){case"current":return r.getMonth()===o&&r.getFullYear()===i;case"quarter":const _=Math.floor(o/3);return Math.floor(r.getMonth()/3)===_&&r.getFullYear()===i;case"year":return r.getFullYear()===i;case"all":return!0;default:return r.getMonth()===o&&r.getFullYear()===i}}).map(l=>{var r;return{...l,client_name:((r=(w.value||[]).find(_=>_&&_.id===l.client_id))==null?void 0:r.name)||"Unknown Client",service_icon:B(l.service_type||"other"),formatted_amount:h(l.bdt_amount||l.amount||0),status_color:l.status==="paid"?"success":l.status==="pending"?"warning":"danger"}}).sort((l,r)=>{const _=new Date(l.created_at||l.invoice_date);return new Date(r.created_at||r.invoice_date)-_})}catch(s){return console.error("Error in periodFilteredRevenues:",s),[]}}),ee=y(()=>{try{return q.value.reduce((s,o)=>s+(parseFloat(o.bdt_amount)||parseFloat(o.amount)||0),0)}catch(s){return console.error("Error in periodFilteredTotal:",s),0}}),te=s=>s.status==="overdue"?"payment-overdue":new Date(s.expected_date)<new Date?"payment-due-soon":"",se=s=>s.status==="overdue"?"bg-danger":new Date(s.expected_date)<new Date?"bg-warning":"bg-success",ae=s=>s.status==="overdue"?"Overdue":new Date(s.expected_date)<new Date?"Due Soon":"On Track",W=()=>{V.value=!1,Object.keys(a).forEach(s=>{a[s]=s==="payment_terms"?"net_30":""})},z=()=>{n.value=!1,Object.keys(f).forEach(s=>{s==="service_type"?f[s]="web_development":s==="status"?f[s]="paid":s==="currency"?f[s]="BDT":s==="amount"?f[s]=0:f[s]=""}),O.value="BDT"},ne=async()=>{var s,o;D.value=!0;try{const i=await L.post("/admin-home/finance/clients",a);i.data.success&&(w.value.push(i.data.client),W(),p.fire({title:"Success!",text:i.data.message,icon:"success",confirmButtonColor:"#28a745",timer:3e3,timerProgressBar:!0}))}catch(i){console.error("Save failed:",i),p.fire({title:"Error!",text:((o=(s=i.response)==null?void 0:s.data)==null?void 0:o.message)||"Failed to save client",icon:"error",confirmButtonColor:"#e74a3b"})}finally{D.value=!1}},oe=async()=>{var s,o;D.value=!0;try{const i=await L.post("/admin-home/finance/revenues",f);i.data.success&&(v.value.push(i.data.revenue),z(),p.fire({title:"Success!",text:i.data.message,icon:"success",confirmButtonColor:"#007bff",timer:3e3,timerProgressBar:!0}))}catch(i){console.error("Revenue save failed:",i),p.fire({title:"Error!",text:((o=(s=i.response)==null?void 0:s.data)==null?void 0:o.message)||"Failed to log revenue",icon:"error",confirmButtonColor:"#e74a3b"})}finally{D.value=!1}},le=async s=>{if((await p.fire({title:"Mark as Paid?",text:`Mark payment of ৳${h(s.amount)} as received?`,icon:"question",showCancelButton:!0,confirmButtonColor:"#28a745",cancelButtonColor:"#6c757d",confirmButtonText:"Yes, mark as paid!"})).isConfirmed){const i=v.value.findIndex(l=>l.id===s.id);i!==-1&&(v.value[i].status="paid",v.value[i].paid_date=new Date().toISOString(),p.fire({title:"Payment Recorded!",text:"Payment has been marked as paid",icon:"success",confirmButtonColor:"#28a745",timer:3e3,timerProgressBar:!0}))}},ie=async s=>{p.fire({title:"Reminder Sent!",text:`Payment reminder sent to ${s.client_name}`,icon:"success",confirmButtonColor:"#007bff",timer:3e3,timerProgressBar:!0})},re=async()=>{console.log("Period changed to:",t.value);try{const s=await L.get("/admin-home/finance/revenues",{params:{period:t.value}});s.data.success&&(v.value=s.data.revenues)}catch(s){console.error("Error updating period:",s)}},de=s=>({current:"This Month",quarter:"This Quarter",year:"This Year",all:"All Time"})[s]||"This Month",ce=async s=>{if((await p.fire({title:"Remove Pending Payment?",text:`Remove pending payment of ৳${h(s.amount)} from ${s.client_name}?`,html:`
                    <div class="text-left">
                        <p><strong>Client:</strong> ${s.client_name}</p>
                        <p><strong>Amount:</strong> ৳${h(s.amount)}</p>
                        <p><strong>Service:</strong> ${S(s.service_type)}</p>
                        <p><strong>Expected Date:</strong> ${s.expected_date}</p>
                    </div>
                `,icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc3545",cancelButtonColor:"#6c757d",confirmButtonText:"Yes, remove it!"})).isConfirmed){const i=v.value.findIndex(l=>l.id===s.id);i!==-1&&(v.value.splice(i,1),p.fire({title:"Payment Removed!",text:"Pending payment has been removed from forecast",icon:"success",confirmButtonColor:"#28a745",timer:3e3,timerProgressBar:!0}))}},me=async()=>{if(C.value.length===0){p.fire({title:"No Pending Payments",text:"There are no pending payments to clear",icon:"info",confirmButtonColor:"#007bff"});return}if((await p.fire({title:"Clear All Pending Payments?",html:`
                    <div class="text-left">
                        <p>This will remove <strong>${C.value.length}</strong> pending payments totaling <strong>৳${h(A.value)}</strong></p>
                        <div class="mt-3">
                            <h6>Payments to be removed:</h6>
                            <ul class="list-unstyled">
                                ${C.value.map(o=>`
                                    <li class="mb-1">
                                        <i class="fas fa-user me-1"></i> ${o.client_name} - 
                                        <strong>৳${h(o.amount)}</strong>
                                    </li>
                                `).join("")}
                            </ul>
                        </div>
                        <div class="alert alert-warning mt-3">
                            <i class="fas fa-exclamation-triangle me-2"></i>
                            <strong>Warning:</strong> This action cannot be undone. All pending payment forecasts will be permanently removed.
                        </div>
                    </div>
                `,icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc3545",cancelButtonColor:"#6c757d",confirmButtonText:"Yes, clear all!",cancelButtonText:"Cancel",width:"600px"})).isConfirmed){const o=C.value.length,i=A.value;v.value=v.value.filter(l=>l.status!=="pending"&&l.status!=="overdue"),p.fire({title:"All Pending Payments Cleared!",html:`
                        <div class="text-center">
                            <i class="fas fa-check-circle text-success mb-3" style="font-size: 3rem;"></i>
                            <p><strong>${o}</strong> pending payments removed</p>
                            <p><strong>৳${h(i)}</strong> cleared from forecast</p>
                            <div class="alert alert-success mt-3">
                                <i class="fas fa-info-circle me-2"></i>
                                You can now start fresh with your payment tracking!
                            </div>
                        </div>
                    `,icon:null,confirmButtonColor:"#28a745",timer:5e3,timerProgressBar:!0,width:"500px"})}},ue=()=>{if(C.value.length===0){p.fire({title:"No Data to Export",text:"There are no pending payments to export",icon:"info",confirmButtonColor:"#007bff"});return}let s=`Client,Service Type,Amount (BDT),Status,Expected Date,Invoice Date,Description,Notes
`;C.value.forEach(r=>{s+=`"${r.client_name}","${S(r.service_type)}",${r.amount},"${r.status}","${r.expected_date}","${M(r.invoice_date)}","${r.description||""}","${r.notes||""}"
`});const o=new Blob([s],{type:"text/csv;charset=utf-8;"}),i=URL.createObjectURL(o),l=document.createElement("a");l.href=i,l.download=`Pending-Payments-${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(i),p.fire({title:"Export Complete!",text:`Pending payments exported to CSV file with ${C.value.length} records`,icon:"success",confirmButtonColor:"#007bff",timer:3e3,timerProgressBar:!0})},ve=()=>{if(N.value.length===0){p.fire({title:"No Data to Export",text:"There are no paid payments this month to export",icon:"info",confirmButtonColor:"#007bff"});return}let s=`Client,Service Type,Amount (BDT),Currency,Paid Date,Description,Notes
`;N.value.forEach(r=>{const _=r.bdt_amount||r.amount||0,I=r.currency||"BDT",fe=M(r.paid_date||r.created_at);s+=`"${r.client_name}","${S(r.service_type)}",${_},"${I}","${fe}","${r.description||""}","${r.notes||""}"
`});const o=new Blob([s],{type:"text/csv;charset=utf-8;"}),i=URL.createObjectURL(o),l=document.createElement("a");l.href=i,l.download=`Paid-Payments-${new Date().toLocaleDateString("en-US",{month:"short",year:"numeric"})}.csv`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(i),p.fire({title:"Export Complete!",text:`Paid payments exported to CSV file with ${N.value.length} records`,icon:"success",confirmButtonColor:"#28a745",timer:3e3,timerProgressBar:!0})};return xe(()=>{console.log("Clients loaded:",w.value.length),console.log("Revenues loaded:",v.value.length)}),{selectedPeriod:t,showAddClient:V,showAddRevenue:n,saving:D,clients:w,revenues:v,clientForm:a,revenueForm:f,monthlyRevenue:H,totalRevenue:K,pendingRevenue:A,forecastRevenue:X,revenueByService:Z,sortedClients:J,pendingPayments:C,paidPaymentsThisMonth:N,paidRevenueThisMonth:$,periodFilteredRevenues:q,periodFilteredTotal:ee,formatNumber:h,formatServiceType:S,getServiceIcon:B,getServiceColor:Y,formatDate:M,getPaymentCardClass:te,getPaymentBadgeClass:se,getPaymentStatus:ae,USD_TO_BDT_RATE:j,closeClientModal:W,closeRevenueModal:z,saveClient:ne,saveRevenue:oe,markPaid:le,sendReminder:ie,updatePeriod:re,getPeriodLabel:de,removePendingPayment:ce,clearAllPendingPayments:me,exportPendingPayments:ue,exportPaidPayments:ve}}},Pe={class:"row"},ke={class:"col-lg-12"},Re={class:"dashboard-settings margin-top-40"},De={class:"card mb-4"},Fe={class:"card-header d-flex justify-content-between align-items-center"},Te={class:"d-flex gap-2"},Se={class:"card-body"},Be={class:"row"},Me={class:"col-md-4 text-end"},Ne={class:"revenue-summary"},Ue={class:"total-revenue"},Ae={class:"h5 mb-0 text-success"},Ee={class:"row mb-4"},Ve={class:"col-md-6 mb-3"},je={class:"stat-card"},Oe={class:"stat-content"},Ie={class:"stat-value"},Le={class:"col-md-6 mb-3"},Ye={class:"stat-card"},qe={class:"stat-content"},We={class:"stat-value"},ze={class:"col-md-6 mb-3"},Ge={class:"stat-card"},Qe={class:"stat-content"},He={class:"stat-value"},Ke={class:"row"},Je={class:"col-lg-12 mb-4"},Xe={class:"card"},Ze={class:"card-body"},$e={class:"service-header d-flex justify-content-between align-items-center mb-2"},et={class:"service-info"},tt={class:"badge bg-secondary ms-2"},st={class:"service-amount"},at={class:"progress",style:{height:"6px"}},nt={class:"row"},ot={class:"col-12"},lt={class:"card"},it={class:"card-header d-flex justify-content-between align-items-center"},rt={class:"header-actions"},dt=["disabled"],ct={class:"card-body"},mt={class:"row"},ut={class:"payment-header"},vt={class:"payment-client"},ft={class:"payment-amount"},pt={class:"payment-details"},bt={class:"payment-service"},gt={class:"payment-date"},yt={key:0,class:"payment-notes"},_t={class:"text-muted"},ht={class:"payment-actions mt-2"},xt=["onClick"],wt=["onClick"],Ct=["onClick"],Pt={key:0,class:"col-12"},kt={class:"row mt-4"},Rt={class:"col-12"},Dt={class:"card"},Ft={class:"card-header d-flex justify-content-between align-items-center"},Tt={class:"mb-0"},St={class:"badge bg-success ms-2"},Bt={class:"d-flex align-items-center"},Mt={class:"text-success fw-bold me-3"},Nt={class:"card-body"},Ut={class:"row"},At={class:"paid-payment-card"},Et={class:"payment-header"},Vt={class:"payment-client"},jt={class:"payment-amount text-success"},Ot={class:"payment-details"},It={class:"payment-service"},Lt={class:"payment-date text-muted"},Yt={key:0,class:"payment-currency text-info"},qt={key:1,class:"payment-description"},Wt={class:"text-muted"},zt={key:0,class:"col-12"},Gt={class:"row mt-4"},Qt={class:"col-12"},Ht={class:"card"},Kt={class:"card-header d-flex justify-content-between align-items-center"},Jt={class:"mb-0"},Xt={class:"badge bg-primary ms-2"},Zt={class:"text-muted"},$t={class:"card-body"},es={key:0,class:"text-center py-5"},ts={key:1,class:"row"},ss={class:"revenue-item-card"},as={class:"revenue-header d-flex justify-content-between align-items-start"},ns={class:"revenue-client"},os={class:"d-flex align-items-center"},ls={class:"d-block"},is={class:"text-muted"},rs={class:"revenue-status"},ds={class:"revenue-details mt-2"},cs={class:"revenue-amount"},ms={class:"text-success"},us={key:0,class:"text-muted ms-2"},vs={class:"revenue-meta mt-2"},fs={key:0,class:"text-muted d-block"},ps={class:"text-muted d-block"},bs={key:1,class:"text-warning d-block"},gs={key:0,class:"revenue-actions mt-2"},ys=["onClick"],_s={class:"modal-header"},hs={class:"modal-body"},xs={class:"row"},ws={class:"col-md-6 mb-3"},Cs={class:"col-md-6 mb-3"},Ps={class:"row"},ks={class:"col-md-6 mb-3"},Rs={class:"col-md-6 mb-3"},Ds={class:"mb-3"},Fs={class:"d-flex justify-content-end gap-2"},Ts=["disabled"],Ss={class:"modal-header"},Bs={class:"modal-body"},Ms={class:"row"},Ns={class:"col-md-6 mb-3"},Us=["value"],As={class:"col-md-6 mb-3"},Es={class:"row"},Vs={class:"col-md-6 mb-3"},js={class:"input-group"},Os={key:0,class:"form-text text-info"},Is={class:"col-md-6 mb-3"},Ls={key:0,class:"row"},Ys={class:"col-md-6 mb-3"},qs={class:"col-md-6 mb-3"},Ws={class:"mb-3"},zs={class:"mb-3"},Gs={class:"d-flex justify-content-end gap-2"},Qs=["disabled"];function Hs(R,t,V,n,D,w){const v=ge("Head");return m(),c(T,null,[ye(v,{title:"Revenue Tracking & Client Forecasting"}),e("div",Pe,[e("div",ke,[e("div",Re,[e("div",De,[e("div",Fe,[t[34]||(t[34]=e("h4",{class:"mb-0"},[e("i",{class:"fas fa-chart-line me-2"}),u(" Revenue Tracking & Client Forecasting ")],-1)),e("div",Te,[b(e("select",{"onUpdate:modelValue":t[0]||(t[0]=a=>n.selectedPeriod=a),onChange:t[1]||(t[1]=(...a)=>n.updatePeriod&&n.updatePeriod(...a)),class:"form-select form-select-sm",style:{width:"150px"}},[...t[31]||(t[31]=[e("option",{value:"current"},"This Month",-1),e("option",{value:"quarter"},"This Quarter",-1),e("option",{value:"year"},"This Year",-1)])],544),[[F,n.selectedPeriod]]),e("button",{onClick:t[2]||(t[2]=a=>n.showAddClient=!0),class:"btn btn-success"},[...t[32]||(t[32]=[e("i",{class:"fas fa-user-plus"},null,-1),u(" Add Client ",-1)])]),e("button",{onClick:t[3]||(t[3]=a=>n.showAddRevenue=!0),class:"btn btn-primary"},[...t[33]||(t[33]=[e("i",{class:"fas fa-dollar-sign"},null,-1),u(" Log Revenue ",-1)])])])]),e("div",Se,[e("div",Be,[t[36]||(t[36]=e("div",{class:"col-md-8"},[e("p",{class:"text-muted mb-0"}," Track your revenue streams from different services like Webflow templates, Shopify apps, and recurring revenue. Monitor pending payments and forecast upcoming earnings. ")],-1)),e("div",Me,[e("div",Ne,[e("div",Ue,[t[35]||(t[35]=e("small",{class:"text-muted"},"This Month Revenue",-1)),e("div",Ae,"৳"+d(n.formatNumber(n.monthlyRevenue)),1)])])])])])]),t[92]||(t[92]=G('<div class="card mb-4 entrepreneur-guide" data-v-da85fca4><div class="card-header bg-success-light" data-v-da85fca4><h6 class="text-success mb-0" data-v-da85fca4><button class="btn btn-link text-success p-0 text-decoration-none w-100 text-start" type="button" data-bs-toggle="collapse" data-bs-target="#revenueGuide" aria-expanded="false" aria-controls="revenueGuide" data-v-da85fca4><i class="fas fa-lightbulb me-2" data-v-da85fca4></i> Solo Entrepreneur Revenue &amp; Client Management Guide <i class="fas fa-chevron-down float-end mt-1" data-v-da85fca4></i></button></h6></div><div id="revenueGuide" class="collapse" data-v-da85fca4><div class="card-body" data-v-da85fca4><div class="row" data-v-da85fca4><div class="col-md-6" data-v-da85fca4><h6 class="text-primary mb-3" data-v-da85fca4><i class="fas fa-question-circle me-2" data-v-da85fca4></i> Why Track Revenue by Client &amp; Service? </h6><ul class="list-unstyled mb-4" data-v-da85fca4><li class="mb-2" data-v-da85fca4><i class="fas fa-check text-success me-2" data-v-da85fca4></i><strong data-v-da85fca4>Identify Best Clients:</strong> See who pays the most consistently </li><li class="mb-2" data-v-da85fca4><i class="fas fa-check text-success me-2" data-v-da85fca4></i><strong data-v-da85fca4>Service Performance:</strong> Know which services are most profitable </li><li class="mb-2" data-v-da85fca4><i class="fas fa-check text-success me-2" data-v-da85fca4></i><strong data-v-da85fca4>Predict Cash Flow:</strong> Forecast upcoming payments and revenue </li><li class="mb-2" data-v-da85fca4><i class="fas fa-check text-success me-2" data-v-da85fca4></i><strong data-v-da85fca4>Plan Growth:</strong> Focus on high-value services and clients </li></ul><h6 class="text-primary mb-3" data-v-da85fca4><i class="fas fa-clock me-2" data-v-da85fca4></i> Pending Payment Forecasting </h6><ul class="list-unstyled" data-v-da85fca4><li class="mb-2" data-v-da85fca4><i class="fas fa-arrow-right text-info me-2" data-v-da85fca4></i> Track invoices sent but not yet paid </li><li class="mb-2" data-v-da85fca4><i class="fas fa-arrow-right text-info me-2" data-v-da85fca4></i> Predict when payments will arrive </li><li class="mb-2" data-v-da85fca4><i class="fas fa-arrow-right text-info me-2" data-v-da85fca4></i> Plan for cash flow gaps </li><li class="mb-2" data-v-da85fca4><i class="fas fa-arrow-right text-info me-2" data-v-da85fca4></i> Follow up on overdue payments </li></ul></div><div class="col-md-6" data-v-da85fca4><h6 class="text-primary mb-3" data-v-da85fca4><i class="fas fa-user-tie me-2" data-v-da85fca4></i> Solo Business Revenue Streams </h6><div class="revenue-streams" data-v-da85fca4><div class="stream-example mb-3" data-v-da85fca4><strong class="text-success d-block mb-2" data-v-da85fca4><i class="fas fa-globe me-2" data-v-da85fca4></i>Webflow Templates </strong><small class="text-muted d-block" data-v-da85fca4> One-time sales, license fees, custom template development </small><div class="example-amounts mt-1" data-v-da85fca4><span class="badge bg-light text-dark" data-v-da85fca4>$50 - $500 each</span><span class="badge bg-light text-dark" data-v-da85fca4>Recurring licenses</span></div></div><div class="stream-example mb-3" data-v-da85fca4><strong class="text-info d-block mb-2" data-v-da85fca4><i class="fas fa-shopping-cart me-2" data-v-da85fca4></i>Shopify Apps </strong><small class="text-muted d-block" data-v-da85fca4> Monthly subscriptions, app store revenue, custom development </small><div class="example-amounts mt-1" data-v-da85fca4><span class="badge bg-light text-dark" data-v-da85fca4>$10-50/month</span><span class="badge bg-light text-dark" data-v-da85fca4>Recurring MRR</span></div></div><div class="stream-example mb-3" data-v-da85fca4><strong class="text-warning d-block mb-2" data-v-da85fca4><i class="fas fa-handshake me-2" data-v-da85fca4></i>Client Services </strong><small class="text-muted d-block" data-v-da85fca4> Web development, consulting, maintenance contracts, design work </small><div class="example-amounts mt-1" data-v-da85fca4><span class="badge bg-light text-dark" data-v-da85fca4>$500-5000</span><span class="badge bg-light text-dark" data-v-da85fca4>Project-based</span></div></div></div><div class="alert alert-success mt-3" data-v-da85fca4><strong data-v-da85fca4><i class="fas fa-star me-2" data-v-da85fca4></i>Pro Revenue Tips: </strong><ul class="mb-0 mt-2" data-v-da85fca4><li data-v-da85fca4>Set up automatic payment reminders for clients</li><li data-v-da85fca4>Offer payment terms that favor faster payments (2/10 net 30)</li><li data-v-da85fca4>Diversify revenue streams to reduce dependency on single clients</li><li data-v-da85fca4>Track monthly recurring revenue (MRR) vs one-time payments</li></ul></div></div></div></div></div></div>',1)),e("div",Ee,[e("div",Ve,[e("div",je,[t[38]||(t[38]=e("div",{class:"stat-icon bg-success"},[e("i",{class:"fas fa-money-bill-wave"})],-1)),e("div",Oe,[e("div",Ie,"৳"+d(n.formatNumber(n.totalRevenue)),1),t[37]||(t[37]=e("div",{class:"stat-label"},"Total Revenue",-1))])])]),e("div",Le,[e("div",Ye,[t[40]||(t[40]=e("div",{class:"stat-icon bg-warning"},[e("i",{class:"fas fa-hourglass-half"})],-1)),e("div",qe,[e("div",We,"৳"+d(n.formatNumber(n.pendingRevenue)),1),t[39]||(t[39]=e("div",{class:"stat-label"},"Pending Payments",-1))])])]),e("div",ze,[e("div",Ge,[t[42]||(t[42]=e("div",{class:"stat-icon bg-primary"},[e("i",{class:"fas fa-crystal-ball"})],-1)),e("div",Qe,[e("div",He,"৳"+d(n.formatNumber(n.forecastRevenue)),1),t[41]||(t[41]=e("div",{class:"stat-label"},"Next Month Forecast",-1))])])])]),e("div",Ke,[e("div",Je,[e("div",Xe,[t[43]||(t[43]=e("div",{class:"card-header"},[e("h6",{class:"mb-0"},[e("i",{class:"fas fa-chart-pie me-2"}),u(" Revenue by Service Type ")])],-1)),e("div",Ze,[(m(!0),c(T,null,U(n.revenueByService,a=>(m(),c("div",{key:a.type,class:"service-revenue mb-3"},[e("div",$e,[e("div",et,[e("i",{class:P([a.icon,"me-2"])},null,2),e("strong",null,d(a.type),1),e("span",tt,d(a.count)+" items",1)]),e("div",st,"৳"+d(n.formatNumber(a.amount)),1)]),e("div",at,[e("div",{class:P(["progress-bar",a.color]),style:_e(`width: ${a.amount/n.totalRevenue*100}%`)},null,6)])]))),128))])])])]),e("div",nt,[e("div",ot,[e("div",lt,[e("div",it,[t[46]||(t[46]=e("h6",{class:"mb-0"},[e("i",{class:"fas fa-clock me-2"}),u(" Pending Payments Forecast - Next 90 Days ")],-1)),e("div",rt,[e("button",{onClick:t[4]||(t[4]=(...a)=>n.clearAllPendingPayments&&n.clearAllPendingPayments(...a)),class:"btn btn-outline-danger btn-sm me-2",disabled:n.pendingPayments.length===0},[...t[44]||(t[44]=[e("i",{class:"fas fa-trash-alt me-1"},null,-1),u(" Clear All ",-1)])],8,dt),e("button",{onClick:t[5]||(t[5]=(...a)=>n.exportPendingPayments&&n.exportPendingPayments(...a)),class:"btn btn-outline-primary btn-sm"},[...t[45]||(t[45]=[e("i",{class:"fas fa-download me-1"},null,-1),u(" Export CSV ",-1)])])])]),e("div",ct,[e("div",mt,[(m(!0),c(T,null,U(n.pendingPayments,a=>(m(),c("div",{key:a.id,class:"col-lg-4 col-md-6 mb-4"},[e("div",{class:P(["pending-payment-card",n.getPaymentCardClass(a)])},[e("div",ut,[e("div",vt,[t[47]||(t[47]=e("i",{class:"fas fa-user-circle me-2"},null,-1)),e("strong",null,d(a.client_name),1)]),e("div",ft,"৳"+d(n.formatNumber(a.amount)),1)]),e("div",pt,[e("div",bt,[e("i",{class:P([a.service_icon,"me-2"])},null,2),u(" "+d(a.service_type),1)]),e("div",gt,[t[48]||(t[48]=e("i",{class:"fas fa-calendar me-2"},null,-1)),u(" Expected: "+d(a.expected_date)+" ",1),e("span",{class:P(["badge ms-2",n.getPaymentBadgeClass(a)])},d(n.getPaymentStatus(a)),3)]),a.notes?(m(),c("div",yt,[t[49]||(t[49]=e("i",{class:"fas fa-sticky-note me-2"},null,-1)),e("small",_t,d(a.notes),1)])):g("",!0)]),e("div",ht,[e("button",{onClick:f=>n.markPaid(a),class:"btn btn-sm btn-success me-2"},[...t[50]||(t[50]=[e("i",{class:"fas fa-check"},null,-1),u(" Mark Paid ",-1)])],8,xt),e("button",{onClick:f=>n.sendReminder(a),class:"btn btn-sm btn-outline-primary me-2"},[...t[51]||(t[51]=[e("i",{class:"fas fa-bell"},null,-1),u(" Remind ",-1)])],8,wt),e("button",{onClick:f=>n.removePendingPayment(a),class:"btn btn-sm btn-outline-danger",title:"Remove this pending payment"},[...t[52]||(t[52]=[e("i",{class:"fas fa-times"},null,-1)])],8,Ct)])],2)]))),128)),n.pendingPayments.length===0?(m(),c("div",Pt,[...t[53]||(t[53]=[e("div",{class:"text-center py-5"},[e("i",{class:"fas fa-check-circle text-success mb-3",style:{"font-size":"4rem"}}),e("h5",{class:"text-muted"},"All Payments Up to Date!"),e("p",{class:"text-muted"},"No pending payments found. Great job keeping on top of collections!")],-1)])])):g("",!0)])])])])]),e("div",kt,[e("div",Rt,[e("div",Dt,[e("div",Ft,[e("h6",Tt,[t[54]||(t[54]=e("i",{class:"fas fa-check-circle me-2 text-success"},null,-1)),t[55]||(t[55]=u(" Paid Payments - This Month ",-1)),e("span",St,d(n.paidPaymentsThisMonth.length),1)]),e("div",Bt,[e("span",Mt," Total: ৳"+d(n.formatNumber(n.paidRevenueThisMonth)),1),e("button",{onClick:t[6]||(t[6]=(...a)=>n.exportPaidPayments&&n.exportPaidPayments(...a)),class:"btn btn-outline-success btn-sm"},[...t[56]||(t[56]=[e("i",{class:"fas fa-download me-1"},null,-1),u(" Export CSV ",-1)])])])]),e("div",Nt,[e("div",Ut,[(m(!0),c(T,null,U(n.paidPaymentsThisMonth,a=>(m(),c("div",{key:a.id,class:"col-lg-4 col-md-6 mb-4"},[e("div",At,[e("div",Et,[e("div",Vt,[t[57]||(t[57]=e("i",{class:"fas fa-user-circle me-2 text-success"},null,-1)),e("strong",null,d(a.client_name),1)]),e("div",jt," ৳"+d(a.formatted_amount),1)]),e("div",Ot,[e("div",It,[e("i",{class:P([a.service_icon,"me-2"])},null,2),u(" "+d(n.formatServiceType(a.service_type)),1)]),e("div",Lt,[t[58]||(t[58]=e("i",{class:"fas fa-calendar-check me-2"},null,-1)),u(" Paid: "+d(a.formatted_paid_date),1)]),a.currency==="USD"?(m(),c("div",Yt,[t[59]||(t[59]=e("i",{class:"fas fa-dollar-sign me-2"},null,-1)),e("small",null,"$"+d(n.formatNumber(a.amount))+" USD",1)])):g("",!0),a.description?(m(),c("div",qt,[t[60]||(t[60]=e("i",{class:"fas fa-info-circle me-2"},null,-1)),e("small",Wt,d(a.description),1)])):g("",!0)]),t[61]||(t[61]=e("div",{class:"payment-status mt-2"},[e("span",{class:"badge bg-success w-100"},[e("i",{class:"fas fa-check me-1"}),u(" Payment Received ")])],-1))])]))),128)),n.paidPaymentsThisMonth.length===0?(m(),c("div",zt,[...t[62]||(t[62]=[e("div",{class:"text-center py-5"},[e("i",{class:"fas fa-inbox text-muted mb-3",style:{"font-size":"4rem"}}),e("h5",{class:"text-muted"},"No Paid Payments This Month"),e("p",{class:"text-muted"},"No payments have been received this month yet.")],-1)])])):g("",!0)])])])])]),e("div",Gt,[e("div",Qt,[e("div",Ht,[e("div",Kt,[e("h6",Jt,[t[63]||(t[63]=e("i",{class:"fas fa-list me-2"},null,-1)),u(" Revenue Items for Selected Period ("+d(n.getPeriodLabel(n.selectedPeriod))+") ",1),e("span",Xt,d(n.periodFilteredRevenues.length),1)]),e("div",Zt," Total: ৳"+d(n.formatNumber(n.periodFilteredTotal)),1)]),e("div",$t,[n.periodFilteredRevenues.length===0?(m(),c("div",es,[...t[64]||(t[64]=[e("i",{class:"fas fa-inbox text-muted mb-3",style:{"font-size":"3rem"}},null,-1),e("h5",{class:"text-muted"},"No Revenue Items Found",-1),e("p",{class:"text-muted"},"No revenue items found for the selected period. Add some revenue to see them here!",-1)])])):(m(),c("div",ts,[(m(!0),c(T,null,U(n.periodFilteredRevenues,a=>(m(),c("div",{key:a.id,class:"col-lg-6 col-xl-4 mb-3"},[e("div",ss,[e("div",as,[e("div",ns,[e("div",os,[e("i",{class:P([a.service_icon,"me-2 text-primary"])},null,2),e("div",null,[e("strong",ls,d(a.client_name),1),e("small",is,d(n.formatServiceType(a.service_type)),1)])])]),e("div",rs,[e("span",{class:P(["badge",`bg-${a.status_color}`])},d(a.status.charAt(0).toUpperCase()+a.status.slice(1)),3)])]),e("div",ds,[e("div",cs,[e("strong",ms,"৳"+d(a.formatted_amount),1),a.currency==="USD"?(m(),c("span",us," ($"+d(n.formatNumber(a.amount))+" USD) ",1)):g("",!0)]),e("div",vs,[a.description?(m(),c("small",fs,[t[65]||(t[65]=e("i",{class:"fas fa-comment-alt me-1"},null,-1)),u(" "+d(a.description),1)])):g("",!0),e("small",ps,[t[66]||(t[66]=e("i",{class:"fas fa-calendar me-1"},null,-1)),u(" "+d(n.formatDate(a.created_at||a.invoice_date)),1)]),a.status!=="paid"&&a.expected_date?(m(),c("small",bs,[t[67]||(t[67]=e("i",{class:"fas fa-clock me-1"},null,-1)),u(" Expected: "+d(n.formatDate(a.expected_date)),1)])):g("",!0)])]),a.status!=="paid"?(m(),c("div",gs,[e("button",{onClick:f=>n.markPaid(a),class:"btn btn-sm btn-success me-1"},[...t[68]||(t[68]=[e("i",{class:"fas fa-check me-1"},null,-1),u(" Mark Paid ",-1)])],8,ys)])):g("",!0)])]))),128))]))])])])]),n.showAddClient?(m(),c("div",{key:0,class:"modal-overlay",onClick:t[16]||(t[16]=(...a)=>n.closeClientModal&&n.closeClientModal(...a))},[e("div",{class:"modal-content",onClick:t[15]||(t[15]=E(()=>{},["stop"]))},[e("div",_s,[t[69]||(t[69]=e("h5",null,"Add New Client",-1)),e("button",{onClick:t[7]||(t[7]=(...a)=>n.closeClientModal&&n.closeClientModal(...a)),class:"btn-close"},"×")]),e("div",hs,[e("form",{onSubmit:t[14]||(t[14]=E((...a)=>n.saveClient&&n.saveClient(...a),["prevent"]))},[e("div",xs,[e("div",ws,[t[70]||(t[70]=e("label",{class:"form-label"},"Client Name *",-1)),b(e("input",{"onUpdate:modelValue":t[8]||(t[8]=a=>n.clientForm.name=a),type:"text",class:"form-control",required:"",placeholder:"Company or Person Name"},null,512),[[x,n.clientForm.name]])]),e("div",Cs,[t[71]||(t[71]=e("label",{class:"form-label"},"Email",-1)),b(e("input",{"onUpdate:modelValue":t[9]||(t[9]=a=>n.clientForm.email=a),type:"email",class:"form-control",placeholder:"client@company.com"},null,512),[[x,n.clientForm.email]])])]),e("div",Ps,[e("div",ks,[t[72]||(t[72]=e("label",{class:"form-label"},"Phone",-1)),b(e("input",{"onUpdate:modelValue":t[10]||(t[10]=a=>n.clientForm.phone=a),type:"text",class:"form-control",placeholder:"+1234567890"},null,512),[[x,n.clientForm.phone]])]),e("div",Rs,[t[74]||(t[74]=e("label",{class:"form-label"},"Payment Terms",-1)),b(e("select",{"onUpdate:modelValue":t[11]||(t[11]=a=>n.clientForm.payment_terms=a),class:"form-select"},[...t[73]||(t[73]=[e("option",{value:"net_15"},"Net 15 days",-1),e("option",{value:"net_30"},"Net 30 days",-1),e("option",{value:"net_60"},"Net 60 days",-1),e("option",{value:"immediate"},"Immediate",-1)])],512),[[F,n.clientForm.payment_terms]])])]),e("div",Ds,[t[75]||(t[75]=e("label",{class:"form-label"},"Notes",-1)),b(e("textarea",{"onUpdate:modelValue":t[12]||(t[12]=a=>n.clientForm.notes=a),class:"form-control",rows:"3",placeholder:"Client preferences, project details, etc."},null,512),[[x,n.clientForm.notes]])]),e("div",Fs,[e("button",{type:"button",onClick:t[13]||(t[13]=(...a)=>n.closeClientModal&&n.closeClientModal(...a)),class:"btn btn-secondary"}," Cancel "),e("button",{type:"submit",class:"btn btn-success",disabled:n.saving},[t[76]||(t[76]=e("i",{class:"fas fa-save"},null,-1)),u(" "+d(n.saving?"Saving...":"Save Client"),1)],8,Ts)])],32)])])])):g("",!0),n.showAddRevenue?(m(),c("div",{key:1,class:"modal-overlay",onClick:t[30]||(t[30]=(...a)=>n.closeRevenueModal&&n.closeRevenueModal(...a))},[e("div",{class:"modal-content large-modal",onClick:t[29]||(t[29]=E(()=>{},["stop"]))},[e("div",Ss,[t[77]||(t[77]=e("h5",null,"Log Revenue / Pending Payment",-1)),e("button",{onClick:t[17]||(t[17]=(...a)=>n.closeRevenueModal&&n.closeRevenueModal(...a)),class:"btn-close"},"×")]),e("div",Bs,[e("form",{onSubmit:t[28]||(t[28]=E((...a)=>n.saveRevenue&&n.saveRevenue(...a),["prevent"]))},[e("div",Ms,[e("div",Ns,[t[79]||(t[79]=e("label",{class:"form-label"},"Client *",-1)),b(e("select",{"onUpdate:modelValue":t[18]||(t[18]=a=>n.revenueForm.client_id=a),class:"form-select",required:""},[t[78]||(t[78]=e("option",{value:""},"Select Client",-1)),(m(!0),c(T,null,U(n.sortedClients,a=>(m(),c("option",{key:a.id,value:a.id},d(a.name),9,Us))),128))],512),[[F,n.revenueForm.client_id]])]),e("div",As,[t[81]||(t[81]=e("label",{class:"form-label"},"Service Type *",-1)),b(e("select",{"onUpdate:modelValue":t[19]||(t[19]=a=>n.revenueForm.service_type=a),class:"form-select",required:""},[...t[80]||(t[80]=[G('<option value="webflow_template" data-v-da85fca4>Webflow Template</option><option value="shopify_app" data-v-da85fca4>Shopify App</option><option value="web_development" data-v-da85fca4>Web Development</option><option value="consulting" data-v-da85fca4>Consulting</option><option value="maintenance" data-v-da85fca4>Maintenance Contract</option><option value="envato" data-v-da85fca4>Envato</option><option value="other" data-v-da85fca4>Other Service</option>',7)])],512),[[F,n.revenueForm.service_type]])])]),e("div",Es,[e("div",Vs,[t[84]||(t[84]=e("label",{class:"form-label"},"Amount *",-1)),e("div",js,[b(e("select",{"onUpdate:modelValue":t[20]||(t[20]=a=>n.revenueForm.currency=a),class:"input-group-text",style:{"border-right":"0",background:"#e9ecef"}},[...t[82]||(t[82]=[e("option",{value:"BDT"},"৳",-1),e("option",{value:"USD"},"$",-1)])],512),[[F,n.revenueForm.currency]]),b(e("input",{"onUpdate:modelValue":t[21]||(t[21]=a=>n.revenueForm.amount=a),type:"number",class:"form-control",step:"0.01",min:"0",required:"",placeholder:"5000.00"},null,512),[[x,n.revenueForm.amount,void 0,{number:!0}]])]),n.revenueForm.currency==="USD"?(m(),c("div",Os,[e("small",null,[t[83]||(t[83]=e("i",{class:"fas fa-exchange-alt me-1"},null,-1)),u(" Converted: ৳"+d(n.formatNumber(n.revenueForm.amount*n.USD_TO_BDT_RATE))+" BDT (1 USD = "+d(n.USD_TO_BDT_RATE)+" BDT) ",1)])])):g("",!0)]),e("div",Is,[t[86]||(t[86]=e("label",{class:"form-label"},"Status *",-1)),b(e("select",{"onUpdate:modelValue":t[22]||(t[22]=a=>n.revenueForm.status=a),class:"form-select",required:""},[...t[85]||(t[85]=[e("option",{value:"paid"},"Paid (Received)",-1),e("option",{value:"pending"},"Pending Payment",-1),e("option",{value:"overdue"},"Overdue",-1)])],512),[[F,n.revenueForm.status]])])]),n.revenueForm.status!=="paid"?(m(),c("div",Ls,[e("div",Ys,[t[87]||(t[87]=e("label",{class:"form-label"},"Expected Payment Date",-1)),b(e("input",{"onUpdate:modelValue":t[23]||(t[23]=a=>n.revenueForm.expected_date=a),type:"date",class:"form-control"},null,512),[[x,n.revenueForm.expected_date]])]),e("div",qs,[t[88]||(t[88]=e("label",{class:"form-label"},"Invoice Date",-1)),b(e("input",{"onUpdate:modelValue":t[24]||(t[24]=a=>n.revenueForm.invoice_date=a),type:"date",class:"form-control"},null,512),[[x,n.revenueForm.invoice_date]])])])):g("",!0),e("div",Ws,[t[89]||(t[89]=e("label",{class:"form-label"},"Description",-1)),b(e("input",{"onUpdate:modelValue":t[25]||(t[25]=a=>n.revenueForm.description=a),type:"text",class:"form-control",placeholder:"Brief description of the service"},null,512),[[x,n.revenueForm.description]])]),e("div",zs,[t[90]||(t[90]=e("label",{class:"form-label"},"Notes",-1)),b(e("textarea",{"onUpdate:modelValue":t[26]||(t[26]=a=>n.revenueForm.notes=a),class:"form-control",rows:"3",placeholder:"Additional notes, payment terms, follow-up reminders"},null,512),[[x,n.revenueForm.notes]])]),e("div",Gs,[e("button",{type:"button",onClick:t[27]||(t[27]=(...a)=>n.closeRevenueModal&&n.closeRevenueModal(...a)),class:"btn btn-secondary"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary",disabled:n.saving},[t[91]||(t[91]=e("i",{class:"fas fa-save"},null,-1)),u(" "+d(n.saving?"Saving...":"Save Revenue"),1)],8,Qs)])],32)])])])):g("",!0)])])])],64)}const $s=we(Ce,[["render",Hs],["__scopeId","data-v-da85fca4"]]);export{$s as default};
