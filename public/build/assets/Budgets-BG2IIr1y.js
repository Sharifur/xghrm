import{A as J}from"./AdminMaster-C9ex_D1k.js";import{H as K,r as X,c as v,o as p,a as Z,b as t,d as N,h as F,f as b,e as g,A,t as r,F as T,p as $,n as _,$ as tt,w as M,i as y,l as x,B as at,y as h,C as et}from"./app-KzMLV04Q.js";import{S as c}from"./sweetalert2.esm.all-Y6IUEg8t.js";import{_ as st}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ot={layout:J,name:"Budgets",components:{Head:K},props:{budgets:Array},setup(S){const a=x("current"),C=x(!1),e=x(null),B=x(!1),l=x([...S.budgets||[]]),i=at({name:"",description:"",allocated_amount:0,icon:"fas fa-chart-pie",notes:"",auto_forecast:1}),o=h(()=>l.value.reduce((s,n)=>s+n.allocated_amount,0)),w=h(()=>l.value.reduce((s,n)=>s+n.used_amount,0)),D=h(()=>l.value.reduce((s,n)=>s+(n.forecast_next_quarter||0),0)),q=h(()=>l.value.filter(s=>s.used_amount/s.allocated_amount*100>=80).length),Q=h(()=>{const s=new Date,m=(Math.floor(s.getMonth()/3)+1)*3,d=new Date(s.getFullYear(),m,0)-s;return Math.ceil(d/(1e3*60*60*24))}),u=s=>new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}).format(s||0),E=s=>{const n=s.used_amount/s.allocated_amount*100;return n>=100?"budget-over-limit":n>=80?"budget-near-limit":""},U=s=>{const n=s.used_amount/s.allocated_amount*100;return n>=100?"bg-danger":n>=80?"bg-warning":n>=60?"bg-info":"bg-success"},V=s=>{const n=s.used_amount/s.allocated_amount*100;return n>=100?"bg-danger":n>=80?"bg-warning":"bg-success"},k=s=>{const n=s.used_amount/s.allocated_amount*100;return n>=100?"Over Budget":n>=80?"Near Limit":"On Track"},L=()=>{i.name="",i.description="",i.allocated_amount=0,i.icon="fas fa-chart-pie",i.notes="",i.auto_forecast=1},O=s=>{e.value=s,i.name=s.name,i.description=s.description,i.allocated_amount=s.allocated_amount,i.icon=s.icon,i.notes=s.notes,i.auto_forecast=s.auto_forecast},P=()=>{C.value=!1,e.value=null,L()},R=async()=>{B.value=!0;try{const s={...i,id:e.value?e.value.id:Date.now(),used_amount:e.value?e.value.used_amount:0,remaining_amount:i.allocated_amount-(e.value?e.value.used_amount:0),forecast_next_quarter:i.allocated_amount*1.1};if(e.value){const n=l.value.findIndex(m=>m.id===e.value.id);l.value[n]=s}else l.value.push(s);P(),c.fire({title:"Success!",text:`Budget ${e.value?"updated":"created"} successfully`,icon:"success",confirmButtonColor:"#007bff",timer:3e3,timerProgressBar:!0})}catch(s){console.error("Save failed:",s),c.fire({title:"Error!",text:"Failed to save budget",icon:"error",confirmButtonColor:"#e74a3b"})}finally{B.value=!1}},I=s=>{c.fire({title:s.name+" Details",html:`
                    <div class="text-left">
                        <p><strong>Allocated:</strong> ৳${u(s.allocated_amount)}</p>
                        <p><strong>Used:</strong> ৳${u(s.used_amount)}</p>
                        <p><strong>Remaining:</strong> ৳${u(s.remaining_amount)}</p>
                        ${s.forecast_next_quarter?`<p><strong>Next Quarter Forecast:</strong> ৳${u(s.forecast_next_quarter)}</p>`:""}
                        <p><strong>Status:</strong> ${k(s)}</p>
                        ${s.description?`<p><strong>Description:</strong> ${s.description}</p>`:""}
                    </div>
                `,confirmButtonColor:"#007bff"})},Y=()=>{console.log("Period changed to:",a.value)},j=async s=>{if((await c.fire({title:"Delete Budget?",html:`
                    <div class="text-left">
                        <p>Are you sure you want to delete the budget for <strong>${s.name}</strong>?</p>
                        <div class="alert alert-warning mt-3">
                            <i class="fas fa-exclamation-triangle me-2"></i>
                            <strong>Budget Details:</strong><br>
                            Allocated: ৳${u(s.allocated_amount)}<br>
                            Used: ৳${u(s.used_amount)}<br>
                            Remaining: ৳${u(s.remaining_amount)}
                        </div>
                        <p class="text-danger"><strong>This action cannot be undone!</strong></p>
                    </div>
                `,icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc3545",cancelButtonColor:"#6c757d",confirmButtonText:"Yes, delete it!"})).isConfirmed){const m=l.value.findIndex(f=>f.id===s.id);m!==-1&&(l.value.splice(m,1),c.fire({title:"Budget Deleted!",text:`${s.name} budget has been removed`,icon:"success",confirmButtonColor:"#28a745",timer:3e3,timerProgressBar:!0}))}},G=async()=>{if(l.value.length===0){c.fire({title:"No Budgets",text:"There are no budgets to clear",icon:"info",confirmButtonColor:"#007bff"});return}if((await c.fire({title:"Clear All Budgets?",html:`
                    <div class="text-left">
                        <p>This will permanently delete <strong>${l.value.length}</strong> budget categories totaling <strong>৳${u(o.value)}</strong></p>
                        <div class="mt-3">
                            <h6>Budgets to be deleted:</h6>
                            <ul class="list-unstyled">
                                ${l.value.map(n=>`
                                    <li class="mb-1">
                                        <i class="${n.icon||"fas fa-chart-pie"} me-1"></i> ${n.name} - 
                                        <strong>৳${u(n.allocated_amount)}</strong>
                                    </li>
                                `).join("")}
                            </ul>
                        </div>
                        <div class="alert alert-danger mt-3">
                            <i class="fas fa-exclamation-triangle me-2"></i>
                            <strong>Warning:</strong> All budget data and forecasting information will be permanently lost. This action cannot be undone!
                        </div>
                    </div>
                `,icon:"error",showCancelButton:!0,confirmButtonColor:"#dc3545",cancelButtonColor:"#6c757d",confirmButtonText:"Yes, clear all budgets!",cancelButtonText:"Cancel",width:"600px"})).isConfirmed){const n=l.value.length,m=o.value;l.value.splice(0),c.fire({title:"All Budgets Cleared!",html:`
                        <div class="text-center">
                            <i class="fas fa-check-circle text-success mb-3" style="font-size: 3rem;"></i>
                            <p><strong>${n}</strong> budgets deleted</p>
                            <p><strong>৳${u(m)}</strong> total budget cleared</p>
                            <div class="alert alert-success mt-3">
                                <i class="fas fa-info-circle me-2"></i>
                                You can now create fresh budgets for your business planning!
                            </div>
                        </div>
                    `,icon:null,confirmButtonColor:"#28a745",timer:5e3,timerProgressBar:!0,width:"500px"})}},z=()=>{if(l.value.length===0){c.fire({title:"No Data to Export",text:"There are no budgets to export",icon:"info",confirmButtonColor:"#007bff"});return}let s=`Budget Name,Description,Allocated Amount (BDT),Used Amount (BDT),Remaining Amount (BDT),Usage %,Status,Next Quarter Forecast (BDT),Auto Forecast
`;l.value.forEach(d=>{const W=(d.used_amount/d.allocated_amount*100).toFixed(1);s+=`"${d.name}","${d.description||""}",${d.allocated_amount},${d.used_amount},${d.remaining_amount},${W}%,"${k(d)}",${d.forecast_next_quarter||""},"${d.auto_forecast?"Yes":"No"}"
`});const n=new Blob([s],{type:"text/csv;charset=utf-8;"}),m=URL.createObjectURL(n),f=document.createElement("a");f.href=m,f.download=`Budget-Summary-${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(m),c.fire({title:"Export Complete!",text:`Budget data exported to CSV file with ${l.value.length} categories`,icon:"success",confirmButtonColor:"#007bff",timer:3e3,timerProgressBar:!0})},H=async()=>{(await c.fire({title:"Reset Budget Period?",html:`
                    <div class="text-left">
                        <p>This will reset the "used amount" for all budget categories to zero, keeping the allocated amounts intact.</p>
                        <div class="alert alert-info mt-3">
                            <i class="fas fa-info-circle me-2"></i>
                            <strong>What happens:</strong><br>
                            • All "used amount" values reset to ৳0<br>
                            • Allocated amounts remain unchanged<br>
                            • Progress bars restart at 0%<br>
                            • Perfect for starting a new quarter
                        </div>
                        <p>Use this when starting a new budget period.</p>
                    </div>
                `,icon:"question",showCancelButton:!0,confirmButtonColor:"#007bff",cancelButtonColor:"#6c757d",confirmButtonText:"Yes, reset period!"})).isConfirmed&&(l.value.forEach(n=>{n.used_amount=0,n.remaining_amount=n.allocated_amount}),c.fire({title:"Budget Period Reset!",text:"All budget categories have been reset for the new period",icon:"success",confirmButtonColor:"#28a745",timer:3e3,timerProgressBar:!0}))};return et(()=>{l.value.length===0&&(l.value=[{id:1,name:"Technology & Software",description:"Hosting, domains, software subscriptions, development tools",allocated_amount:15e3,used_amount:8500,remaining_amount:6500,icon:"fas fa-laptop",forecast_next_quarter:16500,auto_forecast:1},{id:2,name:"Marketing & Advertising",description:"Google Ads, Facebook Ads, content creation, networking",allocated_amount:2e4,used_amount:16800,remaining_amount:3200,icon:"fas fa-bullhorn",forecast_next_quarter:25e3,auto_forecast:1},{id:3,name:"Office & Operations",description:"Electricity, internet, phone, office supplies",allocated_amount:12e3,used_amount:5400,remaining_amount:6600,icon:"fas fa-building",forecast_next_quarter:13200,auto_forecast:1}])}),{selectedPeriod:a,showCreateBudget:C,editingBudget:e,saving:B,budgets:l,budgetForm:i,totalBudget:o,currentQuarterSpent:w,forecastNextQuarter:D,nearLimitCount:q,daysLeftInQuarter:Q,formatNumber:u,getBudgetCardClass:E,getProgressBarClass:U,getStatusBadgeClass:V,getBudgetStatus:k,editBudget:O,closeModal:P,saveBudget:R,viewBudgetDetails:I,updatePeriod:Y,deleteBudget:j,clearAllBudgets:G,exportBudgets:z,resetBudgetPeriod:H}}},nt={class:"row"},lt={class:"col-lg-12"},it={class:"dashboard-settings margin-top-40"},rt={class:"card mb-4"},dt={class:"card-header d-flex justify-content-between align-items-center"},ct={class:"d-flex gap-2"},ut={class:"dropdown"},mt={class:"dropdown-menu"},ft=["disabled"],bt=["disabled"],gt={class:"card-body"},vt={class:"row"},pt={class:"col-md-4 text-end"},_t={class:"budget-summary"},xt={class:"total-budget"},ht={class:"h5 mb-0 text-primary"},Bt={class:"row mb-4"},wt={class:"col-md-3"},yt={class:"stat-card"},Ct={class:"stat-content"},kt={class:"stat-value"},Ft={class:"col-md-3"},At={class:"stat-card"},St={class:"stat-content"},Pt={class:"stat-value"},Nt={class:"col-md-3"},Tt={class:"stat-card"},Mt={class:"stat-content"},Dt={class:"stat-value"},qt={class:"col-md-3"},Qt={class:"stat-card"},Et={class:"stat-content"},Ut={class:"stat-value"},Vt={class:"row"},Lt={class:"budget-header"},Ot={class:"budget-icon"},Rt={class:"budget-actions"},It=["onClick"],Yt=["onClick"],jt=["onClick"],Gt={class:"budget-content"},zt={class:"budget-description"},Ht={class:"budget-progress mb-3"},Wt={class:"d-flex justify-content-between mb-1"},Jt={class:"progress"},Kt={class:"budget-details"},Xt={class:"budget-amounts"},Zt={class:"amount-row"},$t={class:"value"},ta={class:"amount-row"},aa={key:0,class:"amount-row"},ea={class:"value text-info"},sa={class:"budget-status mt-2"},oa={key:0,class:"col-12"},na={class:"modal-header"},la={class:"modal-body"},ia={class:"row"},ra={class:"col-md-6 mb-3"},da={class:"col-md-6 mb-3"},ca={class:"row"},ua={class:"col-md-6 mb-3"},ma={class:"col-md-6 mb-3"},fa={class:"mb-3"},ba={class:"mb-3"},ga={class:"d-flex justify-content-end gap-2"},va=["disabled"];function pa(S,a,C,e,B,l){const i=X("Head");return p(),v(T,null,[Z(i,{title:"Budget Management & Forecasting"}),t("div",nt,[t("div",lt,[t("div",it,[t("div",rt,[t("div",dt,[a[24]||(a[24]=t("h4",{class:"mb-0"},[t("i",{class:"fas fa-chart-pie me-2"}),b(" Budget Management & Forecasting ")],-1)),t("div",ct,[g(t("select",{"onUpdate:modelValue":a[0]||(a[0]=o=>e.selectedPeriod=o),onChange:a[1]||(a[1]=(...o)=>e.updatePeriod&&e.updatePeriod(...o)),class:"form-select form-select-sm",style:{width:"180px"}},[...a[17]||(a[17]=[t("option",{value:"current"},"Current Quarter",-1),t("option",{value:"next"},"Next Quarter",-1),t("option",{value:"annual"},"Annual View",-1)])],544),[[A,e.selectedPeriod]]),t("button",{onClick:a[2]||(a[2]=o=>e.showCreateBudget=!0),class:"btn btn-primary me-2"},[...a[18]||(a[18]=[t("i",{class:"fas fa-plus"},null,-1),b(" Create Budget ",-1)])]),t("div",ut,[a[23]||(a[23]=t("button",{class:"btn btn-outline-danger dropdown-toggle",type:"button","data-bs-toggle":"dropdown"},[t("i",{class:"fas fa-trash-alt"}),b(" Manage ")],-1)),t("ul",mt,[t("li",null,[t("button",{class:"dropdown-item text-danger",onClick:a[3]||(a[3]=(...o)=>e.clearAllBudgets&&e.clearAllBudgets(...o)),disabled:e.budgets.length===0},[...a[19]||(a[19]=[t("i",{class:"fas fa-trash-alt me-2"},null,-1),b("Clear All Budgets ",-1)])],8,ft)]),t("li",null,[t("button",{class:"dropdown-item",onClick:a[4]||(a[4]=(...o)=>e.exportBudgets&&e.exportBudgets(...o)),disabled:e.budgets.length===0},[...a[20]||(a[20]=[t("i",{class:"fas fa-download me-2"},null,-1),b("Export CSV ",-1)])],8,bt)]),a[22]||(a[22]=t("li",null,[t("hr",{class:"dropdown-divider"})],-1)),t("li",null,[t("button",{class:"dropdown-item",onClick:a[5]||(a[5]=(...o)=>e.resetBudgetPeriod&&e.resetBudgetPeriod(...o))},[...a[21]||(a[21]=[t("i",{class:"fas fa-sync-alt me-2"},null,-1),b("Reset Current Period ",-1)])])])])])])]),t("div",gt,[t("div",vt,[a[26]||(a[26]=t("div",{class:"col-md-8"},[t("p",{class:"text-muted mb-0"}," Plan and track your business expenses across different categories with quarterly forecasting. Monitor spending patterns and predict future financial needs based on historical data. ")],-1)),t("div",pt,[t("div",_t,[t("div",xt,[a[25]||(a[25]=t("small",{class:"text-muted"},"Total Budget",-1)),t("div",ht,"৳"+r(e.formatNumber(e.totalBudget)),1)])])])])])]),a[52]||(a[52]=N('<div class="card mb-4 entrepreneur-guide" data-v-1f4bb8aa><div class="card-header bg-warning-light" data-v-1f4bb8aa><button class="btn btn-link text-warning p-0 w-100 text-start" type="button" data-bs-toggle="collapse" data-bs-target="#budgetGuide" aria-expanded="false" data-v-1f4bb8aa><h6 class="mb-0" data-v-1f4bb8aa><i class="fas fa-lightbulb me-2" data-v-1f4bb8aa></i> Solo Entrepreneur Budget &amp; Forecasting Guide <i class="fas fa-chevron-down float-end mt-1" data-v-1f4bb8aa></i></h6></button></div><div class="collapse" id="budgetGuide" data-v-1f4bb8aa><div class="card-body" data-v-1f4bb8aa><div class="row" data-v-1f4bb8aa><div class="col-md-6" data-v-1f4bb8aa><h6 class="text-primary mb-3" data-v-1f4bb8aa><i class="fas fa-question-circle me-2" data-v-1f4bb8aa></i> What is Budget Management? </h6><p class="mb-3 text-muted" data-v-1f4bb8aa> Budget management helps you <strong data-v-1f4bb8aa>plan and control spending</strong> by setting limits for different business categories and tracking actual expenses against those limits. </p><ul class="list-unstyled mb-4" data-v-1f4bb8aa><li class="mb-2" data-v-1f4bb8aa><i class="fas fa-check text-success me-2" data-v-1f4bb8aa></i><strong data-v-1f4bb8aa>Plan Ahead:</strong> Set spending limits for each category </li><li class="mb-2" data-v-1f4bb8aa><i class="fas fa-check text-success me-2" data-v-1f4bb8aa></i><strong data-v-1f4bb8aa>Track Progress:</strong> Monitor actual vs budgeted amounts </li><li class="mb-2" data-v-1f4bb8aa><i class="fas fa-check text-success me-2" data-v-1f4bb8aa></i><strong data-v-1f4bb8aa>Forecast Future:</strong> Predict next quarter&#39;s needs </li><li class="mb-2" data-v-1f4bb8aa><i class="fas fa-check text-success me-2" data-v-1f4bb8aa></i><strong data-v-1f4bb8aa>Stay on Track:</strong> Get alerts when nearing limits </li></ul><h6 class="text-primary mb-3" data-v-1f4bb8aa><i class="fas fa-crystal-ball me-2" data-v-1f4bb8aa></i> Quarterly Forecasting Benefits </h6><ul class="list-unstyled" data-v-1f4bb8aa><li class="mb-2" data-v-1f4bb8aa><i class="fas fa-arrow-right text-info me-2" data-v-1f4bb8aa></i> Plan for seasonal business changes </li><li class="mb-2" data-v-1f4bb8aa><i class="fas fa-arrow-right text-info me-2" data-v-1f4bb8aa></i> Prepare for equipment upgrades </li><li class="mb-2" data-v-1f4bb8aa><i class="fas fa-arrow-right text-info me-2" data-v-1f4bb8aa></i> Budget for marketing campaigns </li><li class="mb-2" data-v-1f4bb8aa><i class="fas fa-arrow-right text-info me-2" data-v-1f4bb8aa></i> Ensure adequate cash flow </li></ul></div><div class="col-md-6" data-v-1f4bb8aa><h6 class="text-primary mb-3" data-v-1f4bb8aa><i class="fas fa-user-tie me-2" data-v-1f4bb8aa></i> Solo Business Budget Categories </h6><div class="budget-categories" data-v-1f4bb8aa><div class="category-example mb-3" data-v-1f4bb8aa><strong class="text-success d-block mb-2" data-v-1f4bb8aa><i class="fas fa-laptop me-2" data-v-1f4bb8aa></i>Technology &amp; Software </strong><small class="text-muted d-block" data-v-1f4bb8aa> Hosting, domains, Adobe CC, Figma Pro, development tools, equipment repairs </small><div class="example-amounts mt-1" data-v-1f4bb8aa><span class="badge bg-light text-dark" data-v-1f4bb8aa>Q1: ৳15,000</span><span class="badge bg-light text-dark" data-v-1f4bb8aa>Q2: ৳8,000</span></div></div><div class="category-example mb-3" data-v-1f4bb8aa><strong class="text-info d-block mb-2" data-v-1f4bb8aa><i class="fas fa-bullhorn me-2" data-v-1f4bb8aa></i>Marketing &amp; Growth </strong><small class="text-muted d-block" data-v-1f4bb8aa> Google Ads, Facebook Ads, content creation, networking events, conferences </small><div class="example-amounts mt-1" data-v-1f4bb8aa><span class="badge bg-light text-dark" data-v-1f4bb8aa>Q1: ৳20,000</span><span class="badge bg-light text-dark" data-v-1f4bb8aa>Q2: ৳25,000</span></div></div><div class="category-example mb-3" data-v-1f4bb8aa><strong class="text-warning d-block mb-2" data-v-1f4bb8aa><i class="fas fa-building me-2" data-v-1f4bb8aa></i>Operations &amp; Office </strong><small class="text-muted d-block" data-v-1f4bb8aa> Electricity, internet, phone, office supplies, co-working space </small><div class="example-amounts mt-1" data-v-1f4bb8aa><span class="badge bg-light text-dark" data-v-1f4bb8aa>Q1: ৳12,000</span><span class="badge bg-light text-dark" data-v-1f4bb8aa>Q2: ৳12,000</span></div></div></div><div class="alert alert-warning mt-3" data-v-1f4bb8aa><strong data-v-1f4bb8aa><i class="fas fa-star me-2" data-v-1f4bb8aa></i>Pro Forecasting Tips: </strong><ul class="mb-0 mt-2" data-v-1f4bb8aa><li data-v-1f4bb8aa>Review last 6 months to predict next quarter</li><li data-v-1f4bb8aa>Add 10-20% buffer for unexpected expenses</li><li data-v-1f4bb8aa>Plan for seasonal changes in your business</li><li data-v-1f4bb8aa>Set aside money for annual software renewals</li></ul></div></div></div></div></div></div>',1)),t("div",Bt,[t("div",wt,[t("div",yt,[a[28]||(a[28]=t("div",{class:"stat-icon bg-primary"},[t("i",{class:"fas fa-wallet"})],-1)),t("div",Ct,[t("div",kt,"৳"+r(e.formatNumber(e.currentQuarterSpent)),1),a[27]||(a[27]=t("div",{class:"stat-label"},"Current Quarter Spent",-1))])])]),t("div",Ft,[t("div",At,[a[30]||(a[30]=t("div",{class:"stat-icon bg-success"},[t("i",{class:"fas fa-chart-line"})],-1)),t("div",St,[t("div",Pt,"৳"+r(e.formatNumber(e.forecastNextQuarter)),1),a[29]||(a[29]=t("div",{class:"stat-label"},"Next Quarter Forecast",-1))])])]),t("div",Nt,[t("div",Tt,[a[32]||(a[32]=t("div",{class:"stat-icon bg-warning"},[t("i",{class:"fas fa-exclamation-triangle"})],-1)),t("div",Mt,[t("div",Dt,r(e.nearLimitCount),1),a[31]||(a[31]=t("div",{class:"stat-label"},"Budgets Near Limit",-1))])])]),t("div",qt,[t("div",Qt,[a[34]||(a[34]=t("div",{class:"stat-icon bg-info"},[t("i",{class:"fas fa-calendar-alt"})],-1)),t("div",Et,[t("div",Ut,r(e.daysLeftInQuarter),1),a[33]||(a[33]=t("div",{class:"stat-label"},"Days Left in Quarter",-1))])])])]),t("div",Vt,[(p(!0),v(T,null,$(e.budgets,o=>(p(),v("div",{key:o.id,class:"col-lg-6 col-xl-4 mb-4"},[t("div",{class:_(["budget-card",e.getBudgetCardClass(o)])},[t("div",Lt,[t("div",Ot,[t("i",{class:_(o.icon||"fas fa-chart-pie")},null,2)]),t("div",Rt,[t("button",{onClick:w=>e.editBudget(o),class:"btn btn-sm btn-outline-primary",title:"Edit Budget"},[...a[35]||(a[35]=[t("i",{class:"fas fa-edit"},null,-1)])],8,It),t("button",{onClick:w=>e.viewBudgetDetails(o),class:"btn btn-sm btn-outline-info",title:"View Details"},[...a[36]||(a[36]=[t("i",{class:"fas fa-chart-bar"},null,-1)])],8,Yt),t("button",{onClick:w=>e.deleteBudget(o),class:"btn btn-sm btn-outline-danger",title:"Delete Budget"},[...a[37]||(a[37]=[t("i",{class:"fas fa-trash"},null,-1)])],8,jt)])]),t("div",Gt,[t("h6",null,r(o.name),1),t("p",zt,r(o.description||"No description"),1),t("div",Ht,[t("div",Wt,[t("small",null,"Used: ৳"+r(e.formatNumber(o.used_amount)),1),t("small",null,r(Math.round(o.used_amount/o.allocated_amount*100))+"%",1)]),t("div",Jt,[t("div",{class:_(["progress-bar",e.getProgressBarClass(o)]),style:tt(`width: ${Math.min(o.used_amount/o.allocated_amount*100,100)}%`)},null,6)])]),t("div",Kt,[t("div",Xt,[t("div",Zt,[a[38]||(a[38]=t("span",{class:"label"},"Allocated:",-1)),t("span",$t,"৳"+r(e.formatNumber(o.allocated_amount)),1)]),t("div",ta,[a[39]||(a[39]=t("span",{class:"label"},"Remaining:",-1)),t("span",{class:_(["value",o.remaining_amount<0?"text-danger":"text-success"])}," ৳"+r(e.formatNumber(o.remaining_amount)),3)]),o.forecast_next_quarter?(p(),v("div",aa,[a[40]||(a[40]=t("span",{class:"label"},"Next Quarter Forecast:",-1)),t("span",ea,"৳"+r(e.formatNumber(o.forecast_next_quarter)),1)])):F("",!0)])]),t("div",sa,[t("span",{class:_(["badge",e.getStatusBadgeClass(o)])},r(e.getBudgetStatus(o)),3)])])],2)]))),128)),e.budgets.length===0?(p(),v("div",oa,[...a[41]||(a[41]=[t("div",{class:"text-center py-5"},[t("i",{class:"fas fa-chart-pie text-muted mb-3",style:{"font-size":"4rem"}}),t("h5",{class:"text-muted"},"No Budgets Created"),t("p",{class:"text-muted"},'Click "Create Budget" to set up your first budget category with forecasting.')],-1)])])):F("",!0)]),e.showCreateBudget||e.editingBudget?(p(),v("div",{key:0,class:"modal-overlay",onClick:a[16]||(a[16]=(...o)=>e.closeModal&&e.closeModal(...o))},[t("div",{class:"modal-content large-modal",onClick:a[15]||(a[15]=M(()=>{},["stop"]))},[t("div",na,[t("h5",null,r(e.editingBudget?"Edit":"Create")+" Budget",1),t("button",{onClick:a[6]||(a[6]=(...o)=>e.closeModal&&e.closeModal(...o)),class:"btn-close"},"×")]),t("div",la,[t("form",{onSubmit:a[14]||(a[14]=M((...o)=>e.saveBudget&&e.saveBudget(...o),["prevent"]))},[t("div",ia,[t("div",ra,[a[42]||(a[42]=t("label",{class:"form-label"},"Budget Name *",-1)),g(t("input",{"onUpdate:modelValue":a[7]||(a[7]=o=>e.budgetForm.name=o),type:"text",class:"form-control",required:"",placeholder:"e.g., Technology & Software"},null,512),[[y,e.budgetForm.name]])]),t("div",da,[a[43]||(a[43]=t("label",{class:"form-label"},"Quarterly Amount (BDT) *",-1)),g(t("input",{"onUpdate:modelValue":a[8]||(a[8]=o=>e.budgetForm.allocated_amount=o),type:"number",class:"form-control",step:"0.01",min:"0",required:"",placeholder:"15000.00"},null,512),[[y,e.budgetForm.allocated_amount,void 0,{number:!0}]])])]),t("div",ca,[t("div",ua,[a[45]||(a[45]=t("label",{class:"form-label"},"Category Icon",-1)),g(t("select",{"onUpdate:modelValue":a[9]||(a[9]=o=>e.budgetForm.icon=o),class:"form-select"},[...a[44]||(a[44]=[N('<option value="fas fa-chart-pie" data-v-1f4bb8aa>Chart Pie (Default)</option><option value="fas fa-laptop" data-v-1f4bb8aa>Technology &amp; Software</option><option value="fas fa-bullhorn" data-v-1f4bb8aa>Marketing &amp; Advertising</option><option value="fas fa-building" data-v-1f4bb8aa>Office &amp; Operations</option><option value="fas fa-car" data-v-1f4bb8aa>Travel &amp; Transportation</option><option value="fas fa-graduation-cap" data-v-1f4bb8aa>Education &amp; Training</option><option value="fas fa-handshake" data-v-1f4bb8aa>Professional Services</option><option value="fas fa-shield-alt" data-v-1f4bb8aa>Insurance &amp; Legal</option><option value="fas fa-cogs" data-v-1f4bb8aa>Equipment &amp; Maintenance</option><option value="fas fa-users" data-v-1f4bb8aa>Outsourcing &amp; Contractors</option>',10)])],512),[[A,e.budgetForm.icon]])]),t("div",ma,[a[47]||(a[47]=t("label",{class:"form-label"},"Auto-Forecast Next Quarter",-1)),g(t("select",{"onUpdate:modelValue":a[10]||(a[10]=o=>e.budgetForm.auto_forecast=o),class:"form-select"},[...a[46]||(a[46]=[t("option",{value:"1"},"Yes - Based on current usage",-1),t("option",{value:"0"},"No - Manual planning only",-1)])],512),[[A,e.budgetForm.auto_forecast]])])]),t("div",fa,[a[48]||(a[48]=t("label",{class:"form-label"},"Description",-1)),g(t("textarea",{"onUpdate:modelValue":a[11]||(a[11]=o=>e.budgetForm.description=o),class:"form-control",rows:"3",placeholder:"What expenses will this budget cover?"},null,512),[[y,e.budgetForm.description]])]),t("div",ba,[a[49]||(a[49]=t("label",{class:"form-label"},"Budget Notes",-1)),g(t("textarea",{"onUpdate:modelValue":a[12]||(a[12]=o=>e.budgetForm.notes=o),class:"form-control",rows:"2",placeholder:"Internal notes about this budget category"},null,512),[[y,e.budgetForm.notes]])]),a[51]||(a[51]=t("div",{class:"alert alert-info"},[t("h6",null,[t("i",{class:"fas fa-crystal-ball me-2"}),b("Forecasting Information")]),t("p",{class:"mb-0"},"The system will analyze your historical spending in this category and automatically suggest budget amounts for next quarter. You can always adjust these suggestions manually.")],-1)),t("div",ga,[t("button",{type:"button",onClick:a[13]||(a[13]=(...o)=>e.closeModal&&e.closeModal(...o)),class:"btn btn-secondary"}," Cancel "),t("button",{type:"submit",class:"btn btn-primary",disabled:e.saving},[a[50]||(a[50]=t("i",{class:"fas fa-save"},null,-1)),b(" "+r(e.saving?"Saving...":"Save Budget"),1)],8,va)])],32)])])])):F("",!0)])])])],64)}const wa=st(ot,[["render",pa],["__scopeId","data-v-1f4bb8aa"]]);export{wa as default};
