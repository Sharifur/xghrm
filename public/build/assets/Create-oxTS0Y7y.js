import{A as v}from"./AdminMaster-4VwRAZDJ.js";import{H as S,L as b,u as D,l as h,m as B,c as w,a as i,b as e,g as A,w as x,e as m,t as n,F as V,r,o as k}from"./app-3wsM93vD.js";import{B as F}from"./Button-miM9s9u4.js";import{B as I}from"./Input-d_pVK3-9.js";import{B as E}from"./Select-hELSb2bF.js";import{B as C}from"./Textarea-unu__txq.js";import{s as M}from"./vue3-datepicker.esm-s2jKUs4T.js";import"./sweetalert2.all-OLhqfqrF.js";import{h as N}from"./html2pdf-cJfQAg5R.js";import{_ as T}from"./_plugin-vue_export-helper-x3n3nnut.js";const L={layout:v,components:{BsButton:F,Input:I,Select:E,Textarea:C,Head:S,Datepicker:M,Link:b},setup(){const c=D().props.value.all_employee,a=h(0),d=h({name:"Name",amount:0,category:"Designation"}),t=B({employee_id:null,month:new Date,amount:null});function y(){a.value=parseFloat(t.amount)}function _(){let o=d.value.name+"-"+p(t.month)+"-advance-salary-application.pdf";N(document.getElementById("element-to-convert"),{margin:1,filename:o}),axios.post(route("admin.employee.advance.salary.store"),t)}function u(){axios.post(route("admin.employee.details",t.employee_id),{month:t.month}).then(o=>{let l=o.data.details;d.value={name:l.name,amount:d.value.amount,category:l.designation}})}function p(o){let l=["January","February","March","April","May","June","July","August","September","October","November","December"];return o!=null?l[new Date(o).getMonth()]:""}return{employeeList:c,salarySlipData:t,exportToPDF:_,selectedEmployee:d,changeEmployeeSelect:u,getSelectedMonthName:p,changeAmount:y,payableAmount:a}}},P={class:"row"},H={class:"col-lg-12"},W={class:"header-wrap d-flex justify-content-between"},J=e("h2",{class:"dashboards-title margin-bottom-40"},"Create Advance Salary",-1),U={class:"btn-wrp"},j={class:"row"},O={class:"col-lg-4"},X={class:"single-info-input margin-top-30"},q=e("label",{class:"info-title"},"Salary Month",-1),z=e("span",{class:"info-text"},"Select Month First",-1),R={class:"col-lg-8"},Y={id:"element-to-convert"},G={class:"salarySlipPdfOuterWrapper advanceSalary"},K=e("div",{class:"headerPart"},[e("div",{class:"subjectWarp"},[e("p",null,"Advance salary")])],-1),Q={class:"paratext"},Z=e("strong",null,"Xgenious",-1),$=e("p",null,[e("strong",{class:"d-block"},"I agree to repay this advance as follow: "),m(" This payroll deduction to be made from my salary on the first pay period immediately following the pay period from which this advance is made.")],-1),ee=e("p",null,"I also agree that if I terminate employment prior to total repayment of this advance, I authorize the company to deduct any unpaid advance amount from the salary owed me at the time of termination of employment. ",-1),te={class:"footerPartWrapper"},ae=e("div",{class:"signature"},[e("span",{class:"signature"},"Signature"),e("h2",null,"Sharifur Rahman"),e("span",{class:"designation"},"Ceo - Xgenious")],-1),oe={class:"signature"},ne=e("span",{class:"signature"},"Signature",-1),se={class:"designation"},le={class:"btn-wrapper margin-left-60"};function ie(c,a,d,t,y,_){const u=r("Head"),p=r("Link"),o=r("Datepicker"),l=r("Select"),f=r("Input"),g=r("BsButton");return k(),w(V,null,[i(u,{title:"Create Advance Salary"}),e("div",P,[e("div",H,[e("div",W,[J,e("div",U,[i(p,{class:"btn btn-info m-1",href:c.route("admin.employee.advance.salary.all")},{default:A(()=>[m("Advance salary List")]),_:1},8,["href"])])])]),e("div",j,[e("div",O,[e("form",{onSubmit:a[5]||(a[5]=x(()=>{},["prevent"]))},[e("div",X,[q,i(o,{modelValue:t.salarySlipData.month,"onUpdate:modelValue":a[0]||(a[0]=s=>t.salarySlipData.month=s)},null,8,["modelValue"]),z]),i(l,{title:"Employee",onChange:a[1]||(a[1]=s=>t.changeEmployeeSelect()),modelValue:t.salarySlipData.employee_id,"onUpdate:modelValue":a[2]||(a[2]=s=>t.salarySlipData.employee_id=s),options:t.employeeList},null,8,["modelValue","options"]),i(f,{title:"Amount",type:"number",onInput:a[3]||(a[3]=s=>t.changeAmount()),modelValue:t.salarySlipData.amount,"onUpdate:modelValue":a[4]||(a[4]=s=>t.salarySlipData.amount=s)},null,8,["modelValue"])],32)]),e("div",R,[e("div",Y,[e("div",G,[K,e("div",Q,[e("p",null,[m("I, "),e("strong",null,n(t.selectedEmployee.name),1),m(", "),e("strong",null,"Department: "+n(t.selectedEmployee.category),1),m(" request an advance payment of "+n(t.payableAmount)+"/- ("+n(c.numberToWord(t.payableAmount))+") BDT on my salary to be paid on 5th "+n(t.getSelectedMonthName(t.salarySlipData.month))+" "+n(new Date().getFullYear())+" due to personal problem as permitted by ",1),Z,m(" policy. ")]),$,ee]),e("div",te,[ae,e("div",oe,[ne,e("h2",null,n(t.selectedEmployee.name),1),e("span",se,n(t.selectedEmployee.category),1)])])])]),e("div",le,[i(g,{type:"button",onClick:t.exportToPDF,"button-text":"Save and Download PDF"},null,8,["onClick"])])])])])],64)}const ge=T(L,[["render",ie]]);export{ge as default};
