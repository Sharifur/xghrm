import{H as A,L as S,K as H,r as c,c as y,o as b,a as l,b as e,h as F,t as o,g as D,f as n,w as O,F as L,p as M,n as N,l as i,u as P,m as j,x as W}from"./app-CgQqmnTI.js";import{A as T}from"./AdminMaster-Ckigy7tR.js";import{S as I}from"./Select-DBPl-MkV.js";import{B as K}from"./Button-B4pL4sFF.js";import{s as z}from"./vue3-datepicker.esm-QB1-UN05.js";import{V as G}from"./ValidationErrors-DYTAdgrQ.js";import{S as B}from"./sweetalert2-z6gKu1nJ.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";const X={name:"AttendanceCheck",layout:T,components:{VueDatePicker:H,BsSelect:I,BsButton:K,Datepicker:z,ValidationErrors:G,Link:S,Head:A},setup(){const r=i(0),t=i(0),g=i(0),a=i(0),k=i(0),w=i(0),u=i(!1),d=i([]),_=P().props.value.allEmployees,f=j({employee_id:_.id,startDate:new Date,endDate:new Date});function C(){W.post(route("admin.employee.attendance.post"),{...f}).then(s=>{let h=s.data.logs;if(Object.keys(h).length>0){let v=h,m=[];Object.keys(v).forEach(function(x){let V=v[x];Object.keys(V).forEach(p=>{p!=="dateTime"&&m.push({key:`${p}-${Math.random()}`,customData:{title:`${p.replaceAll("_"," ")}: ${V[p]}`,class:p},dates:new Date(V.dateTime)})})}),d.value=m,u.value=!0,r.value=s.data.holidayCount,t.value=s.data.leaveCount,g.value=s.data.OfficeDays,a.value=s.data.sickLeaveCount,k.value=s.data.paidLeaveCount,w.value=s.data.workFormHome}else B.fire("Error!","NO Data found for selected Dates","warning")}).catch(s=>{B.fire("Error!",s.message,"warning")})}new Date().getMonth(),new Date().getFullYear();function E(){return{masks:{weekdays:"WWW"},attributes:d.value}}return{employeeData:f,getAttendanceDetails:C,employeeDetails:_,CalendarData:E,attendanceShow:u,CalendarAttributes:d,holidayCount:r,leaveCount:t,OfficeDays:g,sickLeaveCount:a,paidLeaveCount:k,workFormHome:w}}},Y={class:"row"},q={class:"col-lg-12"},J={class:"dashboard-settings margin-top-40"},Q={class:"header-wrap d-flex justify-content-between"},R={class:"dashboards-title"},Z={class:"btn-wrp"},$={class:"edit-profile"},ee={class:"profile-info-dashboard"},te={class:"dashboard-profile-flex"},ae={class:"dashboard-address-details"},se={class:"single-dashboard-input"},oe={class:"single-info-input margin-top-30"},ne={class:"btn-wrapper margin-top-35"},le={key:0,class:"cleardar-wrapper"},ie={class:"head-rapw margin-top-40"},de={class:"color-explanation"},re={class:"holiday"},ce={class:"badge"},me={class:"leave"},pe={class:"badge"},ue={class:"C/In"},_e={class:"badge"},fe={class:"sick-leave"},he={class:"badge"},ve={class:"paid-leave"},ye={class:"badge"},be={class:"work-from-home"},De={class:"badge"},ge={class:"date-box-wrapper"},ke={class:"day-label"},we={class:"custom-data-wrapper"};function Ce(r,t,g,a,k,w){const u=c("Head"),d=c("Link"),_=c("ValidationErrors"),f=c("VueDatePicker"),C=c("BsButton"),E=c("Calendar");return b(),y(L,null,[l(u,{title:"Employee Attendance Check - Xgenious"}),e("div",Y,[e("div",q,[e("div",J,[e("div",Q,[e("h2",R,o(a.employeeDetails.name)+" Attendance Check",1),e("div",Z,[l(d,{class:"btn btn-info m-1",href:r.route("admin.employee.all")},{default:D(()=>t[2]||(t[2]=[n("All Employees")])),_:1,__:[2]},8,["href"]),l(d,{class:"btn btn-secondary m-1",href:r.route("admin.employee.edit",a.employeeDetails.id)},{default:D(()=>t[3]||(t[3]=[n("Edit Employee Details")])),_:1,__:[3]},8,["href"]),l(d,{class:"btn btn-primary m-1",href:r.route("admin.employee.view",a.employeeDetails.id)},{default:D(()=>t[4]||(t[4]=[n("View Employee Details")])),_:1,__:[4]},8,["href"])])]),e("div",$,[e("div",ee,[l(_),e("div",te,[e("div",ae,[e("form",{onSubmit:t[1]||(t[1]=O(()=>{},["prevent"]))},[e("div",se,[e("div",oe,[t[5]||(t[5]=e("label",{class:"info-title"}," Select Month ",-1)),l(f,{modelValue:a.employeeData.startDate,"onUpdate:modelValue":t[0]||(t[0]=s=>a.employeeData.startDate=s)},null,8,["modelValue"]),t[6]||(t[6]=e("span",null,"any date you select in this calendar, system will get data for the selected date month",-1))])]),e("div",ne,[l(C,{"button-text":"Get Details",onClick:a.getAttendanceDetails,classes:"cmn-btn btn-bg-1"},null,8,["onClick"])])],32)])])])]),a.attendanceShow?(b(),y("div",le,[e("div",ie,[t[13]||(t[13]=e("h4",null,"Color Explanation",-1)),e("ul",de,[e("li",re,[t[7]||(t[7]=n("Holiday")),e("span",ce,o(a.holidayCount),1)]),e("li",me,[t[8]||(t[8]=n("leave")),e("span",pe,o(a.leaveCount),1)]),e("li",ue,[t[9]||(t[9]=n("OfficeDays")),e("span",_e,o(a.OfficeDays),1)]),e("li",fe,[t[10]||(t[10]=n("Sick Leave")),e("span",he,o(a.sickLeaveCount),1)]),e("li",ve,[t[11]||(t[11]=n("Paid Leave")),e("span",ye,o(a.paidLeaveCount),1)]),e("li",be,[t[12]||(t[12]=n("Work From Home")),e("span",De,o(a.workFormHome),1)])])]),l(E,{class:"custom-calendar-outer-wrap",masks:a.CalendarData().masks,attributes:a.CalendarData().attributes,"disable-page-swipe":"","is-expanded":""},{"day-content":D(({day:s,attributes:h})=>[e("div",ge,[e("span",ke,o(s.day),1),e("div",we,[(b(!0),y(L,null,M(h,({key:v,customData:m})=>(b(),y("p",{key:v,class:N(["data-item",m.class])},o(m.title),3))),128))])])]),_:1},8,["masks","attributes"])])):F("",!0)])])])],64)}const Fe=U(X,[["render",Ce]]);export{Fe as default};
