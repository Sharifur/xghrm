import{A as se}from"./AdminMaster-DauEAptr.js";import{H as oe,r as ie,c as u,o as m,a as le,b as e,h as P,f,e as b,A,F as C,p as y,t as l,n as v,d as k,$ as B,w as G,i as q,j as U,l as p,B as re,y as $}from"./app-msVezWLg.js";import{S as d}from"./sweetalert2.esm.all-acGi8jXx.js";import{_ as ce}from"./_plugin-vue_export-helper-DlAUqK2U.js";const de={layout:se,name:"FinanceDashboard",components:{Head:oe},props:{financialSummary:Object},setup(F){const t=p(new Date().toISOString().slice(0,7)),T=p(!1),n=p(!1),o=p({totalRevenue:125e3,totalExpenses:78e3,netProfit:47e3,pendingRevenue:18500,pendingCount:7,totalAssets:185e3,totalLiabilities:35e3,totalEquity:15e4,revenueChange:12.5,expenseChange:-8.2}),D=re({type:"expense",period:"current_month",startDate:"",endDate:"",format:"csv",includeCharts:!0,includeComments:!1}),S=$(()=>{const a=[],i=new Date;for(let r=11;r>=0;r--){const x=new Date(i.getFullYear(),i.getMonth()-r,1);a.push({value:x.toISOString().slice(0,7),label:x.toLocaleDateString("en-US",{month:"long",year:"numeric"})})}return a}),s=p([{name:"Jul",revenue:98e3,expenses:62e3},{name:"Aug",revenue:115e3,expenses:69e3},{name:"Sep",revenue:108e3,expenses:71e3},{name:"Oct",revenue:122e3,expenses:74e3},{name:"Nov",revenue:118e3,expenses:76e3},{name:"Dec",revenue:125e3,expenses:78e3}]),E=$(()=>Math.max(...s.value.flatMap(a=>[a.revenue,a.expenses]))),w=p([{name:"Technology & Software",amount:25e3,icon:"fas fa-laptop",color:"bg-primary"},{name:"Marketing & Advertising",amount:18e3,icon:"fas fa-bullhorn",color:"bg-success"},{name:"Office & Operations",amount:15e3,icon:"fas fa-building",color:"bg-warning"},{name:"Professional Services",amount:12e3,icon:"fas fa-handshake",color:"bg-info"},{name:"Travel & Transportation",amount:8e3,icon:"fas fa-car",color:"bg-secondary"}]),j=p([{id:1,description:"Client Payment - Web Development",amount:25e3,type:"income",icon:"fas fa-arrow-down",date:new Date("2024-12-24")},{id:2,description:"Adobe Creative Cloud Subscription",amount:1200,type:"expense",icon:"fas fa-arrow-up",date:new Date("2024-12-23")},{id:3,description:"Shopify App Revenue",amount:5e3,type:"income",icon:"fas fa-arrow-down",date:new Date("2024-12-22")},{id:4,description:"Google Ads Campaign",amount:3500,type:"expense",icon:"fas fa-arrow-up",date:new Date("2024-12-21")},{id:5,description:"Webflow Template Sale",amount:800,type:"income",icon:"fas fa-arrow-down",date:new Date("2024-12-20")}]),L=p([{name:"Technology & Software",used:18500,total:25e3,remaining:6500,icon:"fas fa-laptop"},{name:"Marketing & Advertising",used:22e3,total:2e4,remaining:-2e3,icon:"fas fa-bullhorn"},{name:"Office & Operations",used:12e3,total:15e3,remaining:3e3,icon:"fas fa-building"},{name:"Professional Services",used:8500,total:12e3,remaining:3500,icon:"fas fa-handshake"}]),Y=p([{id:1,type:"warning",title:"Budget Exceeded",message:"Marketing budget is 110% used this month",icon:"fas fa-exclamation-triangle",date:new Date},{id:2,type:"info",title:"Overdue Payments",message:"3 client payments are overdue (৳8,500)",icon:"fas fa-clock",date:new Date},{id:3,type:"success",title:"Revenue Target Met",message:"Monthly revenue target achieved!",icon:"fas fa-check-circle",date:new Date}]),g=a=>new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}).format(a||0),h=a=>new Date(a).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),c=()=>new Date(t.value+"-01").toLocaleDateString("en-US",{month:"long",year:"numeric"}),N=()=>o.value.netProfit/o.value.totalEquity*100,K=a=>{const i=a.used/a.total*100;return i>=100?"bg-danger":i>=80?"bg-warning":"bg-success"},H=async()=>{try{(await d.fire({title:"Generate Monthly Expense Report",html:`
                        <div class="text-left">
                            <p><strong>Report Period:</strong> ${c()}</p>
                            <p><strong>Total Expenses:</strong> ৳${g(o.value.totalExpenses)}</p>
                            <p><strong>Categories:</strong> ${w.value.length} expense categories</p>
                        </div>
                    `,icon:"info",showCancelButton:!0,confirmButtonColor:"#007bff",cancelButtonColor:"#6c757d",confirmButtonText:"Generate & Download CSV",cancelButtonText:"Cancel"})).isConfirmed&&(d.fire({title:"Generating Report...",text:"Please wait while we create your expense report.",allowOutsideClick:!1,allowEscapeKey:!1,showConfirmButton:!1,didOpen:()=>{d.showLoading()}}),await te(),d.fire({title:"Report Downloaded!",text:`Monthly expense report for ${c()} has been downloaded to your device.`,icon:"success",confirmButtonColor:"#007bff",timer:3e3,timerProgressBar:!0}))}catch(a){console.error("Error generating report:",a),d.fire({title:"Error!",text:"Failed to generate expense report. Please try again.",icon:"error",confirmButtonColor:"#e74a3b"})}},Q=async()=>{try{(await d.fire({title:"Generate Monthly Balance Sheet",html:`
                        <div class="text-left">
                            <p><strong>Report Period:</strong> ${c()}</p>
                            <p><strong>Total Assets:</strong> ৳${g(o.value.totalAssets)}</p>
                            <p><strong>Total Liabilities:</strong> ৳${g(o.value.totalLiabilities)}</p>
                            <p><strong>Owner's Equity:</strong> ৳${g(o.value.totalEquity)}</p>
                        </div>
                    `,icon:"info",showCancelButton:!0,confirmButtonColor:"#007bff",cancelButtonColor:"#6c757d",confirmButtonText:"Generate & Download CSV",cancelButtonText:"Cancel"})).isConfirmed&&(d.fire({title:"Generating Balance Sheet...",text:"Please wait while we create your balance sheet report.",allowOutsideClick:!1,allowEscapeKey:!1,showConfirmButton:!1,didOpen:()=>{d.showLoading()}}),await ae(),d.fire({title:"Report Downloaded!",text:`Balance sheet for ${c()} has been downloaded to your device.`,icon:"success",confirmButtonColor:"#007bff",timer:3e3,timerProgressBar:!0}))}catch(a){console.error("Error generating report:",a),d.fire({title:"Error!",text:"Failed to generate balance sheet report. Please try again.",icon:"error",confirmButtonColor:"#e74a3b"})}},z=async()=>{try{(await d.fire({title:"Generate Financial Summary",html:`
                        <div class="text-left">
                            <p><strong>Report Period:</strong> ${c()}</p>
                            <p><strong>Revenue:</strong> ৳${g(o.value.totalRevenue)}</p>
                            <p><strong>Expenses:</strong> ৳${g(o.value.totalExpenses)}</p>
                            <p><strong>Net Profit:</strong> ৳${g(o.value.netProfit)}</p>
                            <p><strong>Profit Margin:</strong> ${(o.value.netProfit/o.value.totalRevenue*100).toFixed(1)}%</p>
                        </div>
                    `,icon:"info",showCancelButton:!0,confirmButtonColor:"#007bff",cancelButtonColor:"#6c757d",confirmButtonText:"Generate & Download CSV",cancelButtonText:"Cancel"})).isConfirmed&&(d.fire({title:"Generating Financial Summary...",text:"Please wait while we create your financial summary report.",allowOutsideClick:!1,allowEscapeKey:!1,showConfirmButton:!1,didOpen:()=>{d.showLoading()}}),await ne(),d.fire({title:"Report Downloaded!",text:`Financial summary for ${c()} has been downloaded to your device.`,icon:"success",confirmButtonColor:"#007bff",timer:3e3,timerProgressBar:!0}))}catch(a){console.error("Error generating report:",a),d.fire({title:"Error!",text:"Failed to generate financial summary report. Please try again.",icon:"error",confirmButtonColor:"#e74a3b"})}},W=async()=>{n.value=!0;try{await new Promise(r=>setTimeout(r,2e3));let a="",i="";switch(D.type){case"expense":a=I(),i=`Custom-Expense-Report-${c().replace(" ","-")}.csv`;break;case"revenue":a=J(),i=`Custom-Revenue-Report-${c().replace(" ","-")}.csv`;break;case"balance":a=O(),i=`Custom-Balance-Sheet-${c().replace(" ","-")}.csv`;break;case"profit_loss":a=M(),i=`Custom-Profit-Loss-${c().replace(" ","-")}.csv`;break;case"budget":a=X(),i=`Custom-Budget-Report-${c().replace(" ","-")}.csv`;break;case"cash_flow":a=Z(),i=`Custom-Cash-Flow-${c().replace(" ","-")}.csv`;break;default:a=M(),i=`Custom-Report-${c().replace(" ","-")}.csv`}R(a,i),V(),d.fire({title:"Custom Report Generated!",text:`Your ${D.type} report has been downloaded as CSV.`,icon:"success",confirmButtonColor:"#007bff",timer:3e3,timerProgressBar:!0})}catch{d.fire({title:"Error!",text:"Failed to generate custom report. Please try again.",icon:"error",confirmButtonColor:"#e74a3b"})}finally{n.value=!1}},J=()=>{let a=`Report,Revenue Report
`;return a+=`Period,${c()}
`,a+=`Generated,${h(new Date)}

`,a+=`Revenue Summary
`,a+=`Item,Amount (BDT),Details,Currency
`,a+=`Total Revenue,${o.value.totalRevenue},Revenue Growth: +${Math.abs(o.value.revenueChange)}%,BDT
`,a+=`Pending Revenue,${o.value.pendingRevenue},${o.value.pendingCount} outstanding invoices,BDT
`,a+=`Revenue Growth Rate,${Math.abs(o.value.revenueChange)},Compared to last month,%
`,a},X=()=>{let a=`Report,Budget Analysis Report
`;return a+=`Period,${c()}
`,a+=`Generated,${h(new Date)}

`,a+=`Budget Analysis
`,a+=`Category,Used (BDT),Budget (BDT),Remaining (BDT),Status,Currency
`,L.value.forEach(i=>{const r=i.remaining<0?"Over Budget":"Under Budget";a+=`${i.name},${i.used},${i.total},${Math.abs(i.remaining)},${r},BDT
`}),a},Z=()=>{let a=`Report,Cash Flow Statement
`;a+=`Period,${c()}
`,a+=`Generated,${h(new Date)}

`,a+=`Cash Inflows
`,a+=`Source,Amount (BDT),Currency
`,a+=`Revenue Received,${o.value.totalRevenue},BDT
`,a+=`Other Income,${Math.round(o.value.totalRevenue*.05)},BDT

`,a+=`Cash Outflows
`,a+=`Category,Amount (BDT),Currency
`,a+=`Operating Expenses,${o.value.totalExpenses},BDT
`,a+=`Tax Payments,${Math.round(o.value.totalRevenue*.15)},BDT

`;const i=o.value.netProfit-o.value.totalRevenue*.15;return a+=`Net Cash Flow
`,a+=`Item,Amount (BDT),Status,Currency
`,a+=`Net Cash Flow,${Math.round(i)},${i>=0?"Positive":"Negative"},BDT
`,a},I=()=>{let a=`Report,Monthly Expense Report
`;return a+=`Period,${c()}
`,a+=`Generated,${h(new Date)}

`,a+=`Summary
`,a+=`Item,Amount (BDT),Currency
`,a+=`Total Monthly Expenses,${o.value.totalExpenses},BDT
`,a+=`Number of Categories,${w.value.length},Count
`,a+=`Average per Category,${Math.round(o.value.totalExpenses/w.value.length)},BDT

`,a+=`Expense Categories Breakdown
`,a+=`Category,Amount (BDT),Percentage,Currency
`,w.value.forEach(i=>{const r=(i.amount/o.value.totalExpenses*100).toFixed(1);a+=`${i.name},${i.amount},${r}%,BDT
`}),a},O=()=>{let a=`Report,Balance Sheet
`;return a+=`Period,As of ${c()}
`,a+=`Generated,${h(new Date)}

`,a+=`ASSETS
`,a+=`Item,Amount (BDT),Currency
`,a+=`Cash and Cash Equivalents,${Math.round(o.value.totalAssets*.4)},BDT
`,a+=`Accounts Receivable,${o.value.pendingRevenue},BDT
`,a+=`Equipment and Assets,${Math.round(o.value.totalAssets*.6-o.value.pendingRevenue)},BDT
`,a+=`TOTAL ASSETS,${o.value.totalAssets},BDT

`,a+=`LIABILITIES
`,a+=`Item,Amount (BDT),Currency
`,a+=`Accounts Payable,${Math.round(o.value.totalLiabilities*.6)},BDT
`,a+=`Accrued Expenses,${Math.round(o.value.totalLiabilities*.4)},BDT
`,a+=`TOTAL LIABILITIES,${o.value.totalLiabilities},BDT

`,a+=`EQUITY
`,a+=`Item,Amount (BDT),Currency
`,a+=`Owner's Capital,${Math.round(o.value.totalEquity*.7)},BDT
`,a+=`Retained Earnings,${Math.round(o.value.totalEquity*.3)},BDT
`,a+=`TOTAL EQUITY,${o.value.totalEquity},BDT

`,a+=`Balance Equation
`,a+=`Item,Amount (BDT),Currency
`,a+=`Assets,${o.value.totalAssets},BDT
`,a+=`Liabilities + Equity,${o.value.totalLiabilities+o.value.totalEquity},BDT
`,a+=`Balanced,${o.value.totalAssets===o.value.totalLiabilities+o.value.totalEquity?"Yes":"No"},Status
`,a},M=()=>{const a=(o.value.netProfit/o.value.totalRevenue*100).toFixed(1),i=N().toFixed(1);let r=`Report,Financial Summary Report
`;return r+=`Period,${c()}
`,r+=`Generated,${h(new Date)}

`,r+=`Financial Summary
`,r+=`Item,Amount (BDT),Change,Currency
`,r+=`Total Revenue,${o.value.totalRevenue},+${Math.abs(o.value.revenueChange)}%,BDT
`,r+=`Total Expenses,${o.value.totalExpenses},${o.value.expenseChange>=0?"+":""}${o.value.expenseChange}%,BDT
`,r+=`Net Profit,${o.value.netProfit},${a}% margin,BDT
`,r+=`Pending Revenue,${o.value.pendingRevenue},${o.value.pendingCount} invoices,BDT

`,r+=`Key Performance Indicators
`,r+=`KPI,Value,Unit
`,r+=`Profit Margin,${a},%
`,r+=`Return on Investment (ROI),${i},%
`,r+=`Revenue Growth Rate,${Math.abs(o.value.revenueChange)},%
`,r+=`Expense Efficiency,${(o.value.totalExpenses/o.value.totalRevenue*100).toFixed(1)},% of revenue
`,r+=`Cash Flow Status,${o.value.netProfit>=0?"Positive":"Negative"},Status
`,r},R=(a,i)=>{const r=new Blob([a],{type:"text/csv;charset=utf-8;"}),x=URL.createObjectURL(r),_=document.createElement("a");_.href=x,_.download=i,document.body.appendChild(_),_.click(),document.body.removeChild(_),URL.revokeObjectURL(x)},V=()=>{T.value=!1},ee=()=>{console.log("Loading data for month:",t.value),d.fire({title:"Data Loaded!",text:`Financial data for ${c()} has been loaded.`,icon:"info",confirmButtonColor:"#007bff",timer:2e3,timerProgressBar:!0})},te=async()=>{await new Promise(i=>setTimeout(i,2e3));const a=I();R(a,`Expense-Report-${c().replace(" ","-")}.csv`)},ae=async()=>{await new Promise(i=>setTimeout(i,2e3));const a=O();R(a,`Balance-Sheet-${c().replace(" ","-")}.csv`)},ne=async()=>{await new Promise(i=>setTimeout(i,2e3));const a=M();R(a,`Financial-Summary-${c().replace(" ","-")}.csv`)};return{selectedMonth:t,showCustomReportModal:T,generatingReport:n,financialData:o,customReport:D,availableMonths:S,trendData:s,maxAmount:E,expenseCategories:w,recentTransactions:j,budgetStatus:L,financialAlerts:Y,formatNumber:g,formatDate:h,getCurrentMonthName:c,calculateROI:N,getBudgetProgressClass:K,generateMonthlyExpenseReport:H,generateMonthlyBalanceSheet:Q,generateFinancialSummary:z,generateCustomReport:W,closeCustomReportModal:V,loadMonthData:ee}}},ue={class:"row"},me={class:"col-lg-12"},ve={class:"dashboard-settings margin-top-40"},fe={class:"card mb-4"},pe={class:"card-header d-flex justify-content-between align-items-center"},ge={class:"d-flex gap-2"},he=["value"],be={class:"dropdown"},Ce={class:"dropdown-menu"},ye={class:"card-body"},we={class:"row"},xe={class:"col-md-8"},_e={class:"text-muted mb-0"},De={class:"col-md-4 text-end"},Re={class:"last-updated"},Be={class:"small text-primary"},Te={class:"row mb-4"},Se={class:"col-xl-3 col-md-6 mb-4"},Ee={class:"metric-card revenue-card"},Me={class:"metric-content"},Pe={class:"metric-value"},Ae={class:"col-xl-3 col-md-6 mb-4"},ke={class:"metric-card expenses-card"},Fe={class:"metric-content"},Le={class:"metric-value"},Ne={class:"col-xl-3 col-md-6 mb-4"},Ie={class:"metric-card profit-card"},Oe={class:"metric-content"},Ve={class:"profit-margin"},Ge={class:"col-xl-3 col-md-6 mb-4"},qe={class:"metric-card pending-card"},Ue={class:"metric-content"},$e={class:"metric-value"},je={class:"pending-count"},Ye={class:"row mb-4"},Ke={class:"col-lg-8 mb-4"},He={class:"card"},Qe={class:"card-body"},ze={class:"chart-container"},We={class:"trend-chart"},Je={class:"trend-bars"},Xe=["title"],Ze=["title"],et={class:"trend-label"},tt={class:"col-lg-4 mb-4"},at={class:"card h-100"},nt={class:"card-body"},st={class:"quick-stats"},ot={class:"stat-item"},it={class:"stat-details"},lt={class:"stat-value"},rt={class:"stat-item"},ct={class:"stat-details"},dt={class:"stat-value"},ut={class:"stat-item"},mt={class:"stat-details"},vt={class:"stat-value"},ft={class:"stat-item"},pt={class:"stat-details"},gt={class:"stat-value"},ht={class:"row mb-4"},bt={class:"col-lg-6 mb-4"},Ct={class:"card"},yt={class:"card-body"},wt={class:"expense-categories"},xt={class:"category-info"},_t={class:"category-name"},Dt={class:"category-amount"},Rt={class:"category-progress"},Bt={class:"progress"},Tt={class:"text-muted"},St={class:"col-lg-6 mb-4"},Et={class:"card"},Mt={class:"card-header d-flex justify-content-between align-items-center"},Pt={class:"card-body"},At={class:"recent-transactions"},kt={class:"transaction-details"},Ft={class:"transaction-description"},Lt={class:"text-muted"},Nt={class:"row mb-4"},It={class:"col-lg-8 mb-4"},Ot={class:"card"},Vt={class:"card-header"},Gt={class:"mb-0"},qt={class:"card-body"},Ut={class:"budget-overview"},$t={class:"budget-header"},jt={class:"budget-name"},Yt={class:"budget-amounts"},Kt={class:"used"},Ht={class:"total"},Qt={class:"budget-progress"},zt={class:"progress"},Wt={class:"budget-status"},Jt={class:"percentage"},Xt={class:"col-lg-4 mb-4"},Zt={class:"card"},ea={class:"card-body"},ta={class:"financial-alerts"},aa={class:"alert-icon"},na={class:"alert-content"},sa={class:"alert-title"},oa={class:"alert-message"},ia={class:"alert-time"},la={key:0,class:"no-alerts"},ra={class:"modal-header"},ca={class:"modal-body"},da={class:"row"},ua={class:"col-md-6 mb-3"},ma={class:"col-md-6 mb-3"},va={key:0,class:"row"},fa={class:"col-md-6 mb-3"},pa={class:"col-md-6 mb-3"},ga={class:"mb-3"},ha={class:"form-check-group"},ba={class:"form-check"},Ca={class:"form-check"},ya={class:"d-flex justify-content-end gap-2"},wa=["disabled"];function xa(F,t,T,n,o,D){const S=ie("Head");return m(),u(C,null,[le(S,{title:"Finance Dashboard"}),e("div",ue,[e("div",me,[e("div",ve,[e("div",fe,[e("div",pe,[t[20]||(t[20]=e("h4",{class:"mb-0"},[e("i",{class:"fas fa-chart-pie me-2"}),f(" Finance Dashboard ")],-1)),e("div",ge,[b(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>n.selectedMonth=s),onChange:t[1]||(t[1]=(...s)=>n.loadMonthData&&n.loadMonthData(...s)),class:"form-select form-select-sm",style:{width:"180px"}},[(m(!0),u(C,null,y(n.availableMonths,s=>(m(),u("option",{key:s.value,value:s.value},l(s.label),9,he))),128))],544),[[A,n.selectedMonth]]),e("div",be,[t[19]||(t[19]=e("button",{class:"btn btn-primary btn-sm dropdown-toggle",type:"button","data-bs-toggle":"dropdown"},[e("i",{class:"fas fa-download"}),f(" Export Data ")],-1)),e("ul",Ce,[e("li",null,[e("button",{class:"dropdown-item",onClick:t[2]||(t[2]=(...s)=>n.generateMonthlyExpenseReport&&n.generateMonthlyExpenseReport(...s))},"Monthly Expense Report")]),e("li",null,[e("button",{class:"dropdown-item",onClick:t[3]||(t[3]=(...s)=>n.generateMonthlyBalanceSheet&&n.generateMonthlyBalanceSheet(...s))},"Monthly Balance Sheet")]),e("li",null,[e("button",{class:"dropdown-item",onClick:t[4]||(t[4]=(...s)=>n.generateFinancialSummary&&n.generateFinancialSummary(...s))},"Financial Summary")]),t[18]||(t[18]=e("li",null,[e("hr",{class:"dropdown-divider"})],-1)),e("li",null,[e("button",{class:"dropdown-item",onClick:t[5]||(t[5]=s=>n.showCustomReportModal=!0)},"Custom Export")])])])])]),e("div",ye,[e("div",we,[e("div",xe,[e("p",_e," Comprehensive financial overview for "+l(n.getCurrentMonthName())+". Monitor your income, expenses, assets, and generate detailed reports to track your business performance. ",1)]),e("div",De,[e("div",Re,[t[21]||(t[21]=e("small",{class:"text-muted"},"Last Updated:",-1)),e("div",Be,l(n.formatDate(new Date)),1)])])])])]),e("div",Te,[e("div",Se,[e("div",Ee,[t[23]||(t[23]=e("div",{class:"metric-icon"},[e("i",{class:"fas fa-money-bill-wave"})],-1)),e("div",Me,[e("div",Pe,"৳"+l(n.formatNumber(n.financialData.totalRevenue)),1),t[22]||(t[22]=e("div",{class:"metric-label"},"Total Revenue",-1)),e("div",{class:v(["metric-change",n.financialData.revenueChange>=0?"positive":"negative"])},[e("i",{class:v(n.financialData.revenueChange>=0?"fas fa-arrow-up":"fas fa-arrow-down")},null,2),f(" "+l(Math.abs(n.financialData.revenueChange))+"% from last month ",1)],2)])])]),e("div",Ae,[e("div",ke,[t[25]||(t[25]=e("div",{class:"metric-icon"},[e("i",{class:"fas fa-receipt"})],-1)),e("div",Fe,[e("div",Le,"৳"+l(n.formatNumber(n.financialData.totalExpenses)),1),t[24]||(t[24]=e("div",{class:"metric-label"},"Total Expenses",-1)),e("div",{class:v(["metric-change",n.financialData.expenseChange>=0?"negative":"positive"])},[e("i",{class:v(n.financialData.expenseChange>=0?"fas fa-arrow-up":"fas fa-arrow-down")},null,2),f(" "+l(Math.abs(n.financialData.expenseChange))+"% from last month ",1)],2)])])]),e("div",Ne,[e("div",Ie,[t[27]||(t[27]=e("div",{class:"metric-icon"},[e("i",{class:"fas fa-chart-line"})],-1)),e("div",Oe,[e("div",{class:v(["metric-value",n.financialData.netProfit>=0?"text-success":"text-danger"])}," ৳"+l(n.formatNumber(n.financialData.netProfit)),3),t[26]||(t[26]=e("div",{class:"metric-label"},"Net Profit",-1)),e("div",Ve,l((n.financialData.netProfit/n.financialData.totalRevenue*100).toFixed(1))+"% margin ",1)])])]),e("div",Ge,[e("div",qe,[t[29]||(t[29]=e("div",{class:"metric-icon"},[e("i",{class:"fas fa-hourglass-half"})],-1)),e("div",Ue,[e("div",$e,"৳"+l(n.formatNumber(n.financialData.pendingRevenue)),1),t[28]||(t[28]=e("div",{class:"metric-label"},"Pending Payments",-1)),e("div",je,l(n.financialData.pendingCount)+" outstanding invoices ",1)])])])]),e("div",Ye,[e("div",Ke,[e("div",He,[t[31]||(t[31]=e("div",{class:"card-header"},[e("h6",{class:"mb-0"},[e("i",{class:"fas fa-chart-area me-2"}),f(" Monthly Financial Trend ")])],-1)),e("div",Qe,[e("div",ze,[e("div",We,[(m(!0),u(C,null,y(n.trendData,(s,E)=>(m(),u("div",{key:E,class:"trend-month"},[e("div",Je,[e("div",{class:"trend-bar revenue-bar",style:B(`height: ${s.revenue/n.maxAmount*100}%`),title:`Revenue: ৳${n.formatNumber(s.revenue)}`},null,12,Xe),e("div",{class:"trend-bar expense-bar",style:B(`height: ${s.expenses/n.maxAmount*100}%`),title:`Expenses: ৳${n.formatNumber(s.expenses)}`},null,12,Ze)]),e("div",et,l(s.name),1)]))),128))]),t[30]||(t[30]=k('<div class="chart-legend" data-v-48971846><div class="legend-item" data-v-48971846><div class="legend-color revenue-color" data-v-48971846></div><span data-v-48971846>Revenue</span></div><div class="legend-item" data-v-48971846><div class="legend-color expense-color" data-v-48971846></div><span data-v-48971846>Expenses</span></div></div>',1))])])])]),e("div",tt,[e("div",at,[t[40]||(t[40]=e("div",{class:"card-header"},[e("h6",{class:"mb-0"},[e("i",{class:"fas fa-tachometer-alt me-2"}),f(" Quick Stats ")])],-1)),e("div",nt,[e("div",st,[e("div",ot,[t[33]||(t[33]=e("div",{class:"stat-icon bg-primary"},[e("i",{class:"fas fa-coins"})],-1)),e("div",it,[e("div",lt,"৳"+l(n.formatNumber(n.financialData.totalAssets)),1),t[32]||(t[32]=e("div",{class:"stat-label"},"Total Assets",-1))])]),e("div",rt,[t[35]||(t[35]=e("div",{class:"stat-icon bg-warning"},[e("i",{class:"fas fa-credit-card"})],-1)),e("div",ct,[e("div",dt,"৳"+l(n.formatNumber(n.financialData.totalLiabilities)),1),t[34]||(t[34]=e("div",{class:"stat-label"},"Total Liabilities",-1))])]),e("div",ut,[t[37]||(t[37]=e("div",{class:"stat-icon bg-info"},[e("i",{class:"fas fa-chart-pie"})],-1)),e("div",mt,[e("div",vt,"৳"+l(n.formatNumber(n.financialData.totalEquity)),1),t[36]||(t[36]=e("div",{class:"stat-label"},"Owner's Equity",-1))])]),e("div",ft,[t[39]||(t[39]=e("div",{class:"stat-icon bg-success"},[e("i",{class:"fas fa-percentage"})],-1)),e("div",pt,[e("div",gt,l(n.calculateROI().toFixed(1))+"%",1),t[38]||(t[38]=e("div",{class:"stat-label"},"Return on Investment",-1))])])])])])])]),e("div",ht,[e("div",bt,[e("div",Ct,[t[41]||(t[41]=e("div",{class:"card-header"},[e("h6",{class:"mb-0"},[e("i",{class:"fas fa-chart-donut me-2"}),f(" Expense Categories (This Month) ")])],-1)),e("div",yt,[e("div",wt,[(m(!0),u(C,null,y(n.expenseCategories,s=>(m(),u("div",{key:s.name,class:"category-item"},[e("div",xt,[e("div",_t,[e("i",{class:v([s.icon,"me-2"])},null,2),f(" "+l(s.name),1)]),e("div",Dt,"৳"+l(n.formatNumber(s.amount)),1)]),e("div",Rt,[e("div",Bt,[e("div",{class:v(["progress-bar",s.color]),style:B(`width: ${s.amount/n.financialData.totalExpenses*100}%`)},null,6)]),e("small",Tt,l((s.amount/n.financialData.totalExpenses*100).toFixed(1))+"%",1)])]))),128))])])])]),e("div",St,[e("div",Et,[e("div",Mt,[t[42]||(t[42]=e("h6",{class:"mb-0"},[e("i",{class:"fas fa-history me-2"}),f(" Recent Transactions ")],-1)),e("button",{class:"btn btn-sm btn-outline-primary",onClick:t[6]||(t[6]=s=>F.$inertia.visit("/admin-home/finance/expenses"))}," View All ")]),e("div",Pt,[e("div",At,[(m(!0),u(C,null,y(n.recentTransactions,s=>(m(),u("div",{key:s.id,class:"transaction-item"},[e("div",{class:v(["transaction-icon",s.type==="income"?"income":"expense"])},[e("i",{class:v(s.icon)},null,2)],2),e("div",kt,[e("div",Ft,l(s.description),1),e("small",Lt,l(n.formatDate(s.date)),1)]),e("div",{class:v(["transaction-amount",s.type==="income"?"text-success":"text-danger"])},l(s.type==="income"?"+":"-")+"৳"+l(n.formatNumber(s.amount)),3)]))),128))])])])])]),e("div",Nt,[e("div",It,[e("div",Ot,[e("div",Vt,[e("h6",Gt,[t[43]||(t[43]=e("i",{class:"fas fa-wallet me-2"},null,-1)),f(" Budget Status ("+l(n.getCurrentMonthName())+") ",1)])]),e("div",qt,[e("div",Ut,[(m(!0),u(C,null,y(n.budgetStatus,s=>(m(),u("div",{key:s.name,class:"budget-item"},[e("div",$t,[e("div",jt,[e("i",{class:v([s.icon,"me-2"])},null,2),f(" "+l(s.name),1)]),e("div",Yt,[e("span",Kt,"৳"+l(n.formatNumber(s.used)),1),t[44]||(t[44]=e("span",{class:"divider"},"/",-1)),e("span",Ht,"৳"+l(n.formatNumber(s.total)),1)])]),e("div",Qt,[e("div",zt,[e("div",{class:v(["progress-bar",n.getBudgetProgressClass(s)]),style:B(`width: ${Math.min(s.used/s.total*100,100)}%`)},null,6)]),e("div",Wt,[e("small",Jt,l(Math.round(s.used/s.total*100))+"% used",1),e("small",{class:v(["remaining",s.remaining<0?"text-danger":"text-success"])}," ৳"+l(n.formatNumber(Math.abs(s.remaining)))+" "+l(s.remaining<0?"over":"remaining"),3)])])]))),128))])])])]),e("div",Xt,[e("div",Zt,[t[46]||(t[46]=e("div",{class:"card-header"},[e("h6",{class:"mb-0"},[e("i",{class:"fas fa-exclamation-triangle me-2"}),f(" Financial Alerts ")])],-1)),e("div",ea,[e("div",ta,[(m(!0),u(C,null,y(n.financialAlerts,s=>(m(),u("div",{key:s.id,class:v(["alert-item",s.type])},[e("div",aa,[e("i",{class:v(s.icon)},null,2)]),e("div",na,[e("div",sa,l(s.title),1),e("div",oa,l(s.message),1),e("small",ia,l(n.formatDate(s.date)),1)])],2))),128)),n.financialAlerts.length===0?(m(),u("div",la,t[45]||(t[45]=[e("i",{class:"fas fa-check-circle text-success mb-2"},null,-1),e("p",{class:"text-muted mb-0"},"All good! No financial alerts at this time.",-1)]))):P("",!0)])])])])]),n.showCustomReportModal?(m(),u("div",{key:0,class:"modal-overlay",onClick:t[17]||(t[17]=(...s)=>n.closeCustomReportModal&&n.closeCustomReportModal(...s))},[e("div",{class:"modal-content",onClick:t[16]||(t[16]=G(()=>{},["stop"]))},[e("div",ra,[t[47]||(t[47]=e("h5",null,"Generate Custom Export",-1)),e("button",{onClick:t[7]||(t[7]=(...s)=>n.closeCustomReportModal&&n.closeCustomReportModal(...s)),class:"btn-close"},"×")]),e("div",ca,[e("form",{onSubmit:t[15]||(t[15]=G((...s)=>n.generateCustomReport&&n.generateCustomReport(...s),["prevent"]))},[e("div",da,[e("div",ua,[t[49]||(t[49]=e("label",{class:"form-label"},"Export Type *",-1)),b(e("select",{"onUpdate:modelValue":t[8]||(t[8]=s=>n.customReport.type=s),class:"form-select",required:""},t[48]||(t[48]=[k('<option value="expense" data-v-48971846>Expense Report</option><option value="revenue" data-v-48971846>Revenue Report</option><option value="balance" data-v-48971846>Balance Sheet</option><option value="profit_loss" data-v-48971846>Profit &amp; Loss</option><option value="budget" data-v-48971846>Budget Analysis</option><option value="cash_flow" data-v-48971846>Cash Flow Statement</option>',6)]),512),[[A,n.customReport.type]])]),e("div",ma,[t[51]||(t[51]=e("label",{class:"form-label"},"Export Period *",-1)),b(e("select",{"onUpdate:modelValue":t[9]||(t[9]=s=>n.customReport.period=s),class:"form-select",required:""},t[50]||(t[50]=[k('<option value="current_month" data-v-48971846>Current Month</option><option value="last_month" data-v-48971846>Last Month</option><option value="quarter" data-v-48971846>Current Quarter</option><option value="year" data-v-48971846>Current Year</option><option value="custom" data-v-48971846>Custom Date Range</option>',5)]),512),[[A,n.customReport.period]])])]),n.customReport.period==="custom"?(m(),u("div",va,[e("div",fa,[t[52]||(t[52]=e("label",{class:"form-label"},"Start Date",-1)),b(e("input",{"onUpdate:modelValue":t[10]||(t[10]=s=>n.customReport.startDate=s),type:"date",class:"form-control",required:""},null,512),[[q,n.customReport.startDate]])]),e("div",pa,[t[53]||(t[53]=e("label",{class:"form-label"},"End Date",-1)),b(e("input",{"onUpdate:modelValue":t[11]||(t[11]=s=>n.customReport.endDate=s),type:"date",class:"form-control",required:""},null,512),[[q,n.customReport.endDate]])])])):P("",!0),t[58]||(t[58]=e("div",{class:"mb-3"},[e("label",{class:"form-label"},"Export Format"),e("div",{class:"alert alert-info"},[e("i",{class:"fas fa-info-circle me-2"}),f(" All exports are generated in CSV format for better data compatibility. ")])],-1)),e("div",ga,[t[56]||(t[56]=e("label",{class:"form-label"},"Include",-1)),e("div",ha,[e("div",ba,[b(e("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[12]||(t[12]=s=>n.customReport.includeCharts=s),id:"charts"},null,512),[[U,n.customReport.includeCharts]]),t[54]||(t[54]=e("label",{class:"form-check-label",for:"charts"},"Charts & Graphs",-1))]),e("div",Ca,[b(e("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[13]||(t[13]=s=>n.customReport.includeComments=s),id:"comments"},null,512),[[U,n.customReport.includeComments]]),t[55]||(t[55]=e("label",{class:"form-check-label",for:"comments"},"Analysis & Comments",-1))])])]),e("div",ya,[e("button",{type:"button",onClick:t[14]||(t[14]=(...s)=>n.closeCustomReportModal&&n.closeCustomReportModal(...s)),class:"btn btn-secondary"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary",disabled:n.generatingReport},[t[57]||(t[57]=e("i",{class:"fas fa-download"},null,-1)),f(" "+l(n.generatingReport?"Generating...":"Export Data"),1)],8,wa)])],32)])])])):P("",!0)])])])],64)}const Ta=ce(de,[["render",xa],["__scopeId","data-v-48971846"]]);export{Ta as default};
