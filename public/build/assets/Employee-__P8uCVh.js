import{H as p,L as S,r as c,c as b,o as f,a as i,b as t,g as u,f as C,t as r,F as L,p as D,e as x,s as E,n as A,q as T,h as P,m as F,u as g}from"./app-ClN5IJtO.js";import{P as I}from"./Pagination-BdELFNUM.js";import{A as N}from"./AdminMaster-CtvJ4jwP.js";import{S as m}from"./sweetalert2.esm.all-Y6IUEg8t.js";import{S as Y}from"./StatusShow-C0-7EN3_.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";const V={name:"Employee",layout:N,components:{StatusShow:Y,Link:S,Pagination:I,Head:p},setup(){function d(){return console.log(g().props.value.allEmployees.data),g().props.value.allEmployees.data}function n(a){m.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(l=>{const e=F({id:a.id});l.isConfirmed&&e.post(route("admin.employee.delete"),{onFinish:()=>{m.fire("Deleted!","Entry deleted.","success")}})})}function w(){return g().props.value.allEmployees.links}function o(a){return a===1?"Working":"Left Job"}function v(a){var l,e;return(l=a==null?void 0:a.user)!=null&&l.id?route("admin.users.view",(e=a==null?void 0:a.user)==null?void 0:e.id):null}function k(a){m.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, make user!"}).then(l=>{l.isConfirmed&&axios.post(route("admin.employee.convert.user"),a).then(e=>{let s=e.data;m.fire(s.msg,"",s.type)})})}return{employeeListLinks:w,employeeList:d,deleteItem:n,employeeStatus:o,userRoute:v,convertToUser:k}}},_={class:"row"},U={class:"col-lg-12"},j={class:"dashboard-settings margin-top-40"},J={class:"header-wrap d-flex justify-content-between"},R={class:"btn-wrp"},q={class:"table-responsive"},z={class:"table table-stripped"},M={style:{"max-width":"100px"}};function W(d,n,w,o,v,k){const a=c("Head"),l=c("Link"),e=c("Pagination");return f(),b(L,null,[i(a,{title:"All Employee"}),t("div",_,[t("div",U,[t("div",j,[t("div",J,[n[1]||(n[1]=t("h2",{class:"dashboards-title margin-bottom-40"},"All Employees",-1)),t("div",R,[i(l,{class:"btn btn-info m-1",href:d.route("admin.employee.new")},{default:u(()=>[...n[0]||(n[0]=[C("Add New",-1)])]),_:1},8,["href"])])]),t("div",q,[t("table",z,[t("thead",null,[t("tr",null,[n[2]||(n[2]=t("th",null,"Id",-1)),n[3]||(n[3]=t("th",null,"Title",-1)),n[4]||(n[4]=t("th",null,"Category",-1)),n[5]||(n[5]=t("th",null,"Join Date",-1)),n[6]||(n[6]=t("th",null,"Salary",-1)),t("th",null,"Total Leave ( "+r(new Date().getFullYear())+" )",1),n[7]||(n[7]=t("th",null,"Payment Info",-1)),n[8]||(n[8]=t("th",null,"Status",-1)),n[9]||(n[9]=t("th",null,"Action",-1))])]),t("tbody",null,[(f(!0),b(L,null,D(o.employeeList(),s=>{var h;return f(),b("tr",{key:s.id},[t("td",null,r(s.id),1),t("td",null,[C(r(s.name)+" ",1),x(i(l,{href:o.userRoute(s)},{default:u(()=>[...n[10]||(n[10]=[t("i",{class:"fas fa-user btn-success text-white btn btn-sm",title:"An User"},null,-1)])]),_:2},1032,["href"]),[[E,s==null?void 0:s.user]])]),t("td",null,r((h=s==null?void 0:s.category)==null?void 0:h.title),1),t("td",null,r(new Date(s.joinDate).toLocaleDateString()),1),t("td",null,r(s.salary)+" BDT",1),t("td",null,r(s!=null&&s.attendance_log?s==null?void 0:s.attendance_log.length:0),1),t("td",M,r(s.paymentInfo),1),t("td",null,[t("span",{class:A(["alert",s.status===1?"alert-success":"alert-danger"])},r(o.employeeStatus(s.status)),3)]),t("td",null,[i(l,{class:"btn btn-secondary m-1",href:d.route("admin.employee.view",s.id)},{default:u(()=>[...n[11]||(n[11]=[t("i",{class:"fas fa-eye"},null,-1)])]),_:2},1032,["href"]),i(l,{as:"button",class:"btn btn-danger m-1",onClick:B=>o.deleteItem(s)},{default:u(()=>[...n[12]||(n[12]=[t("i",{class:"fas fa-trash"},null,-1)])]),_:2},1032,["onClick"]),i(l,{class:"btn btn-info m-1",href:d.route("admin.employee.edit",s.id)},{default:u(()=>[...n[13]||(n[13]=[t("i",{class:"fas fa-pencil-alt"},null,-1)])]),_:2},1032,["href"]),i(l,{class:"btn btn-warning m-1",href:d.route("admin.employee.attendance.check",s.id)},{default:u(()=>[...n[14]||(n[14]=[t("i",{class:"fas fa-calendar-alt"},null,-1)])]),_:2},1032,["href"]),s.user===null?(f(),T(l,{key:0,class:"btn btn-warning m-1",as:"button",onClick:B=>o.convertToUser(s)},{default:u(()=>[...n[15]||(n[15]=[t("i",{class:"fas fa-retweet"},null,-1)])]),_:2},1032,["onClick"])):P("",!0)])])}),128))])])]),i(e,{links:o.employeeListLinks()},null,8,["links"])])])])],64)}const $=H(V,[["render",W]]);export{$ as default};
