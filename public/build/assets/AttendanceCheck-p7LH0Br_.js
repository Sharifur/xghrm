import{L as B,H as S,l as n,u as H,m as F,c as y,a as l,b as e,t as s,g as b,w as O,e as o,h as N,F as V,x as j,r,o as D,p as M,n as W}from"./app-NMZH-3Gf.js";import{A as T}from"./AdminMaster-kp-HkNmh.js";import{S as I}from"./Select-4yHcRvsE.js";import{B as P}from"./Button-dMU1l4IO.js";import{s as z}from"./vue3-datepicker.esm-gtpJu_BA.js";import{V as G}from"./ValidationErrors-N59rxZEB.js";import{S as x}from"./sweetalert2.all-co24XUOH.js";import{_ as U}from"./_plugin-vue_export-helper-x3n3nnut.js";const X={name:"AttendanceCheck",layout:T,components:{BsSelect:I,BsButton:P,Datepicker:z,ValidationErrors:G,Link:B,Head:S},setup(){const c=n(0),i=n(0),g=n(0),a=n(0),w=n(0),k=n(0),p=n(!1),d=n([]),h=H().props.value.allEmployees,u=F({employee_id:h.id,startDate:new Date,endDate:new Date});function C(){j.post(route("admin.employee.attendance.post"),{...u}).then(t=>{let f=t.data.logs;if(Object.keys(f).length>0){let v=f,m=[];Object.keys(v).forEach(function(A){let L=v[A];Object.keys(L).forEach(_=>{_!=="dateTime"&&m.push({key:_,customData:{title:`${_.replaceAll("_"," ")}: ${L[_]}`,class:_},dates:new Date(L.dateTime)})})}),d.value=m,p.value=!0,c.value=t.data.holidayCount,i.value=t.data.leaveCount,g.value=t.data.OfficeDays,a.value=t.data.sickLeaveCount,w.value=t.data.paidLeaveCount,k.value=t.data.workFormHome}else x.fire("Error!","NO Data found for selected Dates","warning")}).catch(t=>{x.fire("Error!",t.message,"warning")})}new Date().getMonth(),new Date().getFullYear();function E(){return{masks:{weekdays:"WWW"},attributes:d.value}}return{employeeData:u,getAttendanceDetails:C,employeeDetails:h,CalendarData:E,attendanceShow:p,CalendarAttributes:d,holidayCount:c,leaveCount:i,OfficeDays:g,sickLeaveCount:a,paidLeaveCount:w,workFormHome:k}}},Y={class:"row"},q={class:"col-lg-12"},J={class:"dashboard-settings margin-top-40"},K={class:"header-wrap d-flex justify-content-between"},Q={class:"dashboards-title"},R={class:"btn-wrp"},Z={class:"edit-profile"},$={class:"profile-info-dashboard"},ee={class:"dashboard-profile-flex"},ae={class:"dashboard-address-details"},te={class:"single-dashboard-input"},se={class:"single-info-input margin-top-30"},oe=e("label",{class:"info-title"}," Select Month ",-1),ne=e("span",null,"any date you select in this calendar, system will get data for the selected date month",-1),le={class:"btn-wrapper margin-top-35"},ie={key:0,class:"cleardar-wrapper"},de={class:"head-rapw margin-top-40"},ce=e("h4",null,"Color Explanation",-1),re={class:"color-explanation"},me={class:"holiday"},_e={class:"badge"},pe={class:"leave"},he={class:"badge"},ue={class:"C/In"},fe={class:"badge"},ve={class:"sick-leave"},ye={class:"badge"},be={class:"paid-leave"},De={class:"badge"},ge={class:"work-from-home"},we={class:"badge"},ke={class:"date-box-wrapper"},Ce={class:"day-label"},Ee={class:"custom-data-wrapper"};function Le(c,i,g,a,w,k){const p=r("Head"),d=r("Link"),h=r("ValidationErrors"),u=r("Datepicker"),C=r("BsButton"),E=r("Calendar");return D(),y(V,null,[l(p,{title:"Employee Attendance Check - Xgenious"}),e("div",Y,[e("div",q,[e("div",J,[e("div",K,[e("h2",Q,s(a.employeeDetails.name)+" Attendance Check",1),e("div",R,[l(d,{class:"btn btn-info m-1",href:c.route("admin.employee.all")},{default:b(()=>[o("All Employees")]),_:1},8,["href"]),l(d,{class:"btn btn-secondary m-1",href:c.route("admin.employee.edit",a.employeeDetails.id)},{default:b(()=>[o("Edit Employee Details")]),_:1},8,["href"]),l(d,{class:"btn btn-primary m-1",href:c.route("admin.employee.view",a.employeeDetails.id)},{default:b(()=>[o("View Employee Details")]),_:1},8,["href"])])]),e("div",Z,[e("div",$,[l(h),e("div",ee,[e("div",ae,[e("form",{onSubmit:i[1]||(i[1]=O(()=>{},["prevent"]))},[e("div",te,[e("div",se,[oe,l(u,{modelValue:a.employeeData.startDate,"onUpdate:modelValue":i[0]||(i[0]=t=>a.employeeData.startDate=t)},null,8,["modelValue"]),ne])]),e("div",le,[l(C,{"button-text":"Get Details",onClick:a.getAttendanceDetails,classes:"cmn-btn btn-bg-1"},null,8,["onClick"])])],32)])])])]),a.attendanceShow?(D(),y("div",ie,[e("div",de,[ce,e("ul",re,[e("li",me,[o("Holiday"),e("span",_e,s(a.holidayCount),1)]),e("li",pe,[o("leave"),e("span",he,s(a.leaveCount),1)]),e("li",ue,[o("OfficeDays"),e("span",fe,s(a.OfficeDays),1)]),e("li",ve,[o("Sick Leave"),e("span",ye,s(a.sickLeaveCount),1)]),e("li",be,[o("Paid Leave"),e("span",De,s(a.paidLeaveCount),1)]),e("li",ge,[o("Work From Home"),e("span",we,s(a.workFormHome),1)])])]),l(E,{class:"custom-calendar-outer-wrap",masks:a.CalendarData().masks,attributes:a.CalendarData().attributes,"disable-page-swipe":"","is-expanded":""},{"day-content":b(({day:t,attributes:f})=>[e("div",ke,[e("span",Ce,s(t.day),1),e("div",Ee,[(D(!0),y(V,null,M(f,({key:v,customData:m})=>(D(),y("p",{key:v,class:W(["data-item",m.class])},s(m.title),3))),128))])])]),_:1},8,["masks","attributes"])])):N("",!0)])])])],64)}const Ne=U(X,[["render",Le]]);export{Ne as default};
