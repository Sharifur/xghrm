import{A as K}from"./AdminMaster-CXZjJI1l.js";import{H as X,r as Z,c as p,o as b,a as $,b as t,d as N,h as F,f as g,e as f,A,t as i,F as T,p as tt,n as x,$ as et,w as D,i as w,l as h,y as _,B as at,D as st}from"./app-DFdneysv.js";import{S as c}from"./sweetalert2.esm.all-Y6IUEg8t.js";import{_ as ot}from"./_plugin-vue_export-helper-DlAUqK2U.js";const nt={layout:K,name:"Budgets",components:{Head:X},props:{budgets:Array},setup(S){const e=h("current"),y=h(!1),a=h(null),B=h(!1),l=h([...S.budgets||[]]),C=_(()=>l.value.sort((o,n)=>n.id-o.id)),s=at({name:"",description:"",allocated_amount:0,icon:"fas fa-chart-pie",notes:"",auto_forecast:1}),v=_(()=>l.value.reduce((o,n)=>o+n.allocated_amount,0)),M=_(()=>l.value.reduce((o,n)=>o+n.used_amount,0)),q=_(()=>l.value.reduce((o,n)=>o+(n.forecast_next_quarter||0),0)),Q=_(()=>l.value.filter(o=>o.used_amount/o.allocated_amount*100>=80).length),E=_(()=>{const o=new Date,u=(Math.floor(o.getMonth()/3)+1)*3,r=new Date(o.getFullYear(),u,0)-o;return Math.ceil(r/(1e3*60*60*24))}),d=o=>new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}).format(o||0),U=o=>{const n=o.used_amount/o.allocated_amount*100;return n>=100?"budget-over-limit":n>=80?"budget-near-limit":""},V=o=>{const n=o.used_amount/o.allocated_amount*100;return n>=100?"bg-danger":n>=80?"bg-warning":n>=60?"bg-info":"bg-success"},L=o=>{const n=o.used_amount/o.allocated_amount*100;return n>=100?"bg-danger":n>=80?"bg-warning":"bg-success"},k=o=>{const n=o.used_amount/o.allocated_amount*100;return n>=100?"Over Budget":n>=80?"Near Limit":"On Track"},O=()=>{s.name="",s.description="",s.allocated_amount=0,s.icon="fas fa-chart-pie",s.notes="",s.auto_forecast=1},R=o=>{a.value=o,s.name=o.name,s.description=o.description,s.allocated_amount=o.allocated_amount,s.icon=o.icon,s.notes=o.notes,s.auto_forecast=o.auto_forecast},P=()=>{y.value=!1,a.value=null,O()},I=async()=>{B.value=!0;try{const o={...s,id:a.value?a.value.id:Date.now(),used_amount:a.value?a.value.used_amount:0,remaining_amount:s.allocated_amount-(a.value?a.value.used_amount:0),forecast_next_quarter:s.allocated_amount*1.1};if(a.value){const n=l.value.findIndex(u=>u.id===a.value.id);l.value[n]=o}else l.value.push(o);P(),c.fire({title:"Success!",text:`Budget ${a.value?"updated":"created"} successfully`,icon:"success",confirmButtonColor:"#007bff",timer:3e3,timerProgressBar:!0})}catch(o){console.error("Save failed:",o),c.fire({title:"Error!",text:"Failed to save budget",icon:"error",confirmButtonColor:"#e74a3b"})}finally{B.value=!1}},Y=o=>{c.fire({title:o.name+" Details",html:`
                    <div class="text-left">
                        <p><strong>Allocated:</strong> ৳${d(o.allocated_amount)}</p>
                        <p><strong>Used:</strong> ৳${d(o.used_amount)}</p>
                        <p><strong>Remaining:</strong> ৳${d(o.remaining_amount)}</p>
                        ${o.forecast_next_quarter?`<p><strong>Next Quarter Forecast:</strong> ৳${d(o.forecast_next_quarter)}</p>`:""}
                        <p><strong>Status:</strong> ${k(o)}</p>
                        ${o.description?`<p><strong>Description:</strong> ${o.description}</p>`:""}
                    </div>
                `,confirmButtonColor:"#007bff"})},j=()=>{console.log("Period changed to:",e.value)},G=async o=>{if((await c.fire({title:"Delete Budget?",html:`
                    <div class="text-left">
                        <p>Are you sure you want to delete the budget for <strong>${o.name}</strong>?</p>
                        <div class="alert alert-warning mt-3">
                            <i class="fas fa-exclamation-triangle me-2"></i>
                            <strong>Budget Details:</strong><br>
                            Allocated: ৳${d(o.allocated_amount)}<br>
                            Used: ৳${d(o.used_amount)}<br>
                            Remaining: ৳${d(o.remaining_amount)}
                        </div>
                        <p class="text-danger"><strong>This action cannot be undone!</strong></p>
                    </div>
                `,icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc3545",cancelButtonColor:"#6c757d",confirmButtonText:"Yes, delete it!"})).isConfirmed){const u=l.value.findIndex(m=>m.id===o.id);u!==-1&&(l.value.splice(u,1),c.fire({title:"Budget Deleted!",text:`${o.name} budget has been removed`,icon:"success",confirmButtonColor:"#28a745",timer:3e3,timerProgressBar:!0}))}},z=async()=>{if(l.value.length===0){c.fire({title:"No Budgets",text:"There are no budgets to clear",icon:"info",confirmButtonColor:"#007bff"});return}if((await c.fire({title:"Clear All Budgets?",html:`
                    <div class="text-left">
                        <p>This will permanently delete <strong>${l.value.length}</strong> budget categories totaling <strong>৳${d(v.value)}</strong></p>
                        <div class="mt-3">
                            <h6>Budgets to be deleted:</h6>
                            <ul class="list-unstyled">
                                ${l.value.map(n=>`
                                    <li class="mb-1">
                                        <i class="${n.icon||"fas fa-chart-pie"} me-1"></i> ${n.name} - 
                                        <strong>৳${d(n.allocated_amount)}</strong>
                                    </li>
                                `).join("")}
                            </ul>
                        </div>
                        <div class="alert alert-danger mt-3">
                            <i class="fas fa-exclamation-triangle me-2"></i>
                            <strong>Warning:</strong> All budget data and forecasting information will be permanently lost. This action cannot be undone!
                        </div>
                    </div>
                `,icon:"error",showCancelButton:!0,confirmButtonColor:"#dc3545",cancelButtonColor:"#6c757d",confirmButtonText:"Yes, clear all budgets!",cancelButtonText:"Cancel",width:"600px"})).isConfirmed){const n=l.value.length,u=v.value;l.value.splice(0),c.fire({title:"All Budgets Cleared!",html:`
                        <div class="text-center">
                            <i class="fas fa-check-circle text-success mb-3" style="font-size: 3rem;"></i>
                            <p><strong>${n}</strong> budgets deleted</p>
                            <p><strong>৳${d(u)}</strong> total budget cleared</p>
                            <div class="alert alert-success mt-3">
                                <i class="fas fa-info-circle me-2"></i>
                                You can now create fresh budgets for your business planning!
                            </div>
                        </div>
                    `,icon:null,confirmButtonColor:"#28a745",timer:5e3,timerProgressBar:!0,width:"500px"})}},H=()=>{if(l.value.length===0){c.fire({title:"No Data to Export",text:"There are no budgets to export",icon:"info",confirmButtonColor:"#007bff"});return}let o=`Budget Name,Description,Allocated Amount (BDT),Used Amount (BDT),Remaining Amount (BDT),Usage %,Status,Next Quarter Forecast (BDT),Auto Forecast
`;l.value.forEach(r=>{const J=(r.used_amount/r.allocated_amount*100).toFixed(1);o+=`"${r.name}","${r.description||""}",${r.allocated_amount},${r.used_amount},${r.remaining_amount},${J}%,"${k(r)}",${r.forecast_next_quarter||""},"${r.auto_forecast?"Yes":"No"}"
`});const n=new Blob([o],{type:"text/csv;charset=utf-8;"}),u=URL.createObjectURL(n),m=document.createElement("a");m.href=u,m.download=`Budget-Summary-${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(u),c.fire({title:"Export Complete!",text:`Budget data exported to CSV file with ${l.value.length} categories`,icon:"success",confirmButtonColor:"#007bff",timer:3e3,timerProgressBar:!0})},W=async()=>{(await c.fire({title:"Reset Budget Period?",html:`
                    <div class="text-left">
                        <p>This will reset the "used amount" for all budget categories to zero, keeping the allocated amounts intact.</p>
                        <div class="alert alert-info mt-3">
                            <i class="fas fa-info-circle me-2"></i>
                            <strong>What happens:</strong><br>
                            • All "used amount" values reset to ৳0<br>
                            • Allocated amounts remain unchanged<br>
                            • Progress bars restart at 0%<br>
                            • Perfect for starting a new quarter
                        </div>
                        <p>Use this when starting a new budget period.</p>
                    </div>
                `,icon:"question",showCancelButton:!0,confirmButtonColor:"#007bff",cancelButtonColor:"#6c757d",confirmButtonText:"Yes, reset period!"})).isConfirmed&&(l.value.forEach(n=>{n.used_amount=0,n.remaining_amount=n.allocated_amount}),c.fire({title:"Budget Period Reset!",text:"All budget categories have been reset for the new period",icon:"success",confirmButtonColor:"#28a745",timer:3e3,timerProgressBar:!0}))};return st(()=>{l.value.length===0&&(l.value=[{id:1,name:"Technology & Software",description:"Hosting, domains, software subscriptions, development tools",allocated_amount:15e3,used_amount:8500,remaining_amount:6500,icon:"fas fa-laptop",forecast_next_quarter:16500,auto_forecast:1},{id:2,name:"Marketing & Advertising",description:"Google Ads, Facebook Ads, content creation, networking",allocated_amount:2e4,used_amount:16800,remaining_amount:3200,icon:"fas fa-bullhorn",forecast_next_quarter:25e3,auto_forecast:1},{id:3,name:"Office & Operations",description:"Electricity, internet, phone, office supplies",allocated_amount:12e3,used_amount:5400,remaining_amount:6600,icon:"fas fa-building",forecast_next_quarter:13200,auto_forecast:1}])}),{selectedPeriod:e,showCreateBudget:y,editingBudget:a,saving:B,budgets:l,sortedBudgets:C,budgetForm:s,totalBudget:v,currentQuarterSpent:M,forecastNextQuarter:q,nearLimitCount:Q,daysLeftInQuarter:E,formatNumber:d,getBudgetCardClass:U,getProgressBarClass:V,getStatusBadgeClass:L,getBudgetStatus:k,editBudget:R,closeModal:P,saveBudget:I,viewBudgetDetails:Y,updatePeriod:j,deleteBudget:G,clearAllBudgets:z,exportBudgets:H,resetBudgetPeriod:W}}},lt={class:"row"},it={class:"col-lg-12"},rt={class:"dashboard-settings margin-top-40"},ct={class:"card mb-4"},dt={class:"card-header d-flex justify-content-between align-items-center"},ut={class:"d-flex gap-2"},mt={class:"dropdown"},gt={class:"dropdown-menu"},ft=["disabled"],vt=["disabled"],pt={class:"card-body"},bt={class:"row"},_t={class:"col-md-4 text-end"},xt={class:"budget-summary"},ht={class:"total-budget"},Bt={class:"h5 mb-0 text-primary"},wt={class:"row mb-4"},yt={class:"col-md-3"},Ct={class:"stat-card"},kt={class:"stat-content"},Ft={class:"stat-value"},At={class:"col-md-3"},St={class:"stat-card"},Pt={class:"stat-content"},Nt={class:"stat-value"},Tt={class:"col-md-3"},Dt={class:"stat-card"},Mt={class:"stat-content"},qt={class:"stat-value"},Qt={class:"col-md-3"},Et={class:"stat-card"},Ut={class:"stat-content"},Vt={class:"stat-value"},Lt={class:"row"},Ot={class:"budget-header"},Rt={class:"budget-icon"},It={class:"budget-actions"},Yt=["onClick"],jt=["onClick"],Gt=["onClick"],zt={class:"budget-content"},Ht={class:"budget-description"},Wt={class:"budget-progress mb-3"},Jt={class:"d-flex justify-content-between mb-1"},Kt={class:"progress"},Xt={class:"budget-details"},Zt={class:"budget-amounts"},$t={class:"amount-row"},te={class:"value"},ee={class:"amount-row"},ae={key:0,class:"amount-row"},se={class:"value text-info"},oe={class:"budget-status mt-2"},ne={key:0,class:"col-12"},le={class:"modal-header"},ie={class:"modal-body"},re={class:"row"},ce={class:"col-md-6 mb-3"},de={class:"col-md-6 mb-3"},ue={class:"row"},me={class:"col-md-6 mb-3"},ge={class:"col-md-6 mb-3"},fe={class:"mb-3"},ve={class:"mb-3"},pe={class:"d-flex justify-content-end gap-2"},be=["disabled"];function _e(S,e,y,a,B,l){const C=Z("Head");return b(),p(T,null,[$(C,{title:"Budget Management & Forecasting"}),t("div",lt,[t("div",it,[t("div",rt,[t("div",ct,[t("div",dt,[e[24]||(e[24]=t("h4",{class:"mb-0"},[t("i",{class:"fas fa-chart-pie me-2"}),g(" Budget Management & Forecasting ")],-1)),t("div",ut,[f(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>a.selectedPeriod=s),onChange:e[1]||(e[1]=(...s)=>a.updatePeriod&&a.updatePeriod(...s)),class:"form-select form-select-sm",style:{width:"180px"}},[...e[17]||(e[17]=[t("option",{value:"current"},"Current Quarter",-1),t("option",{value:"next"},"Next Quarter",-1),t("option",{value:"annual"},"Annual View",-1)])],544),[[A,a.selectedPeriod]]),t("button",{onClick:e[2]||(e[2]=s=>a.showCreateBudget=!0),class:"btn btn-primary me-2"},[...e[18]||(e[18]=[t("i",{class:"fas fa-plus"},null,-1),g(" Create Budget ",-1)])]),t("div",mt,[e[23]||(e[23]=t("button",{class:"btn btn-outline-danger dropdown-toggle",type:"button","data-bs-toggle":"dropdown"},[t("i",{class:"fas fa-trash-alt"}),g(" Manage ")],-1)),t("ul",gt,[t("li",null,[t("button",{class:"dropdown-item text-danger",onClick:e[3]||(e[3]=(...s)=>a.clearAllBudgets&&a.clearAllBudgets(...s)),disabled:a.budgets.length===0},[...e[19]||(e[19]=[t("i",{class:"fas fa-trash-alt me-2"},null,-1),g("Clear All Budgets ",-1)])],8,ft)]),t("li",null,[t("button",{class:"dropdown-item",onClick:e[4]||(e[4]=(...s)=>a.exportBudgets&&a.exportBudgets(...s)),disabled:a.budgets.length===0},[...e[20]||(e[20]=[t("i",{class:"fas fa-download me-2"},null,-1),g("Export CSV ",-1)])],8,vt)]),e[22]||(e[22]=t("li",null,[t("hr",{class:"dropdown-divider"})],-1)),t("li",null,[t("button",{class:"dropdown-item",onClick:e[5]||(e[5]=(...s)=>a.resetBudgetPeriod&&a.resetBudgetPeriod(...s))},[...e[21]||(e[21]=[t("i",{class:"fas fa-sync-alt me-2"},null,-1),g("Reset Current Period ",-1)])])])])])])]),t("div",pt,[t("div",bt,[e[26]||(e[26]=t("div",{class:"col-md-8"},[t("p",{class:"text-muted mb-0"}," Plan and track your business expenses across different categories with quarterly forecasting. Monitor spending patterns and predict future financial needs based on historical data. ")],-1)),t("div",_t,[t("div",xt,[t("div",ht,[e[25]||(e[25]=t("small",{class:"text-muted"},"Total Budget",-1)),t("div",Bt,"৳"+i(a.formatNumber(a.totalBudget)),1)])])])])])]),e[52]||(e[52]=N('<div class="card mb-4 entrepreneur-guide" data-v-71ccc9e2><div class="card-header bg-warning-light" data-v-71ccc9e2><button class="btn btn-link text-warning p-0 w-100 text-start" type="button" data-bs-toggle="collapse" data-bs-target="#budgetGuide" aria-expanded="false" data-v-71ccc9e2><h6 class="mb-0" data-v-71ccc9e2><i class="fas fa-lightbulb me-2" data-v-71ccc9e2></i> Solo Entrepreneur Budget &amp; Forecasting Guide <i class="fas fa-chevron-down float-end mt-1" data-v-71ccc9e2></i></h6></button></div><div class="collapse" id="budgetGuide" data-v-71ccc9e2><div class="card-body" data-v-71ccc9e2><div class="row" data-v-71ccc9e2><div class="col-md-6" data-v-71ccc9e2><h6 class="text-primary mb-3" data-v-71ccc9e2><i class="fas fa-question-circle me-2" data-v-71ccc9e2></i> What is Budget Management? </h6><p class="mb-3 text-muted" data-v-71ccc9e2> Budget management helps you <strong data-v-71ccc9e2>plan and control spending</strong> by setting limits for different business categories and tracking actual expenses against those limits. </p><ul class="list-unstyled mb-4" data-v-71ccc9e2><li class="mb-2" data-v-71ccc9e2><i class="fas fa-check text-success me-2" data-v-71ccc9e2></i><strong data-v-71ccc9e2>Plan Ahead:</strong> Set spending limits for each category </li><li class="mb-2" data-v-71ccc9e2><i class="fas fa-check text-success me-2" data-v-71ccc9e2></i><strong data-v-71ccc9e2>Track Progress:</strong> Monitor actual vs budgeted amounts </li><li class="mb-2" data-v-71ccc9e2><i class="fas fa-check text-success me-2" data-v-71ccc9e2></i><strong data-v-71ccc9e2>Forecast Future:</strong> Predict next quarter&#39;s needs </li><li class="mb-2" data-v-71ccc9e2><i class="fas fa-check text-success me-2" data-v-71ccc9e2></i><strong data-v-71ccc9e2>Stay on Track:</strong> Get alerts when nearing limits </li></ul><h6 class="text-primary mb-3" data-v-71ccc9e2><i class="fas fa-crystal-ball me-2" data-v-71ccc9e2></i> Quarterly Forecasting Benefits </h6><ul class="list-unstyled" data-v-71ccc9e2><li class="mb-2" data-v-71ccc9e2><i class="fas fa-arrow-right text-info me-2" data-v-71ccc9e2></i> Plan for seasonal business changes </li><li class="mb-2" data-v-71ccc9e2><i class="fas fa-arrow-right text-info me-2" data-v-71ccc9e2></i> Prepare for equipment upgrades </li><li class="mb-2" data-v-71ccc9e2><i class="fas fa-arrow-right text-info me-2" data-v-71ccc9e2></i> Budget for marketing campaigns </li><li class="mb-2" data-v-71ccc9e2><i class="fas fa-arrow-right text-info me-2" data-v-71ccc9e2></i> Ensure adequate cash flow </li></ul></div><div class="col-md-6" data-v-71ccc9e2><h6 class="text-primary mb-3" data-v-71ccc9e2><i class="fas fa-user-tie me-2" data-v-71ccc9e2></i> Solo Business Budget Categories </h6><div class="budget-categories" data-v-71ccc9e2><div class="category-example mb-3" data-v-71ccc9e2><strong class="text-success d-block mb-2" data-v-71ccc9e2><i class="fas fa-laptop me-2" data-v-71ccc9e2></i>Technology &amp; Software </strong><small class="text-muted d-block" data-v-71ccc9e2> Hosting, domains, Adobe CC, Figma Pro, development tools, equipment repairs </small><div class="example-amounts mt-1" data-v-71ccc9e2><span class="badge bg-light text-dark" data-v-71ccc9e2>Q1: ৳15,000</span><span class="badge bg-light text-dark" data-v-71ccc9e2>Q2: ৳8,000</span></div></div><div class="category-example mb-3" data-v-71ccc9e2><strong class="text-info d-block mb-2" data-v-71ccc9e2><i class="fas fa-bullhorn me-2" data-v-71ccc9e2></i>Marketing &amp; Growth </strong><small class="text-muted d-block" data-v-71ccc9e2> Google Ads, Facebook Ads, content creation, networking events, conferences </small><div class="example-amounts mt-1" data-v-71ccc9e2><span class="badge bg-light text-dark" data-v-71ccc9e2>Q1: ৳20,000</span><span class="badge bg-light text-dark" data-v-71ccc9e2>Q2: ৳25,000</span></div></div><div class="category-example mb-3" data-v-71ccc9e2><strong class="text-warning d-block mb-2" data-v-71ccc9e2><i class="fas fa-building me-2" data-v-71ccc9e2></i>Operations &amp; Office </strong><small class="text-muted d-block" data-v-71ccc9e2> Electricity, internet, phone, office supplies, co-working space </small><div class="example-amounts mt-1" data-v-71ccc9e2><span class="badge bg-light text-dark" data-v-71ccc9e2>Q1: ৳12,000</span><span class="badge bg-light text-dark" data-v-71ccc9e2>Q2: ৳12,000</span></div></div></div><div class="alert alert-warning mt-3" data-v-71ccc9e2><strong data-v-71ccc9e2><i class="fas fa-star me-2" data-v-71ccc9e2></i>Pro Forecasting Tips: </strong><ul class="mb-0 mt-2" data-v-71ccc9e2><li data-v-71ccc9e2>Review last 6 months to predict next quarter</li><li data-v-71ccc9e2>Add 10-20% buffer for unexpected expenses</li><li data-v-71ccc9e2>Plan for seasonal changes in your business</li><li data-v-71ccc9e2>Set aside money for annual software renewals</li></ul></div></div></div></div></div></div>',1)),t("div",wt,[t("div",yt,[t("div",Ct,[e[28]||(e[28]=t("div",{class:"stat-icon bg-primary"},[t("i",{class:"fas fa-wallet"})],-1)),t("div",kt,[t("div",Ft,"৳"+i(a.formatNumber(a.currentQuarterSpent)),1),e[27]||(e[27]=t("div",{class:"stat-label"},"Current Quarter Spent",-1))])])]),t("div",At,[t("div",St,[e[30]||(e[30]=t("div",{class:"stat-icon bg-success"},[t("i",{class:"fas fa-chart-line"})],-1)),t("div",Pt,[t("div",Nt,"৳"+i(a.formatNumber(a.forecastNextQuarter)),1),e[29]||(e[29]=t("div",{class:"stat-label"},"Next Quarter Forecast",-1))])])]),t("div",Tt,[t("div",Dt,[e[32]||(e[32]=t("div",{class:"stat-icon bg-warning"},[t("i",{class:"fas fa-exclamation-triangle"})],-1)),t("div",Mt,[t("div",qt,i(a.nearLimitCount),1),e[31]||(e[31]=t("div",{class:"stat-label"},"Budgets Near Limit",-1))])])]),t("div",Qt,[t("div",Et,[e[34]||(e[34]=t("div",{class:"stat-icon bg-info"},[t("i",{class:"fas fa-calendar-alt"})],-1)),t("div",Ut,[t("div",Vt,i(a.daysLeftInQuarter),1),e[33]||(e[33]=t("div",{class:"stat-label"},"Days Left in Quarter",-1))])])])]),t("div",Lt,[(b(!0),p(T,null,tt(a.sortedBudgets,s=>(b(),p("div",{key:s.id,class:"col-lg-6 col-xl-4 mb-4"},[t("div",{class:x(["budget-card",a.getBudgetCardClass(s)])},[t("div",Ot,[t("div",Rt,[t("i",{class:x(s.icon||"fas fa-chart-pie")},null,2)]),t("div",It,[t("button",{onClick:v=>a.editBudget(s),class:"btn btn-sm btn-outline-primary",title:"Edit Budget"},[...e[35]||(e[35]=[t("i",{class:"fas fa-edit"},null,-1)])],8,Yt),t("button",{onClick:v=>a.viewBudgetDetails(s),class:"btn btn-sm btn-outline-info",title:"View Details"},[...e[36]||(e[36]=[t("i",{class:"fas fa-chart-bar"},null,-1)])],8,jt),t("button",{onClick:v=>a.deleteBudget(s),class:"btn btn-sm btn-outline-danger",title:"Delete Budget"},[...e[37]||(e[37]=[t("i",{class:"fas fa-trash"},null,-1)])],8,Gt)])]),t("div",zt,[t("h6",null,i(s.name),1),t("p",Ht,i(s.description||"No description"),1),t("div",Wt,[t("div",Jt,[t("small",null,"Used: ৳"+i(a.formatNumber(s.used_amount)),1),t("small",null,i(Math.round(s.used_amount/s.allocated_amount*100))+"%",1)]),t("div",Kt,[t("div",{class:x(["progress-bar",a.getProgressBarClass(s)]),style:et(`width: ${Math.min(s.used_amount/s.allocated_amount*100,100)}%`)},null,6)])]),t("div",Xt,[t("div",Zt,[t("div",$t,[e[38]||(e[38]=t("span",{class:"label"},"Allocated:",-1)),t("span",te,"৳"+i(a.formatNumber(s.allocated_amount)),1)]),t("div",ee,[e[39]||(e[39]=t("span",{class:"label"},"Remaining:",-1)),t("span",{class:x(["value",s.remaining_amount<0?"text-danger":"text-success"])}," ৳"+i(a.formatNumber(s.remaining_amount)),3)]),s.forecast_next_quarter?(b(),p("div",ae,[e[40]||(e[40]=t("span",{class:"label"},"Next Quarter Forecast:",-1)),t("span",se,"৳"+i(a.formatNumber(s.forecast_next_quarter)),1)])):F("",!0)])]),t("div",oe,[t("span",{class:x(["badge",a.getStatusBadgeClass(s)])},i(a.getBudgetStatus(s)),3)])])],2)]))),128)),a.budgets.length===0?(b(),p("div",ne,[...e[41]||(e[41]=[t("div",{class:"text-center py-5"},[t("i",{class:"fas fa-chart-pie text-muted mb-3",style:{"font-size":"4rem"}}),t("h5",{class:"text-muted"},"No Budgets Created"),t("p",{class:"text-muted"},'Click "Create Budget" to set up your first budget category with forecasting.')],-1)])])):F("",!0)]),a.showCreateBudget||a.editingBudget?(b(),p("div",{key:0,class:"modal-overlay",onClick:e[16]||(e[16]=(...s)=>a.closeModal&&a.closeModal(...s))},[t("div",{class:"modal-content large-modal",onClick:e[15]||(e[15]=D(()=>{},["stop"]))},[t("div",le,[t("h5",null,i(a.editingBudget?"Edit":"Create")+" Budget",1),t("button",{onClick:e[6]||(e[6]=(...s)=>a.closeModal&&a.closeModal(...s)),class:"btn-close"},"×")]),t("div",ie,[t("form",{onSubmit:e[14]||(e[14]=D((...s)=>a.saveBudget&&a.saveBudget(...s),["prevent"]))},[t("div",re,[t("div",ce,[e[42]||(e[42]=t("label",{class:"form-label"},"Budget Name *",-1)),f(t("input",{"onUpdate:modelValue":e[7]||(e[7]=s=>a.budgetForm.name=s),type:"text",class:"form-control",required:"",placeholder:"e.g., Technology & Software"},null,512),[[w,a.budgetForm.name]])]),t("div",de,[e[43]||(e[43]=t("label",{class:"form-label"},"Quarterly Amount (BDT) *",-1)),f(t("input",{"onUpdate:modelValue":e[8]||(e[8]=s=>a.budgetForm.allocated_amount=s),type:"number",class:"form-control",step:"0.01",min:"0",required:"",placeholder:"15000.00"},null,512),[[w,a.budgetForm.allocated_amount,void 0,{number:!0}]])])]),t("div",ue,[t("div",me,[e[45]||(e[45]=t("label",{class:"form-label"},"Category Icon",-1)),f(t("select",{"onUpdate:modelValue":e[9]||(e[9]=s=>a.budgetForm.icon=s),class:"form-select"},[...e[44]||(e[44]=[N('<option value="fas fa-chart-pie" data-v-71ccc9e2>Chart Pie (Default)</option><option value="fas fa-laptop" data-v-71ccc9e2>Technology &amp; Software</option><option value="fas fa-bullhorn" data-v-71ccc9e2>Marketing &amp; Advertising</option><option value="fas fa-building" data-v-71ccc9e2>Office &amp; Operations</option><option value="fas fa-car" data-v-71ccc9e2>Travel &amp; Transportation</option><option value="fas fa-graduation-cap" data-v-71ccc9e2>Education &amp; Training</option><option value="fas fa-handshake" data-v-71ccc9e2>Professional Services</option><option value="fas fa-shield-alt" data-v-71ccc9e2>Insurance &amp; Legal</option><option value="fas fa-cogs" data-v-71ccc9e2>Equipment &amp; Maintenance</option><option value="fas fa-users" data-v-71ccc9e2>Outsourcing &amp; Contractors</option>',10)])],512),[[A,a.budgetForm.icon]])]),t("div",ge,[e[47]||(e[47]=t("label",{class:"form-label"},"Auto-Forecast Next Quarter",-1)),f(t("select",{"onUpdate:modelValue":e[10]||(e[10]=s=>a.budgetForm.auto_forecast=s),class:"form-select"},[...e[46]||(e[46]=[t("option",{value:"1"},"Yes - Based on current usage",-1),t("option",{value:"0"},"No - Manual planning only",-1)])],512),[[A,a.budgetForm.auto_forecast]])])]),t("div",fe,[e[48]||(e[48]=t("label",{class:"form-label"},"Description",-1)),f(t("textarea",{"onUpdate:modelValue":e[11]||(e[11]=s=>a.budgetForm.description=s),class:"form-control",rows:"3",placeholder:"What expenses will this budget cover?"},null,512),[[w,a.budgetForm.description]])]),t("div",ve,[e[49]||(e[49]=t("label",{class:"form-label"},"Budget Notes",-1)),f(t("textarea",{"onUpdate:modelValue":e[12]||(e[12]=s=>a.budgetForm.notes=s),class:"form-control",rows:"2",placeholder:"Internal notes about this budget category"},null,512),[[w,a.budgetForm.notes]])]),e[51]||(e[51]=t("div",{class:"alert alert-info"},[t("h6",null,[t("i",{class:"fas fa-crystal-ball me-2"}),g("Forecasting Information")]),t("p",{class:"mb-0"},"The system will analyze your historical spending in this category and automatically suggest budget amounts for next quarter. You can always adjust these suggestions manually.")],-1)),t("div",pe,[t("button",{type:"button",onClick:e[13]||(e[13]=(...s)=>a.closeModal&&a.closeModal(...s)),class:"btn btn-secondary"}," Cancel "),t("button",{type:"submit",class:"btn btn-primary",disabled:a.saving},[e[50]||(e[50]=t("i",{class:"fas fa-save"},null,-1)),g(" "+i(a.saving?"Saving...":"Save Budget"),1)],8,be)])],32)])])])):F("",!0)])])])],64)}const ye=ot(nt,[["render",_e],["__scopeId","data-v-71ccc9e2"]]);export{ye as default};
