import{K as E,H as F,L as M,r as d,c as h,o as D,a as r,b as t,h as N,w as P,f as l,t as o,g as j,F as L,p as T,n as G,l as n,u as I,m as K,x as U}from"./app-DFdneysv.js";import{A as z}from"./AdminMaster-CXZjJI1l.js";import{S as O}from"./Select-DtpluXuN.js";import{B as X}from"./Button-DOQkh_hD.js";import{s as Y}from"./vue3-datepicker.esm-DZaI_P-3.js";import{V as q}from"./ValidationErrors-z_G5NPPm.js";import{S}from"./sweetalert2.esm.all-Y6IUEg8t.js";import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Q={name:"AttendanceCheck",layout:z,components:{BsSelect:O,BsButton:X,Datepicker:Y,ValidationErrors:q,Link:M,Head:F,Select:O,VueDatePicker:E},setup(){const k=n(0),a=n(0),C=n(0),e=n(0),b=n(0),w=n(0),u=n(0),p=n(0),f=n(0),_=n(0),v=n(!1),c=n([]),i=I().props.value.allEmployees,g=K({employee_id:null,startDate:new Date,endDate:new Date});function W(){U.post(route("admin.employee.attendance.post"),{...g}).then(s=>{let A=s.data.logs;if(Object.keys(A).length>0){let x=A,H=[];Object.keys(x).forEach(function(B){let V=x[B];Object.keys(V).forEach(m=>{m!=="dateTime"&&H.push({key:`${m}-${Math.random()}`,customData:{title:`${m.replaceAll("_"," ")}: ${V[m]}`,class:m},dates:new Date(V.dateTime)})})}),c.value=H,v.value=!0,k.value=s.data.holidayCount,a.value=s.data.leaveCount,C.value=s.data.OfficeDays,e.value=s.data.sickLeaveCount,b.value=s.data.paidLeaveCount,w.value=s.data.workFormHome,u.value=s.data.avgOfficeWorkingHours,p.value=s.data.daysWithCompleteData,f.value=s.data.lateArrivalCount,_.value=s.data.officeWorkingDays}else S.fire("Error!","NO Data found for selected Dates","warning")}).catch(s=>{S.fire("Error!",s.message,"warning")})}new Date().getMonth(),new Date().getFullYear();function y(){return{masks:{weekdays:"WWW"},attributes:c.value}}return{employeeData:g,getAttendanceDetails:W,employeeList:i,CalendarData:y,attendanceShow:v,CalendarAttributes:c,holidayCount:k,leaveCount:a,OfficeDays:C,sickLeaveCount:e,paidLeaveCount:b,workFormHome:w,officeWorkingDays:_,avgOfficeWorkingHours:u,daysWithCompleteData:p,lateArrivalCount:f}}},R={class:"row"},Z={class:"col-lg-12"},$={class:"dashboard-settings margin-top-40"},tt={class:"edit-profile"},at={class:"profile-info-dashboard"},et={class:"dashboard-profile-flex"},st={class:"dashboard-address-details"},ot={class:"single-dashboard-input"},nt={class:"single-info-input margin-top-30"},lt={class:"btn-wrapper margin-top-35"},it={key:0,class:"cleardar-wrapper"},dt={class:"head-rapw margin-top-40"},rt={class:"color-explanation"},ct={class:"holiday"},mt={class:"badge"},ut={class:"leave"},pt={class:"badge"},ft={class:"C/In"},_t={class:"badge"},vt={class:"sick-leave"},gt={class:"badge"},yt={class:"paid-leave"},ht={class:"badge"},Dt={class:"work-from-home"},kt={class:"badge"},Ct={class:"avgOfficeWorkingHours"},bt={class:"badge"},wt={class:"daysWithCompleteData"},Wt={class:"badge"},Vt={class:"daysWithCompleteData"},At={class:"badge"},xt={class:"officeWorkingDays"},Ht={class:"badge"},Lt={class:"date-box-wrapper"},Ot={class:"day-label"},St={class:"custom-data-wrapper"};function Bt(k,a,C,e,b,w){const u=d("Head"),p=d("ValidationErrors"),f=d("VueDatePicker"),_=d("Select"),v=d("BsButton"),c=d("Calendar");return D(),h(L,null,[r(u,{title:"Employee Attendance Check - Xgenious"}),t("div",R,[t("div",Z,[t("div",$,[a[16]||(a[16]=t("div",{class:"header-wrap d-flex justify-content-between"},[t("h2",{class:"dashboards-title"},"Attendance Check test")],-1)),t("div",tt,[t("div",at,[r(p),t("div",et,[t("div",st,[t("form",{onSubmit:a[2]||(a[2]=P(()=>{},["prevent"]))},[t("div",ot,[t("div",nt,[a[3]||(a[3]=t("label",{class:"info-title"}," Select Month ",-1)),r(f,{modelValue:e.employeeData.startDate,"onUpdate:modelValue":a[0]||(a[0]=i=>e.employeeData.startDate=i)},null,8,["modelValue"]),a[4]||(a[4]=t("span",null,"any date you select in this calendar, system will get data for the selected date month",-1))])]),r(_,{title:"Employee",modelValue:e.employeeData.employee_id,"onUpdate:modelValue":a[1]||(a[1]=i=>e.employeeData.employee_id=i),options:e.employeeList},null,8,["modelValue","options"]),t("div",lt,[r(v,{"button-text":"Get Details",onClick:e.getAttendanceDetails,classes:"cmn-btn btn-bg-1"},null,8,["onClick"])])],32)])])])]),e.attendanceShow?(D(),h("div",it,[t("div",dt,[a[15]||(a[15]=t("h4",null,"Color Explanation",-1)),t("ul",rt,[t("li",ct,[a[5]||(a[5]=l("Holiday",-1)),t("span",mt,o(e.holidayCount),1)]),t("li",ut,[a[6]||(a[6]=l("leave",-1)),t("span",pt,o(e.leaveCount),1)]),t("li",ft,[a[7]||(a[7]=l("OfficeDays",-1)),t("span",_t,o(e.OfficeDays),1)]),t("li",vt,[a[8]||(a[8]=l("Sick Leave",-1)),t("span",gt,o(e.sickLeaveCount),1)]),t("li",yt,[a[9]||(a[9]=l("Paid Leave",-1)),t("span",ht,o(e.paidLeaveCount),1)]),t("li",Dt,[a[10]||(a[10]=l("Work From Home",-1)),t("span",kt,o(e.workFormHome),1)]),t("li",Ct,[a[11]||(a[11]=l("Avg Office Working Hours",-1)),t("span",bt,o(e.avgOfficeWorkingHours)+" hr",1)]),t("li",wt,[a[12]||(a[12]=l("Days With Complete Data",-1)),t("span",Wt,o(e.daysWithCompleteData)+" days",1)]),t("li",Vt,[a[13]||(a[13]=l("Late Arrival Count",-1)),t("span",At,o(e.lateArrivalCount)+" days",1)]),t("li",xt,[a[14]||(a[14]=l("Office Working Days",-1)),t("span",Ht,o(e.officeWorkingDays)+" days",1)])])]),r(c,{class:"custom-calendar-outer-wrap",masks:e.CalendarData().masks,attributes:e.CalendarData().attributes,"disable-page-swipe":"","is-expanded":""},{"day-content":j(({day:i,attributes:g})=>[t("div",Lt,[t("span",Ot,o(i.day),1),t("div",St,[(D(!0),h(L,null,T(g,({key:W,customData:y})=>(D(),h("p",{key:W,class:G(["data-item",y.class])},o(y.title),3))),128))])])]),_:1},8,["masks","attributes"])])):N("",!0)])])])],64)}const It=J(Q,[["render",Bt]]);export{It as default};
