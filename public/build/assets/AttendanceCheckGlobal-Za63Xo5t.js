import{L as S,H as A,K as H,l as o,u as F,m as O,c as f,a as l,b as e,w as M,e as i,t as n,g as N,h as P,F as x,x as j,r as d,o as v,p as W,n as T}from"./app-3xCpkM7L.js";import{A as z}from"./AdminMaster-rt2mnpO9.js";import{S as B}from"./Select-Rqff3XlX.js";import{B as G}from"./Button-dXg_TwjF.js";import{s as I}from"./vue3-datepicker.esm-of5srOun.js";import{B as K}from"./ValidationErrors-Ev_PrKRm.js";import{S as E}from"./sweetalert2.all-eSlDtIAn.js";import{_ as U}from"./_plugin-vue_export-helper-x3n3nnut.js";const X={name:"AttendanceCheck",layout:z,components:{BsSelect:B,BsButton:G,Datepicker:I,ValidationErrors:K,Link:S,Head:A,Select:B,VueDatePicker:H},setup(){const y=o(0),s=o(0),b=o(0),a=o(0),D=o(0),g=o(0),_=o(!1),c=o([]),k=F().props.value.allEmployees,p=O({employee_id:null,startDate:new Date,endDate:new Date});function C(){j.post(route("admin.employee.attendance.post"),{...p}).then(t=>{let u=t.data.logs;if(Object.keys(u).length>0){let h=u,r=[];Object.keys(h).forEach(function(L){let V=h[L];Object.keys(V).forEach(m=>{m!=="dateTime"&&r.push({key:`${m}-${Math.random()}`,customData:{title:`${m.replaceAll("_"," ")}: ${V[m]}`,class:m},dates:new Date(V.dateTime)})})}),c.value=r,_.value=!0,y.value=t.data.holidayCount,s.value=t.data.leaveCount,b.value=t.data.OfficeDays,a.value=t.data.sickLeaveCount,D.value=t.data.paidLeaveCount,g.value=t.data.workFormHome}else E.fire("Error!","NO Data found for selected Dates","warning")}).catch(t=>{E.fire("Error!",t.message,"warning")})}new Date().getMonth(),new Date().getFullYear();function w(){return{masks:{weekdays:"WWW"},attributes:c.value}}return{employeeData:p,getAttendanceDetails:C,employeeList:k,CalendarData:w,attendanceShow:_,CalendarAttributes:c,holidayCount:y,leaveCount:s,OfficeDays:b,sickLeaveCount:a,paidLeaveCount:D,workFormHome:g}}},Y={class:"row"},q={class:"col-lg-12"},J={class:"dashboard-settings margin-top-40"},Q=e("div",{class:"header-wrap d-flex justify-content-between"},[e("h2",{class:"dashboards-title"},"Attendance Check")],-1),R={class:"edit-profile"},Z={class:"profile-info-dashboard"},$={class:"dashboard-profile-flex"},ee={class:"dashboard-address-details"},ae={class:"single-dashboard-input"},te={class:"single-info-input margin-top-30"},se=e("label",{class:"info-title"}," Select Month ",-1),oe=e("span",null,"any date you select in this calendar, system will get data for the selected date month",-1),ne={class:"btn-wrapper margin-top-35"},le={key:0,class:"cleardar-wrapper"},ie={class:"head-rapw margin-top-40"},de=e("h4",null,"Color Explanation",-1),ce={class:"color-explanation"},re={class:"holiday"},me={class:"badge"},_e={class:"leave"},pe={class:"badge"},ue={class:"C/In"},he={class:"badge"},fe={class:"sick-leave"},ve={class:"badge"},ye={class:"paid-leave"},be={class:"badge"},De={class:"work-from-home"},ge={class:"badge"},ke={class:"date-box-wrapper"},Ce={class:"day-label"},we={class:"custom-data-wrapper"};function Ve(y,s,b,a,D,g){const _=d("Head"),c=d("ValidationErrors"),k=d("VueDatePicker"),p=d("Select"),C=d("BsButton"),w=d("Calendar");return v(),f(x,null,[l(_,{title:"Employee Attendance Check - Xgenious"}),e("div",Y,[e("div",q,[e("div",J,[Q,e("div",R,[e("div",Z,[l(c),e("div",$,[e("div",ee,[e("form",{onSubmit:s[2]||(s[2]=M(()=>{},["prevent"]))},[e("div",ae,[e("div",te,[se,l(k,{modelValue:a.employeeData.startDate,"onUpdate:modelValue":s[0]||(s[0]=t=>a.employeeData.startDate=t)},null,8,["modelValue"]),oe])]),l(p,{title:"Employee",modelValue:a.employeeData.employee_id,"onUpdate:modelValue":s[1]||(s[1]=t=>a.employeeData.employee_id=t),options:a.employeeList},null,8,["modelValue","options"]),e("div",ne,[l(C,{"button-text":"Get Details",onClick:a.getAttendanceDetails,classes:"cmn-btn btn-bg-1"},null,8,["onClick"])])],32)])])])]),a.attendanceShow?(v(),f("div",le,[e("div",ie,[de,e("ul",ce,[e("li",re,[i("Holiday"),e("span",me,n(a.holidayCount),1)]),e("li",_e,[i("leave"),e("span",pe,n(a.leaveCount),1)]),e("li",ue,[i("OfficeDays"),e("span",he,n(a.OfficeDays),1)]),e("li",fe,[i("Sick Leave"),e("span",ve,n(a.sickLeaveCount),1)]),e("li",ye,[i("Paid Leave"),e("span",be,n(a.paidLeaveCount),1)]),e("li",De,[i("Work From Home"),e("span",ge,n(a.workFormHome),1)])])]),l(w,{class:"custom-calendar-outer-wrap",masks:a.CalendarData().masks,attributes:a.CalendarData().attributes,"disable-page-swipe":"","is-expanded":""},{"day-content":N(({day:t,attributes:u})=>[e("div",ke,[e("span",Ce,n(t.day),1),e("div",we,[(v(!0),f(x,null,W(u,({key:h,customData:r})=>(v(),f("p",{key:h,class:T(["data-item",r.class])},n(r.title),3))),128))])])]),_:1},8,["masks","attributes"])])):P("",!0)])])])],64)}const Oe=U(X,[["render",Ve]]);export{Oe as default};
