import{A}from"./AdminMaster-Bqad8AbG.js";import{H as N,r as V,c as d,o as r,a as P,b as t,d as S,h as E,f as m,F as D,p as U,n as F,t as b,w as B,e as v,i as p,A as _,l as g,B as O,x as M}from"./app-BvSwc0_b.js";import{S as f}from"./sweetalert2.esm.all-acGi8jXx.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";const R={layout:A,name:"Equity",components:{Head:N},props:{equity:Array},setup(k){const e=g(!1),n=g(null),a=g(!1),u=g([...k.equity]),o=O({name:"",description:"",default_amount:0,icon:"fas fa-chart-line",tooltip:"",currency:"BDT"}),h=i=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(i||0),s=()=>{o.name="",o.description="",o.default_amount=0,o.icon="fas fa-chart-line",o.tooltip="",o.currency="BDT"},w=i=>{n.value=i,o.name=i.name,o.description=i.description,o.default_amount=i.default_amount,o.icon=i.icon,o.tooltip=i.tooltip,o.currency=i.currency||"BDT"},C=()=>{e.value=!1,n.value=null,s()};return{equity:u,showAddModal:e,editingEquity:n,saving:a,form:o,formatNumber:h,editEquity:w,closeModal:C,saveEquity:async()=>{var i,x;a.value=!0;try{const c=n.value?route("admin.finance.equity.update",n.value.id):route("admin.finance.equity.store"),y=n.value?"put":"post",l=await M[y](c,o);if(l.data.success){if(n.value){const q=u.value.findIndex(T=>T.id===n.value.id);u.value[q]=l.data.equity}else u.value.push(l.data.equity);C(),f.fire({title:"Success!",text:l.data.message,icon:"success",confirmButtonColor:"#17a2b8",timer:3e3,timerProgressBar:!0})}}catch(c){console.error("Save failed:",c),f.fire({title:"Error!",text:((x=(i=c.response)==null?void 0:i.data)==null?void 0:x.message)||"Failed to save equity item",icon:"error",confirmButtonColor:"#e74a3b"})}finally{a.value=!1}},deleteEquity:async i=>{var c,y;if((await f.fire({title:"Are you sure?",text:"You want to delete this equity item? This will remove it from all balance sheets.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#e74a3b",cancelButtonColor:"#6c757d",confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel"})).isConfirmed)try{const l=await M.delete(route("admin.finance.equity.delete",i));l.data.success&&(u.value=u.value.filter(q=>q.id!==i),f.fire({title:"Deleted!",text:l.data.message,icon:"success",confirmButtonColor:"#17a2b8",timer:3e3,timerProgressBar:!0}))}catch(l){console.error("Delete failed:",l),f.fire({title:"Error!",text:((y=(c=l.response)==null?void 0:c.data)==null?void 0:y.message)||"Failed to delete equity item",icon:"error",confirmButtonColor:"#e74a3b"})}}}}},L={class:"row"},W={class:"col-lg-12"},j={class:"dashboard-settings margin-top-40"},z={class:"card mb-4"},Y={class:"card-header d-flex justify-content-between align-items-center"},G={class:"row"},K={class:"equity-card"},J={class:"equity-header"},Q={class:"equity-icon"},X={class:"equity-actions"},Z=["onClick"],I=["onClick"],$={class:"equity-content"},tt={class:"equity-description"},et={class:"equity-amount"},at={class:"amount"},st={key:0,class:"d-block mt-1 text-muted",style:{"font-size":"0.75rem"}},ot={key:0,class:"col-12"},it={class:"modal-header"},lt={class:"modal-body"},nt={class:"row"},dt={class:"col-md-6 mb-3"},rt={class:"col-md-6 mb-3"},bt={class:"input-group"},ut={key:0,class:"form-text text-info"},ct={key:1,class:"form-text text-muted"},mt={class:"mb-3"},vt={class:"mb-3"},ft={class:"mb-3"},yt={class:"d-flex justify-content-end gap-2"},pt=["disabled"];function gt(k,e,n,a,u,o){const h=V("Head");return r(),d(D,null,[P(h,{title:"Equity Management"}),t("div",L,[t("div",W,[t("div",j,[t("div",z,[t("div",Y,[e[13]||(e[13]=t("h4",{class:"mb-0"},[t("i",{class:"fas fa-chart-line me-2"}),m(" Equity Management ")],-1)),t("button",{onClick:e[0]||(e[0]=s=>a.showAddModal=!0),class:"btn btn-info"},e[12]||(e[12]=[t("i",{class:"fas fa-plus"},null,-1),m(" Add Equity Item ")]))]),e[14]||(e[14]=t("div",{class:"card-body"},[t("p",{class:"text-muted"}," Manage your company equity including owner investments, retained earnings, and profit distributions. These items represent the owner's stake in the company. ")],-1))]),e[30]||(e[30]=S('<div class="card mb-4 entrepreneur-guide" data-v-dbb5429e><div class="card-header bg-info-light" data-v-dbb5429e><h6 class="text-info mb-0" data-v-dbb5429e><i class="fas fa-lightbulb me-2" data-v-dbb5429e></i> Single Company Owner Equity Guide </h6></div><div class="card-body" data-v-dbb5429e><div class="row" data-v-dbb5429e><div class="col-md-6" data-v-dbb5429e><h6 class="text-primary mb-3" data-v-dbb5429e><i class="fas fa-question-circle me-2" data-v-dbb5429e></i> What is Owner&#39;s Equity? </h6><p class="mb-3 text-muted" data-v-dbb5429e> As a solo entrepreneur, equity represents <strong data-v-dbb5429e>your ownership stake</strong> in the business. It&#39;s essentially what you&#39;ve put into the business minus what you&#39;ve taken out. </p><ul class="list-unstyled mb-4" data-v-dbb5429e><li class="mb-2" data-v-dbb5429e><i class="fas fa-plus text-success me-2" data-v-dbb5429e></i><strong data-v-dbb5429e>Owner Investment:</strong> Money you&#39;ve put into the business </li><li class="mb-2" data-v-dbb5429e><i class="fas fa-plus text-success me-2" data-v-dbb5429e></i><strong data-v-dbb5429e>Retained Earnings:</strong> Profits kept in the business </li><li class="mb-2" data-v-dbb5429e><i class="fas fa-minus text-danger me-2" data-v-dbb5429e></i><strong data-v-dbb5429e>Owner Withdrawals:</strong> Money you&#39;ve taken out </li><li class="mb-2" data-v-dbb5429e><i class="fas fa-minus text-danger me-2" data-v-dbb5429e></i><strong data-v-dbb5429e>Business Losses:</strong> Reduces your equity </li></ul><div class="alert alert-info" data-v-dbb5429e><strong data-v-dbb5429e><i class="fas fa-calculator me-2" data-v-dbb5429e></i>Simple Formula: </strong><br data-v-dbb5429e><code class="text-dark" data-v-dbb5429e>Owner&#39;s Equity = Assets - Liabilities</code><br data-v-dbb5429e><small class="mt-1 d-block" data-v-dbb5429e>This shows your true ownership value in the business.</small></div></div><div class="col-md-6" data-v-dbb5429e><h6 class="text-primary mb-3" data-v-dbb5429e><i class="fas fa-user-tie me-2" data-v-dbb5429e></i> Solo Business Equity Examples </h6><div class="equity-examples" data-v-dbb5429e><div class="example-category mb-3 positive" data-v-dbb5429e><strong class="text-success d-block mb-2" data-v-dbb5429e><i class="fas fa-arrow-up me-2" data-v-dbb5429e></i>Positive Equity (Increases Value) </strong><ul class="list-unstyled small text-muted mb-0" data-v-dbb5429e><li data-v-dbb5429e>• Initial $10,000 investment to start business</li><li data-v-dbb5429e>• Purchased laptop and equipment for business</li><li data-v-dbb5429e>• Monthly profits reinvested in business growth</li><li data-v-dbb5429e>• Earnings from Webflow templates &amp; Shopify apps</li></ul></div><div class="example-category mb-3 negative" data-v-dbb5429e><strong class="text-danger d-block mb-2" data-v-dbb5429e><i class="fas fa-arrow-down me-2" data-v-dbb5429e></i>Negative Equity (Decreases Value) </strong><ul class="list-unstyled small text-muted mb-0" data-v-dbb5429e><li data-v-dbb5429e>• Owner draws/salary you pay yourself</li><li data-v-dbb5429e>• Business losses during tough months</li><li data-v-dbb5429e>• Large equipment purchases (temporary)</li><li data-v-dbb5429e>• Emergency cash withdrawals</li></ul></div></div><h6 class="text-primary mb-3 mt-4" data-v-dbb5429e><i class="fas fa-chart-line me-2" data-v-dbb5429e></i> Why Track Equity? </h6><ul class="list-unstyled" data-v-dbb5429e><li class="mb-2" data-v-dbb5429e><i class="fas fa-arrow-right text-info me-2" data-v-dbb5429e></i> See how much your business is truly worth </li><li class="mb-2" data-v-dbb5429e><i class="fas fa-arrow-right text-info me-2" data-v-dbb5429e></i> Track your return on investment </li><li class="mb-2" data-v-dbb5429e><i class="fas fa-arrow-right text-info me-2" data-v-dbb5429e></i> Plan for future investments or withdrawals </li><li class="mb-2" data-v-dbb5429e><i class="fas fa-arrow-right text-info me-2" data-v-dbb5429e></i> Prepare accurate financial statements </li></ul></div></div><div class="row mt-4" data-v-dbb5429e><div class="col-12" data-v-dbb5429e><div class="alert alert-warning" data-v-dbb5429e><strong data-v-dbb5429e><i class="fas fa-star me-2" data-v-dbb5429e></i>Pro Tips for Solo Entrepreneurs: </strong><div class="row mt-2" data-v-dbb5429e><div class="col-md-6" data-v-dbb5429e><ul class="mb-0" data-v-dbb5429e><li data-v-dbb5429e><strong data-v-dbb5429e>Keep it Simple:</strong> Track major investments and withdrawals</li><li data-v-dbb5429e><strong data-v-dbb5429e>Regular Reviews:</strong> Check equity monthly to see business growth</li></ul></div><div class="col-md-6" data-v-dbb5429e><ul class="mb-0" data-v-dbb5429e><li data-v-dbb5429e><strong data-v-dbb5429e>Separate Funds:</strong> Don&#39;t mix personal and business money</li><li data-v-dbb5429e><strong data-v-dbb5429e>Plan Withdrawals:</strong> Avoid taking out too much too quickly</li></ul></div></div></div></div></div></div></div>',1)),t("div",G,[(r(!0),d(D,null,U(a.equity,s=>(r(),d("div",{key:s.id,class:"col-lg-4 col-md-6 mb-4"},[t("div",K,[t("div",J,[t("div",Q,[t("i",{class:F(s.icon||"fas fa-chart-line")},null,2)]),t("div",X,[t("button",{onClick:w=>a.editEquity(s),class:"btn btn-sm btn-outline-primary"},e[15]||(e[15]=[t("i",{class:"fas fa-edit"},null,-1)]),8,Z),t("button",{onClick:w=>a.deleteEquity(s.id),class:"btn btn-sm btn-outline-danger"},e[16]||(e[16]=[t("i",{class:"fas fa-trash"},null,-1)]),8,I)])]),t("div",$,[t("h5",null,b(s.name),1),t("p",tt,b(s.description||"No description"),1),t("div",et,[e[17]||(e[17]=t("small",{class:"text-muted"},"Default Value",-1)),t("div",at,[m(b(s.currency==="USD"?"$":"৳")+b(a.formatNumber(s.default_amount))+" ",1),s.currency==="USD"?(r(),d("small",st," (৳"+b(a.formatNumber(s.default_amount*120))+" BDT) ",1)):E("",!0)])])])])]))),128)),a.equity.length===0?(r(),d("div",ot,e[18]||(e[18]=[t("div",{class:"text-center py-5"},[t("i",{class:"fas fa-chart-line text-muted mb-3",style:{"font-size":"4rem"}}),t("h5",{class:"text-muted"},"No Equity Items Found"),t("p",{class:"text-muted"},'Click "Add Equity Item" to create your first equity category.')],-1)]))):E("",!0)]),a.showAddModal||a.editingEquity?(r(),d("div",{key:0,class:"modal-overlay",onClick:e[11]||(e[11]=(...s)=>a.closeModal&&a.closeModal(...s))},[t("div",{class:"modal-content",onClick:e[10]||(e[10]=B(()=>{},["stop"]))},[t("div",it,[t("h5",null,b(a.editingEquity?"Edit":"Add")+" Equity Item",1),t("button",{onClick:e[1]||(e[1]=(...s)=>a.closeModal&&a.closeModal(...s)),class:"btn-close"},"×")]),t("div",lt,[t("form",{onSubmit:e[9]||(e[9]=B((...s)=>a.saveEquity&&a.saveEquity(...s),["prevent"]))},[t("div",nt,[t("div",dt,[e[19]||(e[19]=t("label",{class:"form-label"},"Equity Name *",-1)),v(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>a.form.name=s),type:"text",class:"form-control",required:"",placeholder:"e.g., Owner Investment, Retained Earnings"},null,512),[[p,a.form.name]])]),t("div",rt,[e[23]||(e[23]=t("label",{class:"form-label"},"Default Amount",-1)),t("div",bt,[v(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>a.form.currency=s),class:"input-group-text",style:{"border-right":"0",background:"#e9ecef"}},e[20]||(e[20]=[t("option",{value:"BDT"},"৳",-1),t("option",{value:"USD"},"$",-1)]),512),[[_,a.form.currency]]),v(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>a.form.default_amount=s),type:"number",class:"form-control",step:"0.01",placeholder:"0.00"},null,512),[[p,a.form.default_amount,void 0,{number:!0}]])]),a.form.currency==="USD"?(r(),d("div",ut,[t("small",null,[e[21]||(e[21]=t("i",{class:"fas fa-exchange-alt me-1"},null,-1)),m(" Converted: ৳"+b(a.formatNumber(Math.abs(a.form.default_amount)*120))+" BDT (1 USD = 120 BDT) ",1)])])):(r(),d("div",ct,e[22]||(e[22]=[t("small",null,"Can be negative for distributions/losses",-1)])))])]),t("div",mt,[e[25]||(e[25]=t("label",{class:"form-label"},"Icon",-1)),v(t("select",{"onUpdate:modelValue":e[5]||(e[5]=s=>a.form.icon=s),class:"form-select"},e[24]||(e[24]=[S('<option value="fas fa-chart-line" data-v-dbb5429e>Chart Line (Default)</option><option value="fas fa-user-tie" data-v-dbb5429e>Owner Investment</option><option value="fas fa-piggy-bank" data-v-dbb5429e>Retained Earnings</option><option value="fas fa-trophy" data-v-dbb5429e>Profits</option><option value="fas fa-handshake" data-v-dbb5429e>Partnership Capital</option><option value="fas fa-coins" data-v-dbb5429e>Paid-in Capital</option><option value="fas fa-chart-pie" data-v-dbb5429e>Equity Distribution</option><option value="fas fa-balance-scale" data-v-dbb5429e>Common Stock</option><option value="fas fa-star" data-v-dbb5429e>Preferred Stock</option><option value="fas fa-minus-circle" data-v-dbb5429e>Treasury Stock</option>',10)]),512),[[_,a.form.icon]])]),t("div",vt,[e[26]||(e[26]=t("label",{class:"form-label"},"Description",-1)),v(t("textarea",{"onUpdate:modelValue":e[6]||(e[6]=s=>a.form.description=s),class:"form-control",rows:"3",placeholder:"Describe this equity category"},null,512),[[p,a.form.description]])]),t("div",ft,[e[27]||(e[27]=t("label",{class:"form-label"},"Tooltip (Help Text)",-1)),v(t("input",{"onUpdate:modelValue":e[7]||(e[7]=s=>a.form.tooltip=s),type:"text",class:"form-control",placeholder:"Help text shown to users"},null,512),[[p,a.form.tooltip]])]),e[29]||(e[29]=t("div",{class:"alert alert-info"},[t("i",{class:"fas fa-info-circle me-2"}),t("strong",null,"Note:"),m(" Equity can be positive (owner investment, profits) or negative (distributions, losses). ")],-1)),t("div",yt,[t("button",{type:"button",onClick:e[8]||(e[8]=(...s)=>a.closeModal&&a.closeModal(...s)),class:"btn btn-secondary"}," Cancel "),t("button",{type:"submit",class:"btn btn-info",disabled:a.saving},[e[28]||(e[28]=t("i",{class:"fas fa-save"},null,-1)),m(" "+b(a.saving?"Saving...":"Save"),1)],8,pt)])],32)])])])):E("",!0)])])])],64)}const Ct=H(R,[["render",gt],["__scopeId","data-v-dbb5429e"]]);export{Ct as default};
