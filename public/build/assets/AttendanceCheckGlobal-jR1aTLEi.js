import{L as S,H as A,l as o,u as H,m as F,r as l,o as f,c as v,a as i,b as e,w as O,e as d,t as n,g as N,h as j,F as V,x as M,p as W,n as T}from"./app-i-P7TbwR.js";import{A as G}from"./AdminMaster-niXjrFAq.js";import{B as L}from"./Select-QK1i74w-.js";import{B as I}from"./Button-EdfEcMu6.js";import{s as P}from"./vue3-datepicker.esm-_z1PbtWX.js";import{V as U}from"./ValidationErrors-ge_0yJkI.js";import{S as B}from"./sweetalert2.all-icJphP2-.js";import{_ as z}from"./_plugin-vue_export-helper-x3n3nnut.js";const X={name:"AttendanceCheck",layout:G,components:{BsSelect:L,BsButton:I,Datepicker:P,ValidationErrors:U,Link:S,Head:A,Select:L},setup(){const y=o(0),s=o(0),b=o(0),t=o(0),g=o(0),D=o(0),_=o(!1),c=o([]),C=H().props.value.allEmployees,p=F({employee_id:null,startDate:new Date,endDate:new Date});function k(){M.post(route("admin.employee.attendance.post"),{...p}).then(a=>{let u=a.data.logs;if(Object.keys(u).length>0){let h=u,r=[];Object.keys(h).forEach(function(E){let x=h[E];Object.keys(x).forEach(m=>{m!=="dateTime"&&r.push({key:m,customData:{title:`${m.replaceAll("_"," ")}: ${x[m]}`,class:m},dates:new Date(x.dateTime)})})}),c.value=r,_.value=!0,y.value=a.data.holidayCount,s.value=a.data.leaveCount,b.value=a.data.OfficeDays,t.value=a.data.sickLeaveCount,g.value=a.data.paidLeaveCount,D.value=a.data.workFormHome}else B.fire("Error!","NO Data found for selected Dates","warning")}).catch(a=>{B.fire("Error!",a.message,"warning")})}new Date().getMonth(),new Date().getFullYear();function w(){return{masks:{weekdays:"WWW"},attributes:c.value}}return{employeeData:p,getAttendanceDetails:k,employeeList:C,CalendarData:w,attendanceShow:_,CalendarAttributes:c,holidayCount:y,leaveCount:s,OfficeDays:b,sickLeaveCount:t,paidLeaveCount:g,workFormHome:D}}},Y={class:"row"},q={class:"col-lg-12"},J={class:"dashboard-settings margin-top-40"},K=e("div",{class:"header-wrap d-flex justify-content-between"},[e("h2",{class:"dashboards-title"},"Attendance Check")],-1),Q={class:"edit-profile"},R={class:"profile-info-dashboard"},Z={class:"dashboard-profile-flex"},$={class:"dashboard-address-details"},ee={class:"single-dashboard-input"},te={class:"single-info-input margin-top-30"},ae=e("label",{class:"info-title"}," Select Month ",-1),se=e("span",null,"any date you select in this calendar, system will get data for the selected date month",-1),oe={class:"btn-wrapper margin-top-35"},ne={key:0,class:"cleardar-wrapper"},le={class:"head-rapw margin-top-40"},ie=e("h4",null,"Color Explanation",-1),de={class:"color-explanation"},ce={class:"holiday"},re={class:"badge"},me={class:"leave"},_e={class:"badge"},pe={class:"C/In"},ue={class:"badge"},he={class:"sick-leave"},fe={class:"badge"},ve={class:"paid-leave"},ye={class:"badge"},be={class:"work-from-home"},ge={class:"badge"},De={class:"date-box-wrapper"},Ce={class:"day-label"},ke={class:"custom-data-wrapper"};function we(y,s,b,t,g,D){const _=l("Head"),c=l("ValidationErrors"),C=l("Datepicker"),p=l("Select"),k=l("BsButton"),w=l("Calendar");return f(),v(V,null,[i(_,{title:"Employee Attendance Check - Xgenious"}),e("div",Y,[e("div",q,[e("div",J,[K,e("div",Q,[e("div",R,[i(c),e("div",Z,[e("div",$,[e("form",{onSubmit:s[2]||(s[2]=O(()=>{},["prevent"]))},[e("div",ee,[e("div",te,[ae,i(C,{modelValue:t.employeeData.startDate,"onUpdate:modelValue":s[0]||(s[0]=a=>t.employeeData.startDate=a)},null,8,["modelValue"]),se])]),i(p,{title:"Employee",modelValue:t.employeeData.employee_id,"onUpdate:modelValue":s[1]||(s[1]=a=>t.employeeData.employee_id=a),options:t.employeeList},null,8,["modelValue","options"]),e("div",oe,[i(k,{"button-text":"Get Details",onClick:t.getAttendanceDetails,classes:"cmn-btn btn-bg-1"},null,8,["onClick"])])],32)])])])]),t.attendanceShow?(f(),v("div",ne,[e("div",le,[ie,e("ul",de,[e("li",ce,[d("Holiday"),e("span",re,n(t.holidayCount),1)]),e("li",me,[d("leave"),e("span",_e,n(t.leaveCount),1)]),e("li",pe,[d("OfficeDays"),e("span",ue,n(t.OfficeDays),1)]),e("li",he,[d("Sick Leave"),e("span",fe,n(t.sickLeaveCount),1)]),e("li",ve,[d("Paid Leave"),e("span",ye,n(t.paidLeaveCount),1)]),e("li",be,[d("Work From Home"),e("span",ge,n(t.workFormHome),1)])])]),i(w,{class:"custom-calendar-outer-wrap",masks:t.CalendarData().masks,attributes:t.CalendarData().attributes,"disable-page-swipe":"","is-expanded":""},{"day-content":N(({day:a,attributes:u})=>[e("div",De,[e("span",Ce,n(a.day),1),e("div",ke,[(f(!0),v(V,null,W(u,({key:h,customData:r})=>(f(),v("p",{key:h,class:T(["data-item",r.class])},n(r.title),3))),128))])])]),_:1},8,["masks","attributes"])])):j("",!0)])])])],64)}const Fe=z(X,[["render",we]]);export{Fe as default};
