import{A as P}from"./AdminMaster-p_-3Ut0F.js";import{H as A,L as B,u as d,l as n,m as O,c as i,a as C,b as s,g as T,e,t as a,F as S,p as N,r as b,o as r,h as m}from"./app-XmhLysL3.js";import{B as I}from"./Button-9FjwbGXe.js";import{I as M}from"./Input-mT4jOMS5.js";import{S as H}from"./Select-BVmdasBU.js";import{T as V}from"./Textarea-Eown17tJ.js";import{s as W}from"./vue3-datepicker.esm-e65TQBEI.js";import"./sweetalert2.all-ysYP70Aw.js";import{h as J}from"./html2pdf-q1YGHiFt.js";import{_ as R}from"./_plugin-vue_export-helper-x3n3nnut.js";const j={layout:P,components:{Button:I,Input:M,Select:H,Textarea:V,Head:A,Datepicker:W,Link:B},setup(){const l=d().props.value.salarySlipData,_=n({name:l.employee.name,salary:l.salary,category:l.designation}),D=n(d().props.value.attenadnceCount),t=n(d().props.value.holidayCount),x=n(d().props.value.leaveCount),F=n(d().props.value.inCount),y=n(d().props.value.outCount),g=n(d().props.value.sickLeaveCount),v=n(d().props.value.paidLeaveCount),o=n(0),f=n(0),k=n(0),u=O({salarySlipID:l.id,employee_id:l.employee.id,month:new Date(l.month),extraEarningFields:JSON.parse(l.extraEarningFields),extraDeductionFields:JSON.parse(l.extraDeductionFields)});function w(){let c=_.value.name+"-"+E(u.month)+"-salary-slip.pdf";J(document.getElementById("element-to-convert"),{margin:1,filename:c})}function E(c){let p=["January","February","March","April","May","June","July","August","September","October","November","December"];return c!=null?p[new Date(c).getMonth()]:""}function L(){let c=0;u.extraEarningFields.map(h=>{h.amount>0&&(c+=parseFloat(h.amount))});let p=0;u.extraDeductionFields.map(h=>{h.amount>0&&(p+=parseFloat(h.amount))}),o.value=c>0?parseFloat(c):0,f.value=p>0?parseFloat(p):0,_.salary!=="undefined"&&(o.value+=parseFloat(_.value.salary)),k.value=parseFloat(o.value)-parseFloat(f.value)}return{salarySlipData:u,exportToPDF:w,selectedEmployee:_,holidayCount:t,leaveCount:x,inCount:F,outCount:y,sickLeaveCount:g,paidLeaveCount:v,attenadnceCount:D,getSelectedMonthName:E,grossEarning:o,grossDeduction:f,payableAmount:k,calculateSalary:L}},mounted(){this.calculateSalary()}},G={class:"row"},U={class:"col-lg-12"},X={class:"header-wrap d-flex justify-content-between"},Y=s("h2",{class:"dashboards-title margin-bottom-40"},"View Salary Slip",-1),q={class:"btn-wrp"},z={class:"row justify-content-center"},K={class:"col-lg-10"},Q={class:"head-raw margin-top-40 margin-left-60"},Z=s("h4",null,"Color Explanation",-1),$={class:"color-explanation"},ss={class:"bg-success"},ts={class:"badge"},as={class:"holiday"},es={class:"badge"},os={class:"leave"},ls={class:"badge"},ns={class:"C/In"},is={class:"badge"},rs={class:"C/Out"},cs={class:"badge"},ds={class:"sick-leave"},_s={class:"badge"},ps={class:"paid-leave"},hs={class:"badge"},us={id:"element-to-convert"},ms={class:"salarySlipPdfOuterWrapper"},ys={class:"headerPart"},gs={class:"subjectWarp"},vs={class:"period"},fs={class:"employeeInfoWrap"},Cs=s("strong",null,"Name: ",-1),Ss=s("strong",null,"Department:",-1),bs={class:"tableWithCalculation table-responsive"},Ds={class:"salary-sheet"},xs={class:"salary-sheet-flex"},Fs={class:"salary-sheet-item"},ks={class:"salary-sheet-contents"},Es={class:"salary-sheet-contents-list"},Ns=s("li",{class:"salary-sheet-list salary-sheet-head"},[s("span",{class:"list-title left"},"EARNINGS"),e(),s("span",{class:"list-title list-para right"}," PER MONTH ")],-1),ws={class:"salary-sheet-list"},Ls=s("span",{class:"list-para left"},"Basic Salary",-1),Ps={class:"list-para right"},As={key:0,class:"list-para left"},Bs={key:1,class:"list-para right"},Os={class:"salary-sheet-item"},Ts={class:"salary-sheet-contents"},Is={class:"salary-sheet-contents-list"},Ms=s("li",{class:"salary-sheet-list salary-sheet-head"},[s("span",{class:"list-title left"},"DEDUCTIONS"),e(),s("span",{class:"list-title list-para right"}," PER MONTH ")],-1),Hs={key:0,class:"list-para left"},Vs={key:1,class:"list-para right"},Ws={class:"salary-sheet-gross"},Js={class:"salary-sheet-gross-item"},Rs={class:"gross-list"},js=s("span",{class:"gross-para left"},"Gross Earnings(A)",-1),Gs={class:"gross-para right"},Us={class:"salary-sheet-gross-item"},Xs={class:"gross-list"},Ys=s("span",{class:"gross-para left"},"Gross Deductions(B)",-1),qs={class:"gross-para right"},zs={class:"salary-sheet-gross"},Ks={class:"salary-sheet-gross-item"},Qs={class:"gross-list"},Zs=s("span",{class:"gross-para left"},"Net Salary Payable(A-B)",-1),$s={class:"gross-para right"},st={class:"salary-sheet-gross"},tt={class:"salary-sheet-gross-item"},at={class:"gross-list"},et=s("span",{class:"gross-para left"},"Net Salary Payable(in words)",-1),ot={class:"gross-para right"},lt={class:"footerPartWrapper"},nt=s("div",{class:"signature"},[s("span",{class:"signature"},"Signature"),s("h2",null,"Sharifur Rahman"),s("span",{class:"designation"},"Ceo - Xgenious")],-1),it={class:"signature"},rt=s("span",{class:"signature"},"Signature",-1),ct={class:"btn-wrapper margin-left-60"};function dt(l,_,D,t,x,F){const y=b("Head"),g=b("Link"),v=b("Button");return r(),i(S,null,[C(y,{title:"View Salary Slip"}),s("div",G,[s("div",U,[s("div",X,[Y,s("div",q,[C(g,{class:"btn btn-info m-1",href:l.route("admin.employee.salary.slip")},{default:T(()=>[e("All Salary Slip")]),_:1},8,["href"])])])]),s("div",z,[s("div",K,[s("div",Q,[Z,s("ul",$,[s("li",ss,[e("Attendance "),s("span",ts,a(t.attenadnceCount),1)]),s("li",as,[e("Holiday "),s("span",es,a(t.holidayCount),1)]),s("li",os,[e("leave "),s("span",ls,a(t.leaveCount),1)]),s("li",ns,[e("C/In "),s("span",is,a(t.inCount),1)]),s("li",rs,[e("C/Out "),s("span",cs,a(t.outCount),1)]),s("li",ds,[e("Sick Leave "),s("span",_s,a(t.sickLeaveCount),1)]),s("li",ps,[e("Paid Leave "),s("span",hs,a(t.paidLeaveCount),1)])])]),s("div",us,[s("div",ms,[s("div",ys,[s("div",gs,[s("p",null,[e("Payslip for the month of "),s("span",vs,a(t.getSelectedMonthName(t.salarySlipData.month)),1),e(" "+a(new Date().getFullYear()),1)])])]),s("div",fs,[s("h3",null,[Cs,e(" "+a(t.selectedEmployee.name),1)]),s("h4",null,[Ss,e(" "+a(t.selectedEmployee.category),1)])]),s("div",bs,[s("div",Ds,[s("div",xs,[s("div",Fs,[s("div",ks,[s("ul",Es,[Ns,s("li",ws,[Ls,e(),s("span",Ps,a(parseFloat(t.selectedEmployee.salary).toFixed(2)),1)]),(r(!0),i(S,null,N(t.salarySlipData.extraEarningFields,o=>(r(),i("li",{class:"salary-sheet-list",key:o.index},[o.description!==null?(r(),i("span",As,a(o.description),1)):m("",!0),o.description!==null?(r(),i("span",Bs,a(o.amount>0?parseFloat(o.amount).toFixed(2):0),1)):m("",!0)]))),128))])])]),s("div",Os,[s("div",Ts,[s("ul",Is,[Ms,(r(!0),i(S,null,N(t.salarySlipData.extraDeductionFields,o=>(r(),i("li",{class:"salary-sheet-list",key:o.index},[o.description!==null?(r(),i("span",Hs,a(o.description),1)):m("",!0),o.description!==null?(r(),i("span",Vs,a(o.amount>0?parseFloat(o.amount).toFixed(2):0),1)):m("",!0)]))),128))])])])]),s("div",Ws,[s("div",Js,[s("div",Rs,[js,e(),s("span",Gs,a(parseFloat(t.grossEarning).toFixed(2)),1)])]),s("div",Us,[s("div",Xs,[Ys,e(),s("span",qs,a(parseFloat(t.grossDeduction).toFixed(2)),1)])])]),s("div",zs,[s("div",Ks,[s("div",Qs,[Zs,e(),s("span",$s,a(parseFloat(t.payableAmount).toFixed(2)),1)])])]),s("div",st,[s("div",tt,[s("div",at,[et,e(),s("span",ot,a(l.numberToWord(t.payableAmount))+" Tk Only",1)])])])])]),s("div",lt,[nt,s("div",it,[rt,s("h2",null,a(t.selectedEmployee.name),1)])])])]),s("div",ct,[C(v,{type:"button",onClick:t.exportToPDF,"button-text":"Download PDF"},null,8,["onClick"])])])])])],64)}const St=R(j,[["render",dt]]);export{St as default};
