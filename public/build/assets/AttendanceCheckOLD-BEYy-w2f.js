import{H as B,L as x,r as m,c as D,o as b,a as l,b as t,h as A,t as o,g as y,f as n,w as H,F as L,p as F,n as N,l as i,u as O,m as W,x as M}from"./app-msVezWLg.js";import{A as U}from"./AdminMaster-DauEAptr.js";import{S as j}from"./Select-1zH7jmkW.js";import{B as I}from"./Button-makbHBJF.js";import{s as P}from"./vue3-datepicker.esm-3jNex1Qu.js";import{V as T}from"./ValidationErrors-DR8qI2Pb.js";import{S as V}from"./sweetalert2.esm.all-acGi8jXx.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";const G={name:"AttendanceCheck",layout:U,components:{BsSelect:j,BsButton:I,Datepicker:P,ValidationErrors:T,Link:x,Head:B},setup(){const r=i(0),e=i(0),C=i(0),a=i(0),g=i(0),k=i(0),f=i(0),c=i(!1),p=i([]),u=O().props.value.allEmployees,v=W({employee_id:u.id,startDate:new Date,endDate:new Date});function w(){M.post(route("admin.employee.attendance.post"),{...v}).then(s=>{if(Object.keys(s.data.logs).length>1){let E=s.data.logs,_=[];E.forEach((h,S)=>{_.push({key:S,customData:{title:`${h.type}: ${new Date(h.date_time).toLocaleTimeString("en-US",{timeZone:"Asia/Dhaka"})} `,class:h.type},dates:new Date(h.date_time)})}),p.value=_,c.value=!0,r.value=s.data.holidayCount,e.value=s.data.leaveCount,C.value=s.data.inCount,a.value=s.data.outCount,g.value=s.data.sickLeaveCount,k.value=s.data.paidLeaveCount,f.value=s.data.workFormHome}else V.fire("Error!","NO Data found for selected Dates","warning")}).catch(s=>{V.fire("Error!",s.message,"warning")})}new Date().getMonth(),new Date().getFullYear();function d(){return{masks:{weekdays:"WWW"},attributes:p.value}}return{employeeData:v,getAttendanceDetails:w,employeeDetails:u,CalendarData:d,attendanceShow:c,CalendarAttributes:p,holidayCount:r,leaveCount:e,inCount:C,outCount:a,sickLeaveCount:g,paidLeaveCount:k,workFormHome:f}}},X={class:"row"},Y={class:"col-lg-12"},Z={class:"dashboard-settings margin-top-40"},q={class:"header-wrap d-flex justify-content-between"},J={class:"dashboards-title"},K={class:"btn-wrp"},Q={class:"edit-profile"},R={class:"profile-info-dashboard"},$={class:"dashboard-profile-flex"},tt={class:"dashboard-address-details"},et={class:"single-dashboard-input"},at={class:"single-info-input margin-top-30"},st={class:"single-dashboard-input"},ot={class:"single-info-input margin-top-30"},nt={class:"btn-wrapper margin-top-35"},lt={key:0,class:"cleardar-wrapper"},it={class:"head-rapw margin-top-40"},dt={class:"color-explanation"},rt={class:"holiday"},ct={class:"badge"},mt={class:"leave"},pt={class:"badge"},ut={class:"C/In"},_t={class:"badge"},ft={class:"C/Out"},vt={class:"badge"},ht={class:"sick-leave"},Dt={class:"badge"},bt={class:"paid-leave"},yt={class:"badge"},Ct={class:"paid-leave"},gt={class:"badge"},kt={class:"date-box-wrapper"},wt={class:"day-label"},Et={class:"custom-data-wrapper"};function Lt(r,e,C,a,g,k){const f=m("Head"),c=m("Link"),p=m("ValidationErrors"),u=m("Datepicker"),v=m("BsButton"),w=m("Calendar");return b(),D(L,null,[l(f,{title:"Employee Attendance Check - Xgenious"}),t("div",X,[t("div",Y,[t("div",Z,[t("div",q,[t("h2",J,o(a.employeeDetails.name)+" Attendance Check",1),t("div",K,[l(c,{class:"btn btn-info m-1",href:r.route("admin.employee.all")},{default:y(()=>e[3]||(e[3]=[n("All Employees")])),_:1,__:[3]},8,["href"]),l(c,{class:"btn btn-secondary m-1",href:r.route("admin.employee.edit",a.employeeDetails.id)},{default:y(()=>e[4]||(e[4]=[n("Edit Employee Details")])),_:1,__:[4]},8,["href"]),l(c,{class:"btn btn-primary m-1",href:r.route("admin.employee.view",a.employeeDetails.id)},{default:y(()=>e[5]||(e[5]=[n("View Employee Details")])),_:1,__:[5]},8,["href"])])]),t("div",Q,[t("div",R,[l(p),t("div",$,[t("div",tt,[t("form",{onSubmit:e[2]||(e[2]=H(()=>{},["prevent"]))},[t("div",et,[t("div",at,[e[6]||(e[6]=t("label",{class:"info-title"}," Start Date ",-1)),l(u,{modelValue:a.employeeData.startDate,"onUpdate:modelValue":e[0]||(e[0]=d=>a.employeeData.startDate=d)},null,8,["modelValue"])])]),t("div",st,[t("div",ot,[e[7]||(e[7]=t("label",{class:"info-title"}," End Date",-1)),l(u,{modelValue:a.employeeData.endDate,"onUpdate:modelValue":e[1]||(e[1]=d=>a.employeeData.endDate=d)},null,8,["modelValue"])])]),t("div",nt,[l(v,{"button-text":"Get Details",onClick:a.getAttendanceDetails,classes:"cmn-btn btn-bg-1"},null,8,["onClick"])])],32)])])])]),a.attendanceShow?(b(),D("div",lt,[t("div",it,[e[15]||(e[15]=t("h4",null,"Color Explanation",-1)),t("ul",dt,[t("li",rt,[e[8]||(e[8]=n("Holiday")),t("span",ct,o(a.holidayCount),1)]),t("li",mt,[e[9]||(e[9]=n("leave")),t("span",pt,o(a.leaveCount),1)]),t("li",ut,[e[10]||(e[10]=n("C/In")),t("span",_t,o(a.inCount),1)]),t("li",ft,[e[11]||(e[11]=n("C/Out")),t("span",vt,o(a.outCount),1)]),t("li",ht,[e[12]||(e[12]=n("Sick Leave")),t("span",Dt,o(a.sickLeaveCount),1)]),t("li",bt,[e[13]||(e[13]=n("Paid Leave")),t("span",yt,o(a.paidLeaveCount),1)]),t("li",Ct,[e[14]||(e[14]=n("Work From Home")),t("span",gt,o(a.workFormHome),1)])])]),l(w,{class:"custom-calendar-outer-wrap",masks:a.CalendarData().masks,attributes:a.CalendarData().attributes,"disable-page-swipe":"","is-expanded":""},{"day-content":y(({day:d,attributes:s})=>[t("div",kt,[t("span",wt,o(d.day),1),t("div",Et,[(b(!0),D(L,null,F(s,({key:E,customData:_})=>(b(),D("p",{key:E,class:N(["data-item",_.class])},o(_.title),3))),128))])])]),_:1},8,["masks","attributes"])])):A("",!0)])])])],64)}const Ot=z(G,[["render",Lt]]);export{Ot as default};
