import{L as V,H,l as s,u as A,m as F,c as f,a as _,b as e,w as O,e as l,t as o,g as M,h as N,F as B,x as j,r as m,o as v,p as W,n as T}from"./app-RrRrrMtY.js";import{S as L}from"./Select-z8nEou51.js";import{B as U}from"./Button-0oI3-S2_.js";import{s as I}from"./vue3-datepicker.esm-lWCF35Rg.js";import{V as P}from"./ValidationErrors-qkK8fPvR.js";import{S as E}from"./sweetalert2.all-dJWsu-1m.js";import{U as z}from"./UserMaster-DYndur19.js";import{_ as G}from"./_plugin-vue_export-helper-x3n3nnut.js";const X={name:"AttendanceCheck",layout:z,components:{BsSelect:L,BsButton:U,Datepicker:I,ValidationErrors:P,Link:V,Head:H,Select:L},setup(){const b=s(0),n=s(0),g=s(0),a=s(0),k=s(0),C=s(0),h=s(!1),i=s([]),D=A().props.value.allEmployees,u=F({employee_id:null,startDate:new Date,endDate:new Date});function w(){j.post(route("user.attendance.check"),{...u}).then(t=>{let p=t.data.logs;if(Object.keys(p).length>0){let d=p,x=[];Object.keys(d).forEach(function(S){let y=d[S];Object.keys(y).forEach(r=>{r!=="dateTime"&&x.push({key:`${r}-${Math.random()}`,customData:{title:`${r.replaceAll("_"," ")}: ${y[r]}`,class:r},dates:new Date(y.dateTime)})})}),i.value=x,h.value=!0,b.value=t.data.holidayCount,n.value=t.data.leaveCount,g.value=t.data.OfficeDays,a.value=t.data.sickLeaveCount,k.value=t.data.paidLeaveCount,C.value=t.data.workFormHome}else E.fire("Error!","No Data found for selected Dates","warning")}).catch(t=>{E.fire("Error!",t.message,"warning")})}new Date().getMonth(),new Date().getFullYear();function c(){return{masks:{weekdays:"WWW"},attributes:i.value}}return{employeeData:u,getAttendanceDetails:w,employeeList:D,CalendarData:c,attendanceShow:h,CalendarAttributes:i,holidayCount:b,leaveCount:n,OfficeDays:g,sickLeaveCount:a,paidLeaveCount:k,workFormHome:C}}},Y={class:"row"},q={class:"col-lg-12"},J={class:"dashboard-settings margin-top-40"},K=e("div",{class:"header-wrap d-flex justify-content-between"},[e("h2",{class:"dashboards-title"},"Attendance Check")],-1),Q={class:"edit-profile"},R={class:"profile-info-dashboard"},Z={class:"dashboard-profile-flex"},$={class:"dashboard-address-details"},ee={class:"single-dashboard-input"},ae={class:"single-info-input margin-top-30"},te=e("label",{class:"info-title"}," Select Month ",-1),se=e("span",null,"any date you select in this calendar, system will get data for the selected date month",-1),oe={class:"btn-wrapper margin-top-35"},ne={key:0,class:"cleardar-wrapper"},le={class:"head-rapw margin-top-40"},ie=e("h4",null,"Color Explanation",-1),ce={class:"color-explanation"},de={class:"holiday"},re={class:"badge"},_e={class:"leave"},me={class:"badge"},he={class:"C/In"},ue={class:"badge"},pe={class:"sick-leave"},fe={class:"badge"},ve={class:"paid-leave"},be={class:"badge"},ge={class:"work-from-home"},ke={class:"badge"},Ce={class:"date-box-wrapper"},De={class:"day-label"},we={class:"custom-data-wrapper"};function ye(b,n,g,a,k,C){const h=m("Head"),i=m("ValidationErrors"),D=m("Datepicker"),u=m("BsButton"),w=m("Calendar");return v(),f(B,null,[_(h,{title:"Employee Attendance Check - Xgenious"}),e("div",Y,[e("div",q,[e("div",J,[K,e("div",Q,[e("div",R,[_(i),e("div",Z,[e("div",$,[e("form",{onSubmit:n[1]||(n[1]=O(()=>{},["prevent"]))},[e("div",ee,[e("div",ae,[te,_(D,{modelValue:a.employeeData.startDate,"onUpdate:modelValue":n[0]||(n[0]=c=>a.employeeData.startDate=c)},null,8,["modelValue"]),se])]),e("div",oe,[_(u,{"button-text":"Get Details",onClick:a.getAttendanceDetails,classes:"cmn-btn btn-bg-1"},null,8,["onClick"])])],32)])])])]),a.attendanceShow?(v(),f("div",ne,[e("div",le,[ie,e("ul",ce,[e("li",de,[l("Holiday"),e("span",re,o(a.holidayCount),1)]),e("li",_e,[l("leave"),e("span",me,o(a.leaveCount),1)]),e("li",he,[l("OfficeDays"),e("span",ue,o(a.OfficeDays),1)]),e("li",pe,[l("Sick Leave"),e("span",fe,o(a.sickLeaveCount),1)]),e("li",ve,[l("Paid Leave"),e("span",be,o(a.paidLeaveCount),1)]),e("li",ge,[l("Work From Home"),e("span",ke,o(a.workFormHome),1)])])]),_(w,{class:"custom-calendar-outer-wrap",masks:a.CalendarData().masks,attributes:a.CalendarData().attributes,"disable-page-swipe":"","is-expanded":""},{"day-content":M(({day:c,attributes:t})=>[e("div",Ce,[e("span",De,o(c.day),1),e("div",we,[(v(!0),f(B,null,W(t,({key:p,customData:d})=>(v(),f("p",{key:p,class:T(["data-item",d.class])},o(d.title),3))),128))])])]),_:1},8,["masks","attributes"])])):N("",!0)])])])],64)}const Fe=G(X,[["render",ye]]);export{Fe as default};
