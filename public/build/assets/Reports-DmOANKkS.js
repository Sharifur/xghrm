import{A as le}from"./AdminMaster-CUfLw11a.js";import{H as ie,r as re,c as u,o as f,a as de,b as e,d as I,h as P,f as m,e as c,A as k,t as r,F as B,p as U,n as R,$ as ce,w as F,i as b,l as w,B as W,C as me,y as h,D as ve,x as q}from"./app-B-vvuMLU.js";import{S as v}from"./sweetalert2.esm.all-Y6IUEg8t.js";import{_ as ue}from"./_plugin-vue_export-helper-DlAUqK2U.js";const fe={layout:le,name:"Reports",components:{Head:ie},props:{clients:Array,revenues:Array},setup(S){console.log("Reports component setup started",S);const t=w("current"),T=w(!1),s=w(!1),_=w(!1),C=w([...S.clients||[]]),i=w([...S.revenues||[]]),n=W({name:"",email:"",phone:"",payment_terms:"net_30",notes:""}),d=W({client_id:"",service_type:"web_development",amount:0,currency:"BDT",status:"paid",expected_date:"",invoice_date:"",description:"",notes:""}),M=120,A=w("BDT");me(()=>d.currency,a=>{const o=A.value;o&&d.amount>0&&o!==a&&(o==="BDT"&&a==="USD"?d.amount=Number((d.amount/M).toFixed(2)):o==="USD"&&a==="BDT"&&(d.amount=Number((d.amount*M).toFixed(2)))),A.value=a});const L=h(()=>i.value.filter(a=>a.status==="paid"&&new Date(a.created_at).getMonth()===new Date().getMonth()).reduce((a,o)=>a+(parseFloat(o.amount)||0),0)),G=h(()=>i.value.filter(a=>a.status==="paid").reduce((a,o)=>a+(parseFloat(o.amount)||0),0)),D=h(()=>i.value.filter(a=>a.status==="pending"||a.status==="overdue").reduce((a,o)=>a+(parseFloat(o.amount)||0),0)),Y=h(()=>C.value.filter(a=>a.is_active!==!1).sort((a,o)=>a.name.localeCompare(o.name))),z=h(()=>i.value.filter(o=>o.status==="paid"&&new Date(o.created_at).getMonth()===new Date().getMonth()-1).reduce((o,l)=>o+(parseFloat(l.amount)||0),0)*1.1+D.value*.8),H=h(()=>{const a={};return i.value.filter(o=>o.status==="paid").forEach(o=>{a[o.service_type]||(a[o.service_type]={amount:0,count:0}),a[o.service_type].amount+=parseFloat(o.amount)||0,a[o.service_type].count+=1}),Object.entries(a).map(([o,l])=>({type:N(o),amount:l.amount,count:l.count,icon:V(o),color:K(o)})).sort((o,l)=>l.amount-o.amount)}),g=h(()=>i.value.filter(a=>a.status==="pending"||a.status==="overdue").map(a=>{var o;return{...a,client_name:((o=C.value.find(l=>l.id===a.client_id))==null?void 0:o.name)||"Unknown Client",service_icon:V(a.service_type),expected_date:E(a.expected_date)}}).sort((a,o)=>new Date(a.expected_date)-new Date(o.expected_date))),x=a=>new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}).format(a||0),N=a=>({webflow_template:"Webflow Templates",shopify_app:"Shopify Apps",web_development:"Web Development",consulting:"Consulting",maintenance:"Maintenance",other:"Other Services"})[a]||a,V=a=>({webflow_template:"fas fa-globe",shopify_app:"fas fa-shopping-cart",web_development:"fas fa-code",consulting:"fas fa-handshake",maintenance:"fas fa-cogs",other:"fas fa-star"})[a]||"fas fa-star",K=a=>({webflow_template:"bg-success",shopify_app:"bg-info",web_development:"bg-primary",consulting:"bg-warning",maintenance:"bg-secondary",other:"bg-dark"})[a]||"bg-secondary",E=a=>a?new Date(a).toLocaleDateString():"N/A",Q=a=>a.status==="overdue"?"payment-overdue":new Date(a.expected_date)<new Date?"payment-due-soon":"",J=a=>a.status==="overdue"?"bg-danger":new Date(a.expected_date)<new Date?"bg-warning":"bg-success",X=a=>a.status==="overdue"?"Overdue":new Date(a.expected_date)<new Date?"Due Soon":"On Track",O=()=>{T.value=!1,Object.keys(n).forEach(a=>{n[a]=a==="payment_terms"?"net_30":""})},j=()=>{s.value=!1,Object.keys(d).forEach(a=>{a==="service_type"?d[a]="web_development":a==="status"?d[a]="paid":a==="currency"?d[a]="BDT":a==="amount"?d[a]=0:d[a]=""}),A.value="BDT"},Z=async()=>{var a,o;_.value=!0;try{const l=await q.post("/admin-home/finance/clients",n);l.data.success&&(C.value.push(l.data.client),O(),v.fire({title:"Success!",text:l.data.message,icon:"success",confirmButtonColor:"#28a745",timer:3e3,timerProgressBar:!0}))}catch(l){console.error("Save failed:",l),v.fire({title:"Error!",text:((o=(a=l.response)==null?void 0:a.data)==null?void 0:o.message)||"Failed to save client",icon:"error",confirmButtonColor:"#e74a3b"})}finally{_.value=!1}},$=async()=>{var a,o;_.value=!0;try{const l=await q.post("/admin-home/finance/revenues",d);l.data.success&&(i.value.push(l.data.revenue),j(),v.fire({title:"Success!",text:l.data.message,icon:"success",confirmButtonColor:"#007bff",timer:3e3,timerProgressBar:!0}))}catch(l){console.error("Revenue save failed:",l),v.fire({title:"Error!",text:((o=(a=l.response)==null?void 0:a.data)==null?void 0:o.message)||"Failed to log revenue",icon:"error",confirmButtonColor:"#e74a3b"})}finally{_.value=!1}},ee=async a=>{if((await v.fire({title:"Mark as Paid?",text:`Mark payment of ৳${x(a.amount)} as received?`,icon:"question",showCancelButton:!0,confirmButtonColor:"#28a745",cancelButtonColor:"#6c757d",confirmButtonText:"Yes, mark as paid!"})).isConfirmed){const l=i.value.findIndex(p=>p.id===a.id);l!==-1&&(i.value[l].status="paid",i.value[l].paid_date=new Date().toISOString(),v.fire({title:"Payment Recorded!",text:"Payment has been marked as paid",icon:"success",confirmButtonColor:"#28a745",timer:3e3,timerProgressBar:!0}))}},te=async a=>{v.fire({title:"Reminder Sent!",text:`Payment reminder sent to ${a.client_name}`,icon:"success",confirmButtonColor:"#007bff",timer:3e3,timerProgressBar:!0})},ae=()=>{console.log("Period changed to:",t.value)},se=async a=>{if((await v.fire({title:"Remove Pending Payment?",text:`Remove pending payment of ৳${x(a.amount)} from ${a.client_name}?`,html:`
                    <div class="text-left">
                        <p><strong>Client:</strong> ${a.client_name}</p>
                        <p><strong>Amount:</strong> ৳${x(a.amount)}</p>
                        <p><strong>Service:</strong> ${N(a.service_type)}</p>
                        <p><strong>Expected Date:</strong> ${a.expected_date}</p>
                    </div>
                `,icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc3545",cancelButtonColor:"#6c757d",confirmButtonText:"Yes, remove it!"})).isConfirmed){const l=i.value.findIndex(p=>p.id===a.id);l!==-1&&(i.value.splice(l,1),v.fire({title:"Payment Removed!",text:"Pending payment has been removed from forecast",icon:"success",confirmButtonColor:"#28a745",timer:3e3,timerProgressBar:!0}))}},ne=async()=>{if(g.value.length===0){v.fire({title:"No Pending Payments",text:"There are no pending payments to clear",icon:"info",confirmButtonColor:"#007bff"});return}if((await v.fire({title:"Clear All Pending Payments?",html:`
                    <div class="text-left">
                        <p>This will remove <strong>${g.value.length}</strong> pending payments totaling <strong>৳${x(D.value)}</strong></p>
                        <div class="mt-3">
                            <h6>Payments to be removed:</h6>
                            <ul class="list-unstyled">
                                ${g.value.map(o=>`
                                    <li class="mb-1">
                                        <i class="fas fa-user me-1"></i> ${o.client_name} - 
                                        <strong>৳${x(o.amount)}</strong>
                                    </li>
                                `).join("")}
                            </ul>
                        </div>
                        <div class="alert alert-warning mt-3">
                            <i class="fas fa-exclamation-triangle me-2"></i>
                            <strong>Warning:</strong> This action cannot be undone. All pending payment forecasts will be permanently removed.
                        </div>
                    </div>
                `,icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc3545",cancelButtonColor:"#6c757d",confirmButtonText:"Yes, clear all!",cancelButtonText:"Cancel",width:"600px"})).isConfirmed){const o=g.value.length,l=D.value;i.value=i.value.filter(p=>p.status!=="pending"&&p.status!=="overdue"),v.fire({title:"All Pending Payments Cleared!",html:`
                        <div class="text-center">
                            <i class="fas fa-check-circle text-success mb-3" style="font-size: 3rem;"></i>
                            <p><strong>${o}</strong> pending payments removed</p>
                            <p><strong>৳${x(l)}</strong> cleared from forecast</p>
                            <div class="alert alert-success mt-3">
                                <i class="fas fa-info-circle me-2"></i>
                                You can now start fresh with your payment tracking!
                            </div>
                        </div>
                    `,icon:null,confirmButtonColor:"#28a745",timer:5e3,timerProgressBar:!0,width:"500px"})}},oe=()=>{if(g.value.length===0){v.fire({title:"No Data to Export",text:"There are no pending payments to export",icon:"info",confirmButtonColor:"#007bff"});return}let a=`Client,Service Type,Amount (BDT),Status,Expected Date,Invoice Date,Description,Notes
`;g.value.forEach(y=>{a+=`"${y.client_name}","${N(y.service_type)}",${y.amount},"${y.status}","${y.expected_date}","${E(y.invoice_date)}","${y.description||""}","${y.notes||""}"
`});const o=new Blob([a],{type:"text/csv;charset=utf-8;"}),l=URL.createObjectURL(o),p=document.createElement("a");p.href=l,p.download=`Pending-Payments-${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(p),p.click(),document.body.removeChild(p),URL.revokeObjectURL(l),v.fire({title:"Export Complete!",text:`Pending payments exported to CSV file with ${g.value.length} records`,icon:"success",confirmButtonColor:"#007bff",timer:3e3,timerProgressBar:!0})};return ve(()=>{console.log("Clients loaded:",C.value.length),console.log("Revenues loaded:",i.value.length)}),{selectedPeriod:t,showAddClient:T,showAddRevenue:s,saving:_,clients:C,revenues:i,clientForm:n,revenueForm:d,monthlyRevenue:L,totalRevenue:G,pendingRevenue:D,forecastRevenue:z,revenueByService:H,sortedClients:Y,pendingPayments:g,formatNumber:x,getPaymentCardClass:Q,getPaymentBadgeClass:J,getPaymentStatus:X,USD_TO_BDT_RATE:M,closeClientModal:O,closeRevenueModal:j,saveClient:Z,saveRevenue:$,markPaid:ee,sendReminder:te,updatePeriod:ae,removePendingPayment:se,clearAllPendingPayments:ne,exportPendingPayments:oe}}},pe={class:"row"},be={class:"col-lg-12"},ge={class:"dashboard-settings margin-top-40"},ye={class:"card mb-4"},xe={class:"card-header d-flex justify-content-between align-items-center"},we={class:"d-flex gap-2"},he={class:"card-body"},_e={class:"row"},Ce={class:"col-md-4 text-end"},Pe={class:"revenue-summary"},ke={class:"total-revenue"},Re={class:"h5 mb-0 text-success"},Se={class:"row mb-4"},De={class:"col-md-6 mb-3"},Be={class:"stat-card"},Fe={class:"stat-content"},Te={class:"stat-value"},Me={class:"col-md-6 mb-3"},Ae={class:"stat-card"},Ne={class:"stat-content"},Ue={class:"stat-value"},Ve={class:"col-md-6 mb-3"},Ee={class:"stat-card"},Oe={class:"stat-content"},je={class:"stat-value"},Ie={class:"row"},We={class:"col-lg-12 mb-4"},qe={class:"card"},Le={class:"card-body"},Ge={class:"service-header d-flex justify-content-between align-items-center mb-2"},Ye={class:"service-info"},ze={class:"badge bg-secondary ms-2"},He={class:"service-amount"},Ke={class:"progress",style:{height:"6px"}},Qe={class:"row"},Je={class:"col-12"},Xe={class:"card"},Ze={class:"card-header d-flex justify-content-between align-items-center"},$e={class:"header-actions"},et=["disabled"],tt={class:"card-body"},at={class:"row"},st={class:"payment-header"},nt={class:"payment-client"},ot={class:"payment-amount"},lt={class:"payment-details"},it={class:"payment-service"},rt={class:"payment-date"},dt={key:0,class:"payment-notes"},ct={class:"text-muted"},mt={class:"payment-actions mt-2"},vt=["onClick"],ut=["onClick"],ft=["onClick"],pt={key:0,class:"col-12"},bt={class:"modal-header"},gt={class:"modal-body"},yt={class:"row"},xt={class:"col-md-6 mb-3"},wt={class:"col-md-6 mb-3"},ht={class:"row"},_t={class:"col-md-6 mb-3"},Ct={class:"col-md-6 mb-3"},Pt={class:"mb-3"},kt={class:"d-flex justify-content-end gap-2"},Rt=["disabled"],St={class:"modal-header"},Dt={class:"modal-body"},Bt={class:"row"},Ft={class:"col-md-6 mb-3"},Tt=["value"],Mt={class:"col-md-6 mb-3"},At={class:"row"},Nt={class:"col-md-6 mb-3"},Ut={class:"input-group"},Vt={key:0,class:"form-text text-info"},Et={class:"col-md-6 mb-3"},Ot={key:0,class:"row"},jt={class:"col-md-6 mb-3"},It={class:"col-md-6 mb-3"},Wt={class:"mb-3"},qt={class:"mb-3"},Lt={class:"d-flex justify-content-end gap-2"},Gt=["disabled"];function Yt(S,t,T,s,_,C){const i=re("Head");return f(),u(B,null,[de(i,{title:"Revenue Tracking & Client Forecasting"}),e("div",pe,[e("div",be,[e("div",ge,[e("div",ye,[e("div",xe,[t[33]||(t[33]=e("h4",{class:"mb-0"},[e("i",{class:"fas fa-chart-line me-2"}),m(" Revenue Tracking & Client Forecasting ")],-1)),e("div",we,[c(e("select",{"onUpdate:modelValue":t[0]||(t[0]=n=>s.selectedPeriod=n),onChange:t[1]||(t[1]=(...n)=>s.updatePeriod&&s.updatePeriod(...n)),class:"form-select form-select-sm",style:{width:"150px"}},[...t[30]||(t[30]=[e("option",{value:"current"},"This Month",-1),e("option",{value:"quarter"},"This Quarter",-1),e("option",{value:"year"},"This Year",-1)])],544),[[k,s.selectedPeriod]]),e("button",{onClick:t[2]||(t[2]=n=>s.showAddClient=!0),class:"btn btn-success"},[...t[31]||(t[31]=[e("i",{class:"fas fa-user-plus"},null,-1),m(" Add Client ",-1)])]),e("button",{onClick:t[3]||(t[3]=n=>s.showAddRevenue=!0),class:"btn btn-primary"},[...t[32]||(t[32]=[e("i",{class:"fas fa-dollar-sign"},null,-1),m(" Log Revenue ",-1)])])])]),e("div",he,[e("div",_e,[t[35]||(t[35]=e("div",{class:"col-md-8"},[e("p",{class:"text-muted mb-0"}," Track your revenue streams from different services like Webflow templates, Shopify apps, and recurring revenue. Monitor pending payments and forecast upcoming earnings. ")],-1)),e("div",Ce,[e("div",Pe,[e("div",ke,[t[34]||(t[34]=e("small",{class:"text-muted"},"This Month Revenue",-1)),e("div",Re,"৳"+r(s.formatNumber(s.monthlyRevenue)),1)])])])])])]),t[76]||(t[76]=I('<div class="card mb-4 entrepreneur-guide" data-v-a07a2fac><div class="card-header bg-success-light" data-v-a07a2fac><h6 class="text-success mb-0" data-v-a07a2fac><button class="btn btn-link text-success p-0 text-decoration-none w-100 text-start" type="button" data-bs-toggle="collapse" data-bs-target="#revenueGuide" aria-expanded="false" aria-controls="revenueGuide" data-v-a07a2fac><i class="fas fa-lightbulb me-2" data-v-a07a2fac></i> Solo Entrepreneur Revenue &amp; Client Management Guide <i class="fas fa-chevron-down float-end mt-1" data-v-a07a2fac></i></button></h6></div><div id="revenueGuide" class="collapse" data-v-a07a2fac><div class="card-body" data-v-a07a2fac><div class="row" data-v-a07a2fac><div class="col-md-6" data-v-a07a2fac><h6 class="text-primary mb-3" data-v-a07a2fac><i class="fas fa-question-circle me-2" data-v-a07a2fac></i> Why Track Revenue by Client &amp; Service? </h6><ul class="list-unstyled mb-4" data-v-a07a2fac><li class="mb-2" data-v-a07a2fac><i class="fas fa-check text-success me-2" data-v-a07a2fac></i><strong data-v-a07a2fac>Identify Best Clients:</strong> See who pays the most consistently </li><li class="mb-2" data-v-a07a2fac><i class="fas fa-check text-success me-2" data-v-a07a2fac></i><strong data-v-a07a2fac>Service Performance:</strong> Know which services are most profitable </li><li class="mb-2" data-v-a07a2fac><i class="fas fa-check text-success me-2" data-v-a07a2fac></i><strong data-v-a07a2fac>Predict Cash Flow:</strong> Forecast upcoming payments and revenue </li><li class="mb-2" data-v-a07a2fac><i class="fas fa-check text-success me-2" data-v-a07a2fac></i><strong data-v-a07a2fac>Plan Growth:</strong> Focus on high-value services and clients </li></ul><h6 class="text-primary mb-3" data-v-a07a2fac><i class="fas fa-clock me-2" data-v-a07a2fac></i> Pending Payment Forecasting </h6><ul class="list-unstyled" data-v-a07a2fac><li class="mb-2" data-v-a07a2fac><i class="fas fa-arrow-right text-info me-2" data-v-a07a2fac></i> Track invoices sent but not yet paid </li><li class="mb-2" data-v-a07a2fac><i class="fas fa-arrow-right text-info me-2" data-v-a07a2fac></i> Predict when payments will arrive </li><li class="mb-2" data-v-a07a2fac><i class="fas fa-arrow-right text-info me-2" data-v-a07a2fac></i> Plan for cash flow gaps </li><li class="mb-2" data-v-a07a2fac><i class="fas fa-arrow-right text-info me-2" data-v-a07a2fac></i> Follow up on overdue payments </li></ul></div><div class="col-md-6" data-v-a07a2fac><h6 class="text-primary mb-3" data-v-a07a2fac><i class="fas fa-user-tie me-2" data-v-a07a2fac></i> Solo Business Revenue Streams </h6><div class="revenue-streams" data-v-a07a2fac><div class="stream-example mb-3" data-v-a07a2fac><strong class="text-success d-block mb-2" data-v-a07a2fac><i class="fas fa-globe me-2" data-v-a07a2fac></i>Webflow Templates </strong><small class="text-muted d-block" data-v-a07a2fac> One-time sales, license fees, custom template development </small><div class="example-amounts mt-1" data-v-a07a2fac><span class="badge bg-light text-dark" data-v-a07a2fac>$50 - $500 each</span><span class="badge bg-light text-dark" data-v-a07a2fac>Recurring licenses</span></div></div><div class="stream-example mb-3" data-v-a07a2fac><strong class="text-info d-block mb-2" data-v-a07a2fac><i class="fas fa-shopping-cart me-2" data-v-a07a2fac></i>Shopify Apps </strong><small class="text-muted d-block" data-v-a07a2fac> Monthly subscriptions, app store revenue, custom development </small><div class="example-amounts mt-1" data-v-a07a2fac><span class="badge bg-light text-dark" data-v-a07a2fac>$10-50/month</span><span class="badge bg-light text-dark" data-v-a07a2fac>Recurring MRR</span></div></div><div class="stream-example mb-3" data-v-a07a2fac><strong class="text-warning d-block mb-2" data-v-a07a2fac><i class="fas fa-handshake me-2" data-v-a07a2fac></i>Client Services </strong><small class="text-muted d-block" data-v-a07a2fac> Web development, consulting, maintenance contracts, design work </small><div class="example-amounts mt-1" data-v-a07a2fac><span class="badge bg-light text-dark" data-v-a07a2fac>$500-5000</span><span class="badge bg-light text-dark" data-v-a07a2fac>Project-based</span></div></div></div><div class="alert alert-success mt-3" data-v-a07a2fac><strong data-v-a07a2fac><i class="fas fa-star me-2" data-v-a07a2fac></i>Pro Revenue Tips: </strong><ul class="mb-0 mt-2" data-v-a07a2fac><li data-v-a07a2fac>Set up automatic payment reminders for clients</li><li data-v-a07a2fac>Offer payment terms that favor faster payments (2/10 net 30)</li><li data-v-a07a2fac>Diversify revenue streams to reduce dependency on single clients</li><li data-v-a07a2fac>Track monthly recurring revenue (MRR) vs one-time payments</li></ul></div></div></div></div></div></div>',1)),e("div",Se,[e("div",De,[e("div",Be,[t[37]||(t[37]=e("div",{class:"stat-icon bg-success"},[e("i",{class:"fas fa-money-bill-wave"})],-1)),e("div",Fe,[e("div",Te,"৳"+r(s.formatNumber(s.totalRevenue)),1),t[36]||(t[36]=e("div",{class:"stat-label"},"Total Revenue",-1))])])]),e("div",Me,[e("div",Ae,[t[39]||(t[39]=e("div",{class:"stat-icon bg-warning"},[e("i",{class:"fas fa-hourglass-half"})],-1)),e("div",Ne,[e("div",Ue,"৳"+r(s.formatNumber(s.pendingRevenue)),1),t[38]||(t[38]=e("div",{class:"stat-label"},"Pending Payments",-1))])])]),e("div",Ve,[e("div",Ee,[t[41]||(t[41]=e("div",{class:"stat-icon bg-primary"},[e("i",{class:"fas fa-crystal-ball"})],-1)),e("div",Oe,[e("div",je,"৳"+r(s.formatNumber(s.forecastRevenue)),1),t[40]||(t[40]=e("div",{class:"stat-label"},"Next Month Forecast",-1))])])])]),e("div",Ie,[e("div",We,[e("div",qe,[t[42]||(t[42]=e("div",{class:"card-header"},[e("h6",{class:"mb-0"},[e("i",{class:"fas fa-chart-pie me-2"}),m(" Revenue by Service Type ")])],-1)),e("div",Le,[(f(!0),u(B,null,U(s.revenueByService,n=>(f(),u("div",{key:n.type,class:"service-revenue mb-3"},[e("div",Ge,[e("div",Ye,[e("i",{class:R([n.icon,"me-2"])},null,2),e("strong",null,r(n.type),1),e("span",ze,r(n.count)+" items",1)]),e("div",He,"৳"+r(s.formatNumber(n.amount)),1)]),e("div",Ke,[e("div",{class:R(["progress-bar",n.color]),style:ce(`width: ${n.amount/s.totalRevenue*100}%`)},null,6)])]))),128))])])])]),e("div",Qe,[e("div",Je,[e("div",Xe,[e("div",Ze,[t[45]||(t[45]=e("h6",{class:"mb-0"},[e("i",{class:"fas fa-clock me-2"}),m(" Pending Payments Forecast - Next 90 Days ")],-1)),e("div",$e,[e("button",{onClick:t[4]||(t[4]=(...n)=>s.clearAllPendingPayments&&s.clearAllPendingPayments(...n)),class:"btn btn-outline-danger btn-sm me-2",disabled:s.pendingPayments.length===0},[...t[43]||(t[43]=[e("i",{class:"fas fa-trash-alt me-1"},null,-1),m(" Clear All ",-1)])],8,et),e("button",{onClick:t[5]||(t[5]=(...n)=>s.exportPendingPayments&&s.exportPendingPayments(...n)),class:"btn btn-outline-primary btn-sm"},[...t[44]||(t[44]=[e("i",{class:"fas fa-download me-1"},null,-1),m(" Export CSV ",-1)])])])]),e("div",tt,[e("div",at,[(f(!0),u(B,null,U(s.pendingPayments,n=>(f(),u("div",{key:n.id,class:"col-lg-4 col-md-6 mb-4"},[e("div",{class:R(["pending-payment-card",s.getPaymentCardClass(n)])},[e("div",st,[e("div",nt,[t[46]||(t[46]=e("i",{class:"fas fa-user-circle me-2"},null,-1)),e("strong",null,r(n.client_name),1)]),e("div",ot,"৳"+r(s.formatNumber(n.amount)),1)]),e("div",lt,[e("div",it,[e("i",{class:R([n.service_icon,"me-2"])},null,2),m(" "+r(n.service_type),1)]),e("div",rt,[t[47]||(t[47]=e("i",{class:"fas fa-calendar me-2"},null,-1)),m(" Expected: "+r(n.expected_date)+" ",1),e("span",{class:R(["badge ms-2",s.getPaymentBadgeClass(n)])},r(s.getPaymentStatus(n)),3)]),n.notes?(f(),u("div",dt,[t[48]||(t[48]=e("i",{class:"fas fa-sticky-note me-2"},null,-1)),e("small",ct,r(n.notes),1)])):P("",!0)]),e("div",mt,[e("button",{onClick:d=>s.markPaid(n),class:"btn btn-sm btn-success me-2"},[...t[49]||(t[49]=[e("i",{class:"fas fa-check"},null,-1),m(" Mark Paid ",-1)])],8,vt),e("button",{onClick:d=>s.sendReminder(n),class:"btn btn-sm btn-outline-primary me-2"},[...t[50]||(t[50]=[e("i",{class:"fas fa-bell"},null,-1),m(" Remind ",-1)])],8,ut),e("button",{onClick:d=>s.removePendingPayment(n),class:"btn btn-sm btn-outline-danger",title:"Remove this pending payment"},[...t[51]||(t[51]=[e("i",{class:"fas fa-times"},null,-1)])],8,ft)])],2)]))),128)),s.pendingPayments.length===0?(f(),u("div",pt,[...t[52]||(t[52]=[e("div",{class:"text-center py-5"},[e("i",{class:"fas fa-check-circle text-success mb-3",style:{"font-size":"4rem"}}),e("h5",{class:"text-muted"},"All Payments Up to Date!"),e("p",{class:"text-muted"},"No pending payments found. Great job keeping on top of collections!")],-1)])])):P("",!0)])])])])]),s.showAddClient?(f(),u("div",{key:0,class:"modal-overlay",onClick:t[15]||(t[15]=(...n)=>s.closeClientModal&&s.closeClientModal(...n))},[e("div",{class:"modal-content",onClick:t[14]||(t[14]=F(()=>{},["stop"]))},[e("div",bt,[t[53]||(t[53]=e("h5",null,"Add New Client",-1)),e("button",{onClick:t[6]||(t[6]=(...n)=>s.closeClientModal&&s.closeClientModal(...n)),class:"btn-close"},"×")]),e("div",gt,[e("form",{onSubmit:t[13]||(t[13]=F((...n)=>s.saveClient&&s.saveClient(...n),["prevent"]))},[e("div",yt,[e("div",xt,[t[54]||(t[54]=e("label",{class:"form-label"},"Client Name *",-1)),c(e("input",{"onUpdate:modelValue":t[7]||(t[7]=n=>s.clientForm.name=n),type:"text",class:"form-control",required:"",placeholder:"Company or Person Name"},null,512),[[b,s.clientForm.name]])]),e("div",wt,[t[55]||(t[55]=e("label",{class:"form-label"},"Email",-1)),c(e("input",{"onUpdate:modelValue":t[8]||(t[8]=n=>s.clientForm.email=n),type:"email",class:"form-control",placeholder:"client@company.com"},null,512),[[b,s.clientForm.email]])])]),e("div",ht,[e("div",_t,[t[56]||(t[56]=e("label",{class:"form-label"},"Phone",-1)),c(e("input",{"onUpdate:modelValue":t[9]||(t[9]=n=>s.clientForm.phone=n),type:"text",class:"form-control",placeholder:"+1234567890"},null,512),[[b,s.clientForm.phone]])]),e("div",Ct,[t[58]||(t[58]=e("label",{class:"form-label"},"Payment Terms",-1)),c(e("select",{"onUpdate:modelValue":t[10]||(t[10]=n=>s.clientForm.payment_terms=n),class:"form-select"},[...t[57]||(t[57]=[e("option",{value:"net_15"},"Net 15 days",-1),e("option",{value:"net_30"},"Net 30 days",-1),e("option",{value:"net_60"},"Net 60 days",-1),e("option",{value:"immediate"},"Immediate",-1)])],512),[[k,s.clientForm.payment_terms]])])]),e("div",Pt,[t[59]||(t[59]=e("label",{class:"form-label"},"Notes",-1)),c(e("textarea",{"onUpdate:modelValue":t[11]||(t[11]=n=>s.clientForm.notes=n),class:"form-control",rows:"3",placeholder:"Client preferences, project details, etc."},null,512),[[b,s.clientForm.notes]])]),e("div",kt,[e("button",{type:"button",onClick:t[12]||(t[12]=(...n)=>s.closeClientModal&&s.closeClientModal(...n)),class:"btn btn-secondary"}," Cancel "),e("button",{type:"submit",class:"btn btn-success",disabled:s.saving},[t[60]||(t[60]=e("i",{class:"fas fa-save"},null,-1)),m(" "+r(s.saving?"Saving...":"Save Client"),1)],8,Rt)])],32)])])])):P("",!0),s.showAddRevenue?(f(),u("div",{key:1,class:"modal-overlay",onClick:t[29]||(t[29]=(...n)=>s.closeRevenueModal&&s.closeRevenueModal(...n))},[e("div",{class:"modal-content large-modal",onClick:t[28]||(t[28]=F(()=>{},["stop"]))},[e("div",St,[t[61]||(t[61]=e("h5",null,"Log Revenue / Pending Payment",-1)),e("button",{onClick:t[16]||(t[16]=(...n)=>s.closeRevenueModal&&s.closeRevenueModal(...n)),class:"btn-close"},"×")]),e("div",Dt,[e("form",{onSubmit:t[27]||(t[27]=F((...n)=>s.saveRevenue&&s.saveRevenue(...n),["prevent"]))},[e("div",Bt,[e("div",Ft,[t[63]||(t[63]=e("label",{class:"form-label"},"Client *",-1)),c(e("select",{"onUpdate:modelValue":t[17]||(t[17]=n=>s.revenueForm.client_id=n),class:"form-select",required:""},[t[62]||(t[62]=e("option",{value:""},"Select Client",-1)),(f(!0),u(B,null,U(s.sortedClients,n=>(f(),u("option",{key:n.id,value:n.id},r(n.name),9,Tt))),128))],512),[[k,s.revenueForm.client_id]])]),e("div",Mt,[t[65]||(t[65]=e("label",{class:"form-label"},"Service Type *",-1)),c(e("select",{"onUpdate:modelValue":t[18]||(t[18]=n=>s.revenueForm.service_type=n),class:"form-select",required:""},[...t[64]||(t[64]=[I('<option value="webflow_template" data-v-a07a2fac>Webflow Template</option><option value="shopify_app" data-v-a07a2fac>Shopify App</option><option value="web_development" data-v-a07a2fac>Web Development</option><option value="consulting" data-v-a07a2fac>Consulting</option><option value="maintenance" data-v-a07a2fac>Maintenance Contract</option><option value="other" data-v-a07a2fac>Other Service</option>',6)])],512),[[k,s.revenueForm.service_type]])])]),e("div",At,[e("div",Nt,[t[68]||(t[68]=e("label",{class:"form-label"},"Amount *",-1)),e("div",Ut,[c(e("select",{"onUpdate:modelValue":t[19]||(t[19]=n=>s.revenueForm.currency=n),class:"input-group-text",style:{"border-right":"0",background:"#e9ecef"}},[...t[66]||(t[66]=[e("option",{value:"BDT"},"৳",-1),e("option",{value:"USD"},"$",-1)])],512),[[k,s.revenueForm.currency]]),c(e("input",{"onUpdate:modelValue":t[20]||(t[20]=n=>s.revenueForm.amount=n),type:"number",class:"form-control",step:"0.01",min:"0",required:"",placeholder:"5000.00"},null,512),[[b,s.revenueForm.amount,void 0,{number:!0}]])]),s.revenueForm.currency==="USD"?(f(),u("div",Vt,[e("small",null,[t[67]||(t[67]=e("i",{class:"fas fa-exchange-alt me-1"},null,-1)),m(" Converted: ৳"+r(s.formatNumber(s.revenueForm.amount*s.USD_TO_BDT_RATE))+" BDT (1 USD = "+r(s.USD_TO_BDT_RATE)+" BDT) ",1)])])):P("",!0)]),e("div",Et,[t[70]||(t[70]=e("label",{class:"form-label"},"Status *",-1)),c(e("select",{"onUpdate:modelValue":t[21]||(t[21]=n=>s.revenueForm.status=n),class:"form-select",required:""},[...t[69]||(t[69]=[e("option",{value:"paid"},"Paid (Received)",-1),e("option",{value:"pending"},"Pending Payment",-1),e("option",{value:"overdue"},"Overdue",-1)])],512),[[k,s.revenueForm.status]])])]),s.revenueForm.status!=="paid"?(f(),u("div",Ot,[e("div",jt,[t[71]||(t[71]=e("label",{class:"form-label"},"Expected Payment Date",-1)),c(e("input",{"onUpdate:modelValue":t[22]||(t[22]=n=>s.revenueForm.expected_date=n),type:"date",class:"form-control"},null,512),[[b,s.revenueForm.expected_date]])]),e("div",It,[t[72]||(t[72]=e("label",{class:"form-label"},"Invoice Date",-1)),c(e("input",{"onUpdate:modelValue":t[23]||(t[23]=n=>s.revenueForm.invoice_date=n),type:"date",class:"form-control"},null,512),[[b,s.revenueForm.invoice_date]])])])):P("",!0),e("div",Wt,[t[73]||(t[73]=e("label",{class:"form-label"},"Description",-1)),c(e("input",{"onUpdate:modelValue":t[24]||(t[24]=n=>s.revenueForm.description=n),type:"text",class:"form-control",placeholder:"Brief description of the service"},null,512),[[b,s.revenueForm.description]])]),e("div",qt,[t[74]||(t[74]=e("label",{class:"form-label"},"Notes",-1)),c(e("textarea",{"onUpdate:modelValue":t[25]||(t[25]=n=>s.revenueForm.notes=n),class:"form-control",rows:"3",placeholder:"Additional notes, payment terms, follow-up reminders"},null,512),[[b,s.revenueForm.notes]])]),e("div",Lt,[e("button",{type:"button",onClick:t[26]||(t[26]=(...n)=>s.closeRevenueModal&&s.closeRevenueModal(...n)),class:"btn btn-secondary"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary",disabled:s.saving},[t[75]||(t[75]=e("i",{class:"fas fa-save"},null,-1)),m(" "+r(s.saving?"Saving...":"Save Revenue"),1)],8,Gt)])],32)])])])):P("",!0)])])])],64)}const Jt=ue(fe,[["render",Yt],["__scopeId","data-v-a07a2fac"]]);export{Jt as default};
