import{A as b}from"./AdminMaster-C7p7F_i9.js";import{K as h,L as D,H as w,r,c as _,o as V,a as i,b as t,g as A,f as m,w as B,t as n,F as k,u as x,l as g,m as F}from"./app-3IEMQ5of.js";import{B as I}from"./Button-Bknrlmqb.js";import{I as E}from"./Input-DE0LTE1k.js";import{S as P}from"./Select-sy97qpvZ.js";import{T as C}from"./Textarea-BjrC1ZjW.js";import{s as M}from"./vue3-datepicker.esm-Df2hil4l.js";import"./sweetalert2.esm.all-Y6IUEg8t.js";import{h as N}from"./html2pdf-Dt1Dw7XT.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";const L={layout:b,components:{BsButton:I,Input:E,Select:P,Textarea:C,Head:w,Datepicker:M,Link:D,VueDatePicker:h},setup(){const p=x().props.value.all_employee,e=g(0),d=g({name:"Name",amount:0,category:"Designation"}),o=F({employee_id:null,month:new Date,amount:null});function c(){e.value=parseFloat(o.amount)}function f(){let a=d.value.name+"-"+u(o.month)+"-advance-salary-application.pdf";N(document.getElementById("element-to-convert"),{margin:1,filename:a}),axios.post(route("admin.employee.advance.salary.store"),o)}function y(){axios.post(route("admin.employee.details",o.employee_id),{month:o.month}).then(a=>{let s=a.data.details;d.value={name:s.name,amount:d.value.amount,category:s.designation}})}function u(a){let s=["January","February","March","April","May","June","July","August","September","October","November","December"];return a!=null?s[new Date(a).getMonth()]:""}return{employeeList:p,salarySlipData:o,exportToPDF:f,selectedEmployee:d,changeEmployeeSelect:y,getSelectedMonthName:u,changeAmount:c,payableAmount:e}}},H={class:"row"},W={class:"col-lg-12"},J={class:"header-wrap d-flex justify-content-between"},U={class:"btn-wrp"},j={class:"row"},K={class:"col-lg-4"},O={class:"single-info-input margin-top-30"},X={class:"col-lg-8"},q={id:"element-to-convert"},z={class:"salarySlipPdfOuterWrapper advanceSalary"},R={class:"paratext"},Y={class:"footerPartWrapper"},G={class:"signature"},Q={class:"designation"},Z={class:"btn-wrapper margin-left-60"};function $(p,e,d,o,c,f){const y=r("Head"),u=r("Link"),a=r("VueDatePicker"),s=r("Select"),v=r("Input"),S=r("BsButton");return V(),_(k,null,[i(y,{title:"Create Advance Salary"}),t("div",H,[t("div",W,[t("div",J,[e[7]||(e[7]=t("h2",{class:"dashboards-title margin-bottom-40"},"Create Advance Salary",-1)),t("div",U,[i(u,{class:"btn btn-info m-1",href:p.route("admin.employee.advance.salary.all")},{default:A(()=>[...e[6]||(e[6]=[m("Advance salary List",-1)])]),_:1},8,["href"])])])]),t("div",j,[t("div",K,[t("form",{onSubmit:e[5]||(e[5]=B(()=>{},["prevent"]))},[t("div",O,[e[8]||(e[8]=t("label",{class:"info-title"},"Salary Month",-1)),i(a,{modelValue:o.salarySlipData.month,"onUpdate:modelValue":e[0]||(e[0]=l=>o.salarySlipData.month=l)},null,8,["modelValue"]),e[9]||(e[9]=t("span",{class:"info-text"},"Select Month First",-1))]),i(s,{title:"Employee",onChange:e[1]||(e[1]=l=>o.changeEmployeeSelect()),modelValue:o.salarySlipData.employee_id,"onUpdate:modelValue":e[2]||(e[2]=l=>o.salarySlipData.employee_id=l),options:o.employeeList},null,8,["modelValue","options"]),i(v,{title:"Amount",type:"number",onInput:e[3]||(e[3]=l=>o.changeAmount()),modelValue:o.salarySlipData.amount,"onUpdate:modelValue":e[4]||(e[4]=l=>o.salarySlipData.amount=l)},null,8,["modelValue"])],32)]),t("div",X,[t("div",q,[t("div",z,[e[18]||(e[18]=t("div",{class:"headerPart"},[t("div",{class:"subjectWarp"},[t("p",null,"Advance salary")])],-1)),t("div",R,[t("p",null,[e[10]||(e[10]=m("I, ",-1)),t("strong",null,n(o.selectedEmployee.name),1),e[11]||(e[11]=m(", ",-1)),t("strong",null,"Department: "+n(o.selectedEmployee.category),1),m(" request an advance payment of "+n(o.payableAmount)+"/- ("+n(p.numberToWord(o.payableAmount))+") BDT on my salary to be paid on 5th "+n(o.getSelectedMonthName(o.salarySlipData.month))+" "+n(new Date().getFullYear())+" due to personal problem as permitted by ",1),e[12]||(e[12]=t("strong",null,"Xgenious",-1)),e[13]||(e[13]=m(" policy. ",-1))]),e[14]||(e[14]=t("p",null,[t("strong",{class:"d-block"},"I agree to repay this advance as follow: "),m(" This payroll deduction to be made from my salary on the first pay period immediately following the pay period from which this advance is made.")],-1)),e[15]||(e[15]=t("p",null,"I also agree that if I terminate employment prior to total repayment of this advance, I authorize the company to deduct any unpaid advance amount from the salary owed me at the time of termination of employment. ",-1))]),t("div",Y,[e[17]||(e[17]=t("div",{class:"signature"},[t("span",{class:"signature"},"Signature"),t("h2",null,"Sharifur Rahman"),t("span",{class:"designation"},"Ceo - Xgenious")],-1)),t("div",G,[e[16]||(e[16]=t("span",{class:"signature"},"Signature",-1)),t("h2",null,n(o.selectedEmployee.name),1),t("span",Q,n(o.selectedEmployee.category),1)])])])]),t("div",Z,[i(S,{type:"button",onClick:o.exportToPDF,"button-text":"Save and Download PDF"},null,8,["onClick"])])])])])],64)}const de=T(L,[["render",$]]);export{de as default};
