import{L as B,H as p,c as f,a as l,b as t,g as r,t as e,F as k,p as S,u as h,m as D,r as _,o as d,e as C,d as x,s as E,n as A,q as T,h as P}from"./app-HZ1uqtSe.js";import{P as F}from"./Pagination-VH5R_jL5.js";import{A as I}from"./AdminMaster-YI2vqxMt.js";import{S as u}from"./sweetalert2.all-3Q2ppFx8.js";import{S as N}from"./StatusShow-Q-Y15NkA.js";import{_ as Y}from"./_plugin-vue_export-helper-x3n3nnut.js";const H={name:"Employee",layout:I,components:{StatusShow:N,Link:B,Pagination:F,Head:p},setup(){function c(){return console.log(h().props.value.allEmployees.data),h().props.value.allEmployees.data}function m(s){u.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(a=>{const i=D({id:s.id});a.isConfirmed&&i.post(route("admin.employee.delete"),{onFinish:()=>{u.fire("Deleted!","Entry deleted.","success")}})})}function b(){return h().props.value.allEmployees.links}function o(s){return s===1?"Working":"Left Job"}function g(s){var a,i;return(a=s==null?void 0:s.user)!=null&&a.id?route("admin.users.view",(i=s==null?void 0:s.user)==null?void 0:i.id):null}function w(s){u.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, make user!"}).then(a=>{a.isConfirmed&&axios.post(route("admin.employee.convert.user"),s).then(i=>{let n=i.data;u.fire(n.msg,"",n.type)})})}return{employeeListLinks:b,employeeList:c,deleteItem:m,employeeStatus:o,userRoute:g,convertToUser:w}}},V={class:"row"},U={class:"col-lg-12"},j={class:"dashboard-settings margin-top-40"},J={class:"header-wrap d-flex justify-content-between"},R=t("h2",{class:"dashboards-title margin-bottom-40"},"All Employees",-1),q={class:"btn-wrp"},z={class:"table-responsive"},M={class:"table table-stripped"},W=t("th",null,"Id",-1),G=t("th",null,"Title",-1),K=t("th",null,"Category",-1),O=t("th",null,"Join Date",-1),Q=t("th",null,"Salary",-1),X=t("th",null,"Payment Info",-1),Z=t("th",null,"Status",-1),$=t("th",null,"Action",-1),y=t("i",{class:"fas fa-user btn-success text-white btn btn-sm",title:"An User"},null,-1),tt={style:{"max-width":"100px"}},nt=t("i",{class:"fas fa-eye"},null,-1),st=t("i",{class:"fas fa-trash"},null,-1),at=t("i",{class:"fas fa-pencil-alt"},null,-1),et=t("i",{class:"fas fa-calendar-alt"},null,-1),ot=t("i",{class:"fas fa-retweet"},null,-1);function it(c,m,b,o,g,w){const s=_("Head"),a=_("Link"),i=_("Pagination");return d(),f(k,null,[l(s,{title:"All Employee"}),t("div",V,[t("div",U,[t("div",j,[t("div",J,[R,t("div",q,[l(a,{class:"btn btn-info m-1",href:c.route("admin.employee.new")},{default:r(()=>[C("Add New")]),_:1},8,["href"])])]),t("div",z,[t("table",M,[t("thead",null,[W,G,K,O,Q,t("th",null,"Total Leave ( "+e(new Date().getFullYear())+" )",1),X,Z,$]),t("tbody",null,[(d(!0),f(k,null,S(o.employeeList(),n=>{var v;return d(),f("tr",{key:n.id},[t("td",null,e(n.id),1),t("td",null,[C(e(n.name)+" ",1),x(l(a,{href:o.userRoute(n)},{default:r(()=>[y]),_:2},1032,["href"]),[[E,n==null?void 0:n.user]])]),t("td",null,e((v=n==null?void 0:n.category)==null?void 0:v.title),1),t("td",null,e(new Date(n.joinDate).toLocaleDateString()),1),t("td",null,e(n.salary)+" BDT",1),t("td",null,e(n!=null&&n.attendance_log?n==null?void 0:n.attendance_log.length:0),1),t("td",tt,e(n.paymentInfo),1),t("td",null,[t("span",{class:A(["alert",n.status===1?"alert-success":"alert-danger"])},e(o.employeeStatus(n.status)),3)]),t("td",null,[l(a,{class:"btn btn-secondary m-1",href:c.route("admin.employee.view",n.id)},{default:r(()=>[nt]),_:2},1032,["href"]),l(a,{as:"button",class:"btn btn-danger m-1",onClick:L=>o.deleteItem(n)},{default:r(()=>[st]),_:2},1032,["onClick"]),l(a,{class:"btn btn-info m-1",href:c.route("admin.employee.edit",n.id)},{default:r(()=>[at]),_:2},1032,["href"]),l(a,{class:"btn btn-warning m-1",href:c.route("admin.employee.attendance.check",n.id)},{default:r(()=>[et]),_:2},1032,["href"]),n.user===null?(d(),T(a,{key:0,class:"btn btn-warning m-1",as:"button",onClick:L=>o.convertToUser(n)},{default:r(()=>[ot]),_:2},1032,["onClick"])):P("",!0)])])}),128))])])]),l(i,{links:o.employeeListLinks()},null,8,["links"])])])])],64)}const ht=Y(H,[["render",it]]);export{ht as default};
