import{A as V}from"./AdminMaster-FR7F8Uiv.js";import{H as q,r as I,c,o as b,a as P,b as s,d as T,h as w,f as p,F as B,p as R,n as H,t as m,w as C,e as f,i as h,A as S,l as g,y as G,B as O,C as W,x as M}from"./app-CIAskp-0.js";import{S as y}from"./sweetalert2.esm.all-Y6IUEg8t.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";const j={layout:V,name:"Assets",components:{Head:q},props:{assets:Array},setup(D){const t=g(!1),r=g(null),a=g(!1),d=g([...D.assets]),_=G(()=>d.value.sort((o,i)=>i.id-o.id)),l=O({name:"",description:"",default_amount:0,icon:"fas fa-coins",tooltip:"",currency:"BDT"}),e=120,v=g("BDT");W(()=>l.currency,o=>{const i=v.value;i&&l.default_amount>0&&i!==o&&(i==="BDT"&&o==="USD"?l.default_amount=Number((l.default_amount/e).toFixed(2)):i==="USD"&&o==="BDT"&&(l.default_amount=Number((l.default_amount*e).toFixed(2)))),v.value=o});const U=o=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(o||0),E=()=>{l.name="",l.description="",l.default_amount=0,l.icon="fas fa-coins",l.tooltip="",l.currency="BDT",v.value="BDT"},N=o=>{r.value=o,l.name=o.name,l.description=o.description,l.default_amount=o.default_amount,l.icon=o.icon,l.tooltip=o.tooltip,l.currency=o.currency||"BDT",v.value=o.currency||"BDT"},k=()=>{t.value=!1,r.value=null,E()};return{assets:d,sortedAssets:_,showAddModal:t,editingAsset:r,saving:a,form:l,USD_TO_BDT_RATE:e,formatNumber:U,editAsset:N,closeModal:k,saveAsset:async()=>{var o,i;a.value=!0;try{const u=r.value?route("admin.finance.assets.update",r.value.id):route("admin.finance.assets.store"),x=r.value?"put":"post",n=await M[x](u,l);if(n.data.success){if(r.value){const A=d.value.findIndex(F=>F.id===r.value.id);d.value[A]=n.data.asset}else d.value.push(n.data.asset);k(),y.fire({title:"Success!",text:n.data.message,icon:"success",confirmButtonColor:"#28a745",timer:3e3,timerProgressBar:!0})}}catch(u){console.error("Save failed:",u),y.fire({title:"Error!",text:((i=(o=u.response)==null?void 0:o.data)==null?void 0:i.message)||"Failed to save asset",icon:"error",confirmButtonColor:"#e74a3b"})}finally{a.value=!1}},deleteAsset:async o=>{var u,x;if((await y.fire({title:"Are you sure?",text:"You want to delete this asset? This will remove it from all balance sheets.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#e74a3b",cancelButtonColor:"#6c757d",confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel"})).isConfirmed)try{const n=await M.delete(route("admin.finance.assets.delete",o));n.data.success&&(d.value=d.value.filter(A=>A.id!==o),y.fire({title:"Deleted!",text:n.data.message,icon:"success",confirmButtonColor:"#28a745",timer:3e3,timerProgressBar:!0}))}catch(n){console.error("Delete failed:",n),y.fire({title:"Error!",text:((x=(u=n.response)==null?void 0:u.data)==null?void 0:x.message)||"Failed to delete asset",icon:"error",confirmButtonColor:"#e74a3b"})}}}}},Y={class:"row"},K={class:"col-lg-12"},L={class:"dashboard-settings margin-top-40"},J={class:"card mb-4"},Q={class:"card-header d-flex justify-content-between align-items-center"},X={class:"row"},Z={class:"asset-card"},$={class:"asset-header"},ss={class:"asset-icon"},ts={class:"asset-actions"},as=["onClick"],es=["onClick"],os={class:"asset-content"},ls={class:"asset-description"},is={class:"asset-amount"},ns={class:"amount"},rs={key:0,class:"d-block mt-1 text-muted",style:{"font-size":"0.75rem"}},ds={key:0,class:"col-12"},cs={class:"modal-header"},bs={class:"modal-body"},ms={class:"row"},us={class:"col-md-6 mb-3"},vs={class:"col-md-6 mb-3"},fs={class:"input-group"},ps={key:0,class:"form-text text-info"},gs={key:1,class:"form-text text-muted"},ys={class:"mb-3"},xs={class:"mb-3"},hs={class:"mb-3"},As={class:"d-flex justify-content-end gap-2"},ws=["disabled"];function Ds(D,t,r,a,d,_){const l=I("Head");return b(),c(B,null,[P(l,{title:"Assets Management"}),s("div",Y,[s("div",K,[s("div",L,[s("div",J,[s("div",Q,[t[13]||(t[13]=s("h4",{class:"mb-0"},[s("i",{class:"fas fa-coins me-2"}),p(" Assets Management ")],-1)),s("button",{onClick:t[0]||(t[0]=e=>a.showAddModal=!0),class:"btn btn-success"},[...t[12]||(t[12]=[s("i",{class:"fas fa-plus"},null,-1),p(" Add Asset ",-1)])])]),t[14]||(t[14]=s("div",{class:"card-body"},[s("p",{class:"text-muted"}," Manage your company assets like cash accounts, equipment, inventory, and receivables. These items represent what your company owns. ")],-1))]),t[29]||(t[29]=T('<div class="card mb-4 entrepreneur-guide" data-v-5b0b9155><div class="card-header bg-success-light" data-v-5b0b9155><h6 class="text-success mb-0" data-v-5b0b9155><button class="btn btn-link text-success p-0 text-decoration-none w-100 text-start" type="button" data-bs-toggle="collapse" data-bs-target="#assetsGuide" aria-expanded="false" aria-controls="assetsGuide" data-v-5b0b9155><i class="fas fa-lightbulb me-2" data-v-5b0b9155></i> Solo Entrepreneur Assets Management Guide <i class="fas fa-chevron-down float-end mt-1" data-v-5b0b9155></i></button></h6></div><div id="assetsGuide" class="collapse" data-v-5b0b9155><div class="card-body" data-v-5b0b9155><div class="row" data-v-5b0b9155><div class="col-md-6" data-v-5b0b9155><h6 class="text-primary mb-3" data-v-5b0b9155><i class="fas fa-question-circle me-2" data-v-5b0b9155></i> What are Business Assets? </h6><ul class="list-unstyled mb-4" data-v-5b0b9155><li class="mb-2" data-v-5b0b9155><i class="fas fa-check text-success me-2" data-v-5b0b9155></i><strong data-v-5b0b9155>Current Assets:</strong> Cash, bank accounts, receivables (money clients owe you) </li><li class="mb-2" data-v-5b0b9155><i class="fas fa-check text-success me-2" data-v-5b0b9155></i><strong data-v-5b0b9155>Fixed Assets:</strong> Equipment, computers, software licenses, furniture </li><li class="mb-2" data-v-5b0b9155><i class="fas fa-check text-success me-2" data-v-5b0b9155></i><strong data-v-5b0b9155>Digital Assets:</strong> Domain names, websites, templates, apps you&#39;ve built </li><li class="mb-2" data-v-5b0b9155><i class="fas fa-check text-success me-2" data-v-5b0b9155></i><strong data-v-5b0b9155>Investments:</strong> Stocks, crypto, other business investments </li></ul><h6 class="text-primary mb-3" data-v-5b0b9155><i class="fas fa-chart-line me-2" data-v-5b0b9155></i> Why Track Assets? </h6><ul class="list-unstyled" data-v-5b0b9155><li class="mb-2" data-v-5b0b9155><i class="fas fa-arrow-right text-info me-2" data-v-5b0b9155></i> Know your true business net worth </li><li class="mb-2" data-v-5b0b9155><i class="fas fa-arrow-right text-info me-2" data-v-5b0b9155></i> Plan for equipment upgrades and replacements </li><li class="mb-2" data-v-5b0b9155><i class="fas fa-arrow-right text-info me-2" data-v-5b0b9155></i> Track depreciation for tax purposes </li><li class="mb-2" data-v-5b0b9155><i class="fas fa-arrow-right text-info me-2" data-v-5b0b9155></i> Monitor cash flow and liquidity </li></ul></div><div class="col-md-6" data-v-5b0b9155><h6 class="text-primary mb-3" data-v-5b0b9155><i class="fas fa-user-tie me-2" data-v-5b0b9155></i> Solo Entrepreneur Asset Examples </h6><div class="asset-examples" data-v-5b0b9155><div class="example-category mb-3" data-v-5b0b9155><strong class="text-success d-block mb-2" data-v-5b0b9155><i class="fas fa-laptop me-2" data-v-5b0b9155></i>Technology &amp; Equipment </strong><small class="text-muted d-block" data-v-5b0b9155> MacBook Pro, monitors, cameras, microphones, software subscriptions (Adobe, Figma, hosting) </small></div><div class="example-category mb-3" data-v-5b0b9155><strong class="text-info d-block mb-2" data-v-5b0b9155><i class="fas fa-money-bill-wave me-2" data-v-5b0b9155></i>Cash &amp; Receivables </strong><small class="text-muted d-block" data-v-5b0b9155> Business bank accounts, PayPal, Stripe balance, pending client payments </small></div><div class="example-category mb-3" data-v-5b0b9155><strong class="text-warning d-block mb-2" data-v-5b0b9155><i class="fas fa-globe me-2" data-v-5b0b9155></i>Digital Assets </strong><small class="text-muted d-block" data-v-5b0b9155> Domain portfolio, Webflow templates, Shopify apps, website themes </small></div></div><div class="alert alert-success mt-3" data-v-5b0b9155><strong data-v-5b0b9155><i class="fas fa-star me-2" data-v-5b0b9155></i>Pro Tips: </strong><ul class="mb-0 mt-2" data-v-5b0b9155><li data-v-5b0b9155>Update asset values quarterly for accurate financial picture</li><li data-v-5b0b9155>Separate personal and business assets clearly</li><li data-v-5b0b9155>Track purchase dates for depreciation calculations</li><li data-v-5b0b9155>Consider insurance coverage for valuable equipment</li></ul></div></div></div></div></div></div>',1)),s("div",X,[(b(!0),c(B,null,R(a.sortedAssets,e=>(b(),c("div",{key:e.id,class:"col-lg-4 col-md-6 mb-4"},[s("div",Z,[s("div",$,[s("div",ss,[s("i",{class:H(e.icon||"fas fa-coins")},null,2)]),s("div",ts,[s("button",{onClick:v=>a.editAsset(e),class:"btn btn-sm btn-outline-primary"},[...t[15]||(t[15]=[s("i",{class:"fas fa-edit"},null,-1)])],8,as),s("button",{onClick:v=>a.deleteAsset(e.id),class:"btn btn-sm btn-outline-danger"},[...t[16]||(t[16]=[s("i",{class:"fas fa-trash"},null,-1)])],8,es)])]),s("div",os,[s("h5",null,m(e.name),1),s("p",ls,m(e.description||"No description"),1),s("div",is,[t[17]||(t[17]=s("small",{class:"text-muted"},"Default Value",-1)),s("div",ns,[p(" ৳"+m(a.formatNumber(e.currency==="USD"?e.default_amount*a.USD_TO_BDT_RATE:e.default_amount))+" ",1),e.currency==="USD"?(b(),c("small",rs," ($"+m(a.formatNumber(e.default_amount))+" USD) ",1)):w("",!0)])])])])]))),128)),a.assets.length===0?(b(),c("div",ds,[...t[18]||(t[18]=[s("div",{class:"text-center py-5"},[s("i",{class:"fas fa-coins text-muted mb-3",style:{"font-size":"4rem"}}),s("h5",{class:"text-muted"},"No Assets Found"),s("p",{class:"text-muted"},'Click "Add Asset" to create your first asset category.')],-1)])])):w("",!0)]),a.showAddModal||a.editingAsset?(b(),c("div",{key:0,class:"modal-overlay",onClick:t[11]||(t[11]=(...e)=>a.closeModal&&a.closeModal(...e))},[s("div",{class:"modal-content",onClick:t[10]||(t[10]=C(()=>{},["stop"]))},[s("div",cs,[s("h5",null,m(a.editingAsset?"Edit":"Add")+" Asset",1),s("button",{onClick:t[1]||(t[1]=(...e)=>a.closeModal&&a.closeModal(...e)),class:"btn-close"},"×")]),s("div",bs,[s("form",{onSubmit:t[9]||(t[9]=C((...e)=>a.saveAsset&&a.saveAsset(...e),["prevent"]))},[s("div",ms,[s("div",us,[t[19]||(t[19]=s("label",{class:"form-label"},"Asset Name *",-1)),f(s("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>a.form.name=e),type:"text",class:"form-control",required:"",placeholder:"e.g., Cash, Equipment, Inventory"},null,512),[[h,a.form.name]])]),s("div",vs,[t[23]||(t[23]=s("label",{class:"form-label"},"Default Amount",-1)),s("div",fs,[f(s("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>a.form.currency=e),class:"input-group-text",style:{"border-right":"0",background:"#e9ecef"}},[...t[20]||(t[20]=[s("option",{value:"BDT"},"৳",-1),s("option",{value:"USD"},"$",-1)])],512),[[S,a.form.currency]]),f(s("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>a.form.default_amount=e),type:"number",class:"form-control",step:"0.01",min:"0",placeholder:"0.00"},null,512),[[h,a.form.default_amount,void 0,{number:!0}]])]),a.form.currency==="USD"?(b(),c("div",ps,[s("small",null,[t[21]||(t[21]=s("i",{class:"fas fa-exchange-alt me-1"},null,-1)),p(" Converted: ৳"+m(a.formatNumber(a.form.default_amount*a.USD_TO_BDT_RATE))+" BDT (1 USD = "+m(a.USD_TO_BDT_RATE)+" BDT) ",1)])])):(b(),c("div",gs,[...t[22]||(t[22]=[s("small",null,"Initial value for new balance sheets",-1)])]))])]),s("div",ys,[t[25]||(t[25]=s("label",{class:"form-label"},"Icon",-1)),f(s("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>a.form.icon=e),class:"form-select"},[...t[24]||(t[24]=[T('<option value="fas fa-coins" data-v-5b0b9155>Coins (Default)</option><option value="fas fa-money-bill-wave" data-v-5b0b9155>Cash/Money</option><option value="fas fa-hand-holding-usd" data-v-5b0b9155>Accounts Receivable</option><option value="fas fa-laptop" data-v-5b0b9155>Equipment/Technology</option><option value="fas fa-boxes" data-v-5b0b9155>Inventory/Stock</option><option value="fas fa-building" data-v-5b0b9155>Real Estate</option><option value="fas fa-car" data-v-5b0b9155>Vehicles</option><option value="fas fa-chart-line" data-v-5b0b9155>Investments</option><option value="fas fa-university" data-v-5b0b9155>Bank Accounts</option><option value="fas fa-warehouse" data-v-5b0b9155>Warehouse/Storage</option>',10)])],512),[[S,a.form.icon]])]),s("div",xs,[t[26]||(t[26]=s("label",{class:"form-label"},"Description",-1)),f(s("textarea",{"onUpdate:modelValue":t[6]||(t[6]=e=>a.form.description=e),class:"form-control",rows:"3",placeholder:"Describe this asset category"},null,512),[[h,a.form.description]])]),s("div",hs,[t[27]||(t[27]=s("label",{class:"form-label"},"Tooltip (Help Text)",-1)),f(s("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>a.form.tooltip=e),type:"text",class:"form-control",placeholder:"Help text shown to users"},null,512),[[h,a.form.tooltip]])]),s("div",As,[s("button",{type:"button",onClick:t[8]||(t[8]=(...e)=>a.closeModal&&a.closeModal(...e)),class:"btn btn-secondary"}," Cancel "),s("button",{type:"submit",class:"btn btn-success",disabled:a.saving},[t[28]||(t[28]=s("i",{class:"fas fa-save"},null,-1)),p(" "+m(a.saving?"Saving...":"Save"),1)],8,ws)])],32)])])])):w("",!0)])])])],64)}const Ms=z(j,[["render",Ds],["__scopeId","data-v-5b0b9155"]]);export{Ms as default};
