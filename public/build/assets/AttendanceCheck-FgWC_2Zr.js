import{H as V,L as H,r as m,c as h,o as v,a as u,b as t,h as A,w as F,f as l,t as o,g as O,F as B,p as M,n as N,l as n,u as j,m as W,x as T}from"./app-ClN5IJtO.js";import{S as L}from"./Select-CVVfV8Lf.js";import{B as U}from"./Button-C19kiJgU.js";import{s as I}from"./vue3-datepicker.esm-D7XatXSs.js";import{V as P}from"./ValidationErrors-BYmF9x7K.js";import{S as E}from"./sweetalert2.esm.all-Y6IUEg8t.js";import{U as z}from"./UserMaster-n9Ss6et4.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";const X={name:"AttendanceCheck",layout:z,components:{BsSelect:L,BsButton:U,Datepicker:I,ValidationErrors:P,Link:H,Head:V,Select:L},setup(){const b=n(0),e=n(0),g=n(0),a=n(0),k=n(0),C=n(0),p=n(!1),i=n([]),D=j().props.value.allEmployees,_=W({employee_id:null,startDate:new Date,endDate:new Date});function w(){T.post(route("user.attendance.check"),{..._}).then(s=>{let f=s.data.logs;if(Object.keys(f).length>0){let r=f,x=[];Object.keys(r).forEach(function(S){let y=r[S];Object.keys(y).forEach(c=>{c!=="dateTime"&&x.push({key:`${c}-${Math.random()}`,customData:{title:`${c.replaceAll("_"," ")}: ${y[c]}`,class:c},dates:new Date(y.dateTime)})})}),i.value=x,p.value=!0,b.value=s.data.holidayCount,e.value=s.data.leaveCount,g.value=s.data.OfficeDays,a.value=s.data.sickLeaveCount,k.value=s.data.paidLeaveCount,C.value=s.data.workFormHome}else E.fire("Error!","No Data found for selected Dates","warning")}).catch(s=>{E.fire("Error!",s.message,"warning")})}new Date().getMonth(),new Date().getFullYear();function d(){return{masks:{weekdays:"WWW"},attributes:i.value}}return{employeeData:_,getAttendanceDetails:w,employeeList:D,CalendarData:d,attendanceShow:p,CalendarAttributes:i,holidayCount:b,leaveCount:e,OfficeDays:g,sickLeaveCount:a,paidLeaveCount:k,workFormHome:C}}},Y={class:"row"},q={class:"col-lg-12"},J={class:"dashboard-settings margin-top-40"},K={class:"edit-profile"},Q={class:"profile-info-dashboard"},R={class:"dashboard-profile-flex"},Z={class:"dashboard-address-details"},$={class:"single-dashboard-input"},tt={class:"single-info-input margin-top-30"},et={class:"btn-wrapper margin-top-35"},at={key:0,class:"cleardar-wrapper"},st={class:"head-rapw margin-top-40"},ot={class:"color-explanation"},nt={class:"holiday"},lt={class:"badge"},it={class:"leave"},dt={class:"badge"},rt={class:"C/In"},ct={class:"badge"},mt={class:"sick-leave"},ut={class:"badge"},pt={class:"paid-leave"},_t={class:"badge"},ft={class:"work-from-home"},ht={class:"badge"},vt={class:"date-box-wrapper"},bt={class:"day-label"},gt={class:"custom-data-wrapper"};function kt(b,e,g,a,k,C){const p=m("Head"),i=m("ValidationErrors"),D=m("Datepicker"),_=m("BsButton"),w=m("Calendar");return v(),h(B,null,[u(p,{title:"Employee Attendance Check - Xgenious"}),t("div",Y,[t("div",q,[t("div",J,[e[11]||(e[11]=t("div",{class:"header-wrap d-flex justify-content-between"},[t("h2",{class:"dashboards-title"},"Attendance Check")],-1)),t("div",K,[t("div",Q,[u(i),t("div",R,[t("div",Z,[t("form",{onSubmit:e[1]||(e[1]=F(()=>{},["prevent"]))},[t("div",$,[t("div",tt,[e[2]||(e[2]=t("label",{class:"info-title"}," Select Month ",-1)),u(D,{modelValue:a.employeeData.startDate,"onUpdate:modelValue":e[0]||(e[0]=d=>a.employeeData.startDate=d)},null,8,["modelValue"]),e[3]||(e[3]=t("span",null,"any date you select in this calendar, system will get data for the selected date month",-1))])]),t("div",et,[u(_,{"button-text":"Get Details",onClick:a.getAttendanceDetails,classes:"cmn-btn btn-bg-1"},null,8,["onClick"])])],32)])])])]),a.attendanceShow?(v(),h("div",at,[t("div",st,[e[10]||(e[10]=t("h4",null,"Color Explanation",-1)),t("ul",ot,[t("li",nt,[e[4]||(e[4]=l("Holiday",-1)),t("span",lt,o(a.holidayCount),1)]),t("li",it,[e[5]||(e[5]=l("leave",-1)),t("span",dt,o(a.leaveCount),1)]),t("li",rt,[e[6]||(e[6]=l("OfficeDays",-1)),t("span",ct,o(a.OfficeDays),1)]),t("li",mt,[e[7]||(e[7]=l("Sick Leave",-1)),t("span",ut,o(a.sickLeaveCount),1)]),t("li",pt,[e[8]||(e[8]=l("Paid Leave",-1)),t("span",_t,o(a.paidLeaveCount),1)]),t("li",ft,[e[9]||(e[9]=l("Work From Home",-1)),t("span",ht,o(a.workFormHome),1)])])]),u(w,{class:"custom-calendar-outer-wrap",masks:a.CalendarData().masks,attributes:a.CalendarData().attributes,"disable-page-swipe":"","is-expanded":""},{"day-content":O(({day:d,attributes:s})=>[t("div",vt,[t("span",bt,o(d.day),1),t("div",gt,[(v(!0),h(B,null,M(s,({key:f,customData:r})=>(v(),h("p",{key:f,class:N(["data-item",r.class])},o(r.title),3))),128))])])]),_:1},8,["masks","attributes"])])):A("",!0)])])])],64)}const St=G(X,[["render",kt]]);export{St as default};
