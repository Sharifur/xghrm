import{A as se}from"./AdminMaster-CUfLw11a.js";import{H as ae,r as ne,c as p,o as f,a as oe,b as e,h as y,d as I,f as b,t as c,n as h,F as N,p as L,e as x,j as G,w as H,i as T,A as U,l as D,B as le,C as z,y as k,x as F}from"./app-B-vvuMLU.js";import{S as _}from"./sweetalert2.esm.all-Y6IUEg8t.js";import{_ as ie}from"./_plugin-vue_export-helper-DlAUqK2U.js";const re={layout:se,name:"Expenses",components:{Head:ae},props:{expenses:Array},setup(q){const t=D(!1),E=D(null),s=D(!1),v=D([...q.expenses]),g=D([]),w=D(1),a=D(10),l=le({name:"",description:"",amount:0,currency:"BDT",expense_date:new Date().toISOString().split("T")[0],category:"",icon:"fas fa-receipt",notes:"",payment_status:"pending",paid_date:null,payment_notes:""}),M=120,A=D("BDT");z(()=>l.currency,n=>{const o=A.value;o&&l.amount>0&&o!==n&&(o==="BDT"&&n==="USD"?l.amount=Number((l.amount/M).toFixed(2)):o==="USD"&&n==="BDT"&&(l.amount=Number((l.amount*M).toFixed(2)))),A.value=n}),z(()=>l.payment_status,(n,o)=>{n==="paid"&&o!=="paid"?l.paid_date||(l.paid_date=new Date().toISOString().split("T")[0]):n!=="paid"&&(l.paid_date=null,l.payment_notes="")});const P=k(()=>Math.ceil(v.value.length/a.value)),S=k(()=>{const n=v.value.sort((d,u)=>u.id-d.id),o=(w.value-1)*a.value,i=o+a.value;return n.slice(o,i)}),W=k(()=>{const n=P.value,o=w.value,i=[];if(n<=7)for(let d=1;d<=n;d++)i.push(d);else if(o<=4){for(let d=1;d<=5;d++)i.push(d);i.push("..."),i.push(n)}else if(o>=n-3){i.push(1),i.push("...");for(let d=n-4;d<=n;d++)i.push(d)}else{i.push(1),i.push("...");for(let d=o-1;d<=o+1;d++)i.push(d);i.push("..."),i.push(n)}return i.filter(d=>d!=="..."||i.indexOf(d)!==i.lastIndexOf(d))}),R=k(()=>S.value.length>0&&S.value.every(n=>g.value.includes(n.id))),V=k(()=>{const n=new Date,o=n.getFullYear(),i=n.getMonth()+1,d=v.value.filter(u=>{if(!u.expense_date)return!1;const r=new Date(u.expense_date);return!isNaN(r.getTime())&&r.getFullYear()===o&&r.getMonth()+1===i}).reduce((u,r)=>{const m=parseFloat(r.amount)||0;return u+m},0);return isNaN(d)?0:d}),O=k(()=>{const n=new Date,o=new Date(n.getFullYear(),n.getMonth()-1),i=o.getFullYear(),d=o.getMonth()+1,u=v.value.filter(r=>{if(!r.expense_date)return!1;const m=new Date(r.expense_date);return!isNaN(m.getTime())&&m.getFullYear()===i&&m.getMonth()+1===d}).reduce((r,m)=>{const C=parseFloat(m.amount)||0;return r+C},0);return isNaN(u)?0:u}),K=k(()=>{const n=V.value||0,o=O.value||0,i=n-o;return isNaN(i)?0:i}),J=k(()=>{const n=V.value||0,o=O.value||0;if(o===0)return n>0?100:0;const i=(n-o)/o*100;return isNaN(i)?0:i}),B=n=>{if(n==null||isNaN(n))return"0.00";const o=parseFloat(n);return isNaN(o)?"0.00":new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(o)},Q=()=>new Date().toLocaleDateString("en-US",{month:"long",year:"numeric"}),X=()=>{const n=new Date;return new Date(n.getFullYear(),n.getMonth()-1).toLocaleDateString("en-US",{month:"long",year:"numeric"})},Z=n=>new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),Y=()=>{l.name="",l.description="",l.amount=0,l.currency="BDT",l.expense_date=new Date().toISOString().split("T")[0],l.category="",l.icon="fas fa-receipt",l.notes="",l.payment_status="pending",l.paid_date=null,l.payment_notes="",A.value="BDT"},$=()=>{Y(),t.value=!0},ee=n=>{E.value=n,l.name=n.name,l.description=n.description,l.amount=n.amount,l.currency=n.currency||"BDT",l.expense_date=n.expense_date?new Date(n.expense_date).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],l.category=n.category,l.icon=n.icon,l.notes=n.notes,l.payment_status=n.payment_status||"paid",l.paid_date=n.paid_date,l.payment_notes=n.payment_notes||"",A.value=n.currency||"BDT",t.value=!0},j=()=>{t.value=!1,E.value=null,Y()};return{expenses:v,showAddModal:t,editingExpense:E,saving:s,form:l,USD_TO_BDT_RATE:M,formatNumber:B,formatDate:Z,openAddModal:$,editExpense:ee,closeModal:j,saveExpense:async()=>{var n,o;s.value=!0;try{const i=E.value?route("admin.finance.expenses.update",E.value.id):route("admin.finance.expenses.store"),d=E.value?"put":"post",u={...l};l.currency==="USD"&&(u.amount=l.amount*M,u.currency="BDT");const r=await F[d](i,u);if(r.data.success){if(E.value){const m=v.value.findIndex(C=>C.id===E.value.id);v.value[m]=r.data.expense}else v.value.unshift(r.data.expense);j(),_.fire({title:"Success!",text:r.data.message,icon:"success",confirmButtonColor:"#f6c23e",timer:3e3,timerProgressBar:!0})}}catch(i){console.error("Save failed:",i),_.fire({title:"Error!",text:((o=(n=i.response)==null?void 0:n.data)==null?void 0:o.message)||"Failed to save expense",icon:"error",confirmButtonColor:"#e74a3b"})}finally{s.value=!1}},deleteExpense:async n=>{var i,d;if((await _.fire({title:"Are you sure?",text:"You want to delete this expense? This action cannot be undone.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#e74a3b",cancelButtonColor:"#6c757d",confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel"})).isConfirmed)try{const u=await F.delete(route("admin.finance.expenses.delete",n));u.data.success&&(v.value=v.value.filter(r=>r.id!==n),_.fire({title:"Deleted!",text:u.data.message,icon:"success",confirmButtonColor:"#f6c23e",timer:3e3,timerProgressBar:!0}))}catch(u){console.error("Delete failed:",u),_.fire({title:"Error!",text:((d=(i=u.response)==null?void 0:i.data)==null?void 0:d.message)||"Failed to delete expense",icon:"error",confirmButtonColor:"#e74a3b"})}},clearAllExpenses:async()=>{const n=v.value.length,o=v.value.reduce((r,m)=>{const C=m.amount;return r+C},0),i=v.value.slice(0,5).map(r=>`â€¢ ${r.name} (${r.category}): à§³${B(r.amount)}`).join("<br>"),d=v.value.length>5?`<br>...and ${v.value.length-5} more expenses`:"";if((await _.fire({title:"Clear All One-Time Expenses?",html:`<div class="text-left">
                    <p>This will permanently remove <strong>${n}</strong> one-time expenses:</p>
                    <div style="background: #f8f9fa; padding: 10px; border-radius: 5px; margin: 10px 0; font-size: 14px;">
                        ${i}
                        ${d}
                    </div>
                    <p><strong>Total Value:</strong> à§³${B(o)}</p>
                    <p class="text-danger mb-0"><i class="fas fa-exclamation-triangle"></i> This action cannot be undone!</p>
                </div>`,icon:"error",showCancelButton:!0,confirmButtonColor:"#e74a3b",cancelButtonColor:"#6c757d",confirmButtonText:"Yes, clear all expenses!",cancelButtonText:"Cancel",reverseButtons:!0})).isConfirmed)try{const r=v.value.map(m=>F.delete(route("admin.finance.expenses.delete",m.id)));await Promise.all(r),v.value.splice(0),_.fire({title:"All Expenses Cleared!",text:`Successfully removed ${n} one-time expenses.`,icon:"success",confirmButtonColor:"#f6c23e",timer:3e3,timerProgressBar:!0})}catch(r){console.error("Bulk delete failed:",r),_.fire({title:"Error!",text:"Failed to clear some expenses. Please try again.",icon:"error",confirmButtonColor:"#e74a3b"})}},exportExpenses:async()=>{const n=`Date,Name,Category,Amount,Currency,BDT Equivalent,Description,Notes
`,o=v.value.map(r=>{const m=r.amount;return[r.expense_date,`"${r.name}"`,`"${r.category}"`,r.amount,r.currency,m.toFixed(2),`"${r.description||""}"`,`"${r.notes||""}"`].join(",")}).join(`
`),i=n+o,d=new Blob([i],{type:"text/csv;charset=utf-8;"}),u=document.createElement("a");if(u.download!==void 0){const r=URL.createObjectURL(d);u.setAttribute("href",r),u.setAttribute("download",`One-Time-Expenses-${new Date().toISOString().split("T")[0]}.csv`),u.style.visibility="hidden",document.body.appendChild(u),u.click(),document.body.removeChild(u),_.fire({title:"Export Complete!",text:"One-time expenses have been exported to CSV.",icon:"success",confirmButtonColor:"#f6c23e",timer:2e3,timerProgressBar:!0})}},selectedExpenses:g,currentPage:w,itemsPerPage:a,totalPages:P,paginatedExpenses:S,visiblePages:W,changePage:n=>{n>=1&&n<=P.value&&n!=="..."&&(w.value=n,g.value=[])},isAllSelected:R,toggleSelectAll:()=>{if(R.value){const n=S.value.map(o=>o.id);g.value=g.value.filter(o=>!n.includes(o))}else{const o=S.value.map(i=>i.id).filter(i=>!g.value.includes(i));g.value.push(...o)}},deleteSelectedExpenses:async()=>{if(g.value.length===0)return;const n=g.value.length,o=v.value.filter(m=>g.value.includes(m.id)),i=o.reduce((m,C)=>{const te=C.amount;return m+te},0),d=o.slice(0,5).map(m=>`â€¢ ${m.name} (${m.category}): à§³${B(m.amount)}`).join("<br>"),u=o.length>5?`<br>...and ${o.length-5} more expenses`:"";if((await _.fire({title:`Delete ${n} Selected Expenses?`,html:`<div class="text-left">
                    <p>This will permanently remove <strong>${n}</strong> selected expenses:</p>
                    <div style="background: #f8f9fa; padding: 10px; border-radius: 5px; margin: 10px 0; font-size: 14px;">
                        ${d}
                        ${u}
                    </div>
                    <p><strong>Total Value:</strong> à§³${B(i)}</p>
                    <p class="text-danger mb-0"><i class="fas fa-exclamation-triangle"></i> This action cannot be undone!</p>
                </div>`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#e74a3b",cancelButtonColor:"#6c757d",confirmButtonText:`Yes, delete ${n} expenses!`,cancelButtonText:"Cancel",reverseButtons:!0})).isConfirmed)try{const m=g.value.map(C=>F.delete(route("admin.finance.expenses.delete",C)));await Promise.all(m),v.value=v.value.filter(C=>!g.value.includes(C.id)),g.value=[],w.value>P.value&&P.value>0&&(w.value=P.value),_.fire({title:"Expenses Deleted!",text:`Successfully removed ${n} expenses.`,icon:"success",confirmButtonColor:"#f6c23e",timer:3e3,timerProgressBar:!0})}catch(m){console.error("Bulk delete failed:",m),_.fire({title:"Error!",text:"Failed to delete some expenses. Please try again.",icon:"error",confirmButtonColor:"#e74a3b"})}},currentMonthTotal:V,previousMonthTotal:O,expenseChangeAmount:K,expenseChangePercentage:J,getCurrentMonthName:Q,getPreviousMonthName:X}}},de={class:"row"},ce={class:"col-lg-12"},ue={class:"dashboard-settings margin-top-40"},me={class:"card mb-4"},ve={class:"card-header d-flex justify-content-between align-items-center"},pe={class:"btn-group"},fe={class:"row mb-4"},ge={class:"col-lg-4 col-md-4 mb-3"},be={class:"metric-card current-month-card"},xe={class:"metric-content"},ye={class:"metric-value"},he={class:"metric-subtitle"},_e={class:"col-lg-4 col-md-4 mb-3"},Ce={class:"metric-card previous-month-card"},Ee={class:"metric-content"},we={class:"metric-value"},De={class:"metric-subtitle"},ke={class:"col-lg-4 col-md-4 mb-3"},Te={class:"metric-card comparison-card"},Pe={class:"metric-content"},Se={class:"card"},Be={class:"card-header d-flex justify-content-between align-items-center"},Me={class:"d-flex align-items-center gap-3"},Ae={key:0,class:"form-check"},Ne=["checked"],Ue={class:"text-muted"},Fe={class:"card-body"},Ve={class:"table-responsive d-none d-md-block"},Oe={class:"table table-striped"},Ie={class:"form-check"},Le=["value","id"],qe={class:"badge bg-light text-dark"},Re={class:"badge bg-secondary"},Ye={class:"badge bg-warning text-dark"},je={class:"btn-group",role:"group"},Ge=["onClick"],He=["onClick"],ze={key:0},We={class:"d-md-none"},Ke={key:0,class:"text-center text-muted py-5"},Je={class:"card border-start border-warning border-3"},Qe={class:"card-body p-3"},Xe={class:"d-flex align-items-start gap-3"},Ze={class:"form-check"},$e=["value","id"],et={class:"expense-info flex-grow-1"},tt={class:"d-flex align-items-center justify-content-between mb-2"},st={class:"d-flex align-items-center"},at={class:"mb-0 expense-name fw-bold"},nt={class:"badge bg-light text-dark"},ot={class:"expense-details"},lt={class:"mb-2"},it={class:"badge bg-secondary me-2"},rt={key:0,class:"text-muted mb-2 small"},dt={class:"expense-amount"},ct={class:"badge bg-warning text-dark fs-6"},ut={key:1,class:"mt-2"},mt={class:"text-muted"},vt={class:"expense-actions d-flex flex-column gap-2"},pt=["onClick"],ft=["onClick"],gt={key:0,class:"d-flex justify-content-between align-items-center mt-4"},bt={class:"text-muted"},xt={"aria-label":"Expenses pagination"},yt={class:"pagination pagination-sm mb-0"},ht=["disabled"],_t=["onClick"],Ct=["disabled"],Et={class:"modal-header"},wt={class:"modal-body"},Dt={class:"row"},kt={class:"col-md-6 mb-3"},Tt={class:"col-md-6 mb-3"},Pt={class:"row"},St={class:"col-md-6 mb-3"},Bt={class:"input-group"},Mt={key:0,class:"form-text text-info"},At={class:"col-md-6 mb-3"},Nt={class:"row"},Ut={class:"col-md-6 mb-3"},Ft={class:"col-md-6 mb-3"},Vt={key:0,class:"row"},Ot={class:"col-md-6 mb-3"},It=["max"],Lt={class:"col-md-6 mb-3"},qt={class:"mb-3"},Rt={class:"mb-3"},Yt={class:"d-flex justify-content-end gap-2"},jt=["disabled"];function Gt(q,t,E,s,v,g){const w=ne("Head");return f(),p(N,null,[oe(w,{title:"One-time Expenses"}),e("div",de,[e("div",ce,[e("div",ue,[e("div",me,[e("div",ve,[t[29]||(t[29]=e("h4",{class:"mb-0"},[e("i",{class:"fas fa-receipt me-2"}),b(" One-time Expenses ")],-1)),e("div",pe,[e("button",{onClick:t[0]||(t[0]=(...a)=>s.openAddModal&&s.openAddModal(...a)),class:"btn btn-warning"},[...t[25]||(t[25]=[e("i",{class:"fas fa-plus"},null,-1),b(" Add Expense ",-1)])]),s.selectedExpenses.length>0?(f(),p("button",{key:0,onClick:t[1]||(t[1]=(...a)=>s.deleteSelectedExpenses&&s.deleteSelectedExpenses(...a)),class:"btn btn-danger"},[t[26]||(t[26]=e("i",{class:"fas fa-trash"},null,-1)),b(" Delete Selected ("+c(s.selectedExpenses.length)+") ",1)])):y("",!0),s.expenses.length>0?(f(),p("button",{key:1,onClick:t[2]||(t[2]=(...a)=>s.exportExpenses&&s.exportExpenses(...a)),class:"btn btn-outline-success"},[...t[27]||(t[27]=[e("i",{class:"fas fa-download"},null,-1),b(" Export CSV ",-1)])])):y("",!0),s.expenses.length>0?(f(),p("button",{key:2,onClick:t[3]||(t[3]=(...a)=>s.clearAllExpenses&&s.clearAllExpenses(...a)),class:"btn btn-outline-danger"},[...t[28]||(t[28]=[e("i",{class:"fas fa-trash-alt"},null,-1),b(" Clear All ",-1)])])):y("",!0)])]),t[30]||(t[30]=I('<div class="card-body" data-v-adc18914><div class="entrepreneur-guide mb-4" data-v-adc18914><h6 class="text-primary mb-0" data-v-adc18914><button class="btn btn-link text-primary p-0 text-decoration-none w-100 text-start" type="button" data-bs-toggle="collapse" data-bs-target="#expenseGuide" aria-expanded="false" aria-controls="expenseGuide" data-v-adc18914><i class="fas fa-lightbulb me-2" data-v-adc18914></i> Solo Entrepreneur Expense Management Guide <i class="fas fa-chevron-down float-end mt-1" data-v-adc18914></i></button></h6><div id="expenseGuide" class="collapse mt-3" data-v-adc18914><div class="row" data-v-adc18914><div class="col-md-6" data-v-adc18914><div class="guide-section" data-v-adc18914><h6 class="text-success" data-v-adc18914>What are One-time Expenses?</h6><ul class="small text-muted" data-v-adc18914><li data-v-adc18914><strong data-v-adc18914>Equipment:</strong> Laptop, monitor, desk, chair</li><li data-v-adc18914><strong data-v-adc18914>Software:</strong> Adobe CC, design tools, development licenses</li><li data-v-adc18914><strong data-v-adc18914>Training:</strong> Courses, certifications, conferences</li><li data-v-adc18914><strong data-v-adc18914>Marketing:</strong> Ad campaigns, branding materials</li><li data-v-adc18914><strong data-v-adc18914>Legal/Professional:</strong> Lawyer fees, accountant consultations</li><li data-v-adc18914><strong data-v-adc18914>Emergency:</strong> Urgent repairs, unexpected costs</li></ul></div></div><div class="col-md-6" data-v-adc18914><div class="guide-section" data-v-adc18914><h6 class="text-warning" data-v-adc18914>Why Track One-time Expenses?</h6><ul class="small text-muted" data-v-adc18914><li data-v-adc18914>ðŸ“Š <strong data-v-adc18914>Tax Deductions:</strong> Most business expenses are tax-deductible</li><li data-v-adc18914>ðŸ’¡ <strong data-v-adc18914>Cash Flow:</strong> Know exactly where your money goes</li><li data-v-adc18914>ðŸ“ˆ <strong data-v-adc18914>Business Growth:</strong> Track investments in your business</li><li data-v-adc18914>ðŸŽ¯ <strong data-v-adc18914>Budget Planning:</strong> Plan for similar expenses next year</li><li data-v-adc18914>ðŸ’° <strong data-v-adc18914>Profit Analysis:</strong> Understand true business profitability</li></ul></div></div></div><div class="alert alert-info mt-3" data-v-adc18914><i class="fas fa-info-circle me-2" data-v-adc18914></i><strong data-v-adc18914>Pro Tip:</strong> Set aside 20-30% of your revenue for business expenses. Track everything - even small purchases add up! </div></div></div><p class="text-muted" data-v-adc18914> Record all your one-time business expenses here. Use different currencies (USD for software, BDT for local expenses) and categorize properly for better financial insights. </p></div>',1))]),e("div",fe,[e("div",ge,[e("div",be,[e("div",xe,[e("div",ye,"à§³"+c(s.formatNumber(s.currentMonthTotal)),1),t[31]||(t[31]=e("div",{class:"metric-label"},"Current Month Expenses",-1)),e("div",he,c(s.getCurrentMonthName()),1)]),t[32]||(t[32]=e("div",{class:"metric-icon"},[e("i",{class:"fas fa-calendar-day"})],-1))])]),e("div",_e,[e("div",Ce,[e("div",Ee,[e("div",we,"à§³"+c(s.formatNumber(s.previousMonthTotal)),1),t[33]||(t[33]=e("div",{class:"metric-label"},"Previous Month Expenses",-1)),e("div",De,c(s.getPreviousMonthName()),1)]),t[34]||(t[34]=e("div",{class:"metric-icon"},[e("i",{class:"fas fa-calendar-alt"})],-1))])]),e("div",ke,[e("div",Te,[e("div",Pe,[e("div",{class:h(["metric-value",s.expenseChangePercentage>=0?"text-danger":"text-success"])},c(s.expenseChangePercentage>=0?"+":"")+c(s.expenseChangePercentage.toFixed(1))+"% ",3),t[35]||(t[35]=e("div",{class:"metric-label"},"Month-over-Month Change",-1)),e("div",{class:h(["metric-subtitle",s.expenseChangePercentage>=0?"text-danger":"text-success"])},[e("i",{class:h(s.expenseChangePercentage>=0?"fas fa-arrow-up":"fas fa-arrow-down")},null,2),b(" "+c(s.expenseChangePercentage>=0?"Increased":"Decreased")+" by à§³"+c(s.formatNumber(Math.abs(s.expenseChangeAmount))),1)],2)]),e("div",{class:h(["metric-icon",s.expenseChangePercentage>=0?"text-danger":"text-success"])},[e("i",{class:h(s.expenseChangePercentage>=0?"fas fa-trending-up":"fas fa-trending-down")},null,2)],2)])])]),e("div",Se,[e("div",Be,[t[37]||(t[37]=e("h5",{class:"mb-0"},"Expense Records",-1)),e("div",Me,[s.expenses.length>0?(f(),p("div",Ae,[e("input",{class:"form-check-input",type:"checkbox",checked:s.isAllSelected,onChange:t[4]||(t[4]=(...a)=>s.toggleSelectAll&&s.toggleSelectAll(...a)),id:"selectAll"},null,40,Ne),t[36]||(t[36]=e("label",{class:"form-check-label",for:"selectAll"}," Select All ",-1))])):y("",!0),e("span",Ue,c(s.paginatedExpenses.length)+" of "+c(s.expenses.length)+" items",1)])]),e("div",Fe,[e("div",Ve,[e("table",Oe,[t[41]||(t[41]=e("thead",null,[e("tr",null,[e("th",{width:"40"},[e("i",{class:"fas fa-check-square text-muted"})]),e("th",null,"Date"),e("th",null,"Name"),e("th",null,"Category"),e("th",null,"Amount & Currency"),e("th",null,"Payment Status"),e("th",null,"Description"),e("th",null,"Icon"),e("th",null,"Actions")])],-1)),e("tbody",null,[(f(!0),p(N,null,L(s.paginatedExpenses,a=>(f(),p("tr",{key:a.id},[e("td",null,[e("div",Ie,[x(e("input",{class:"form-check-input",type:"checkbox",value:a.id,"onUpdate:modelValue":t[5]||(t[5]=l=>s.selectedExpenses=l),id:`expense-${a.id}`},null,8,Le),[[G,s.selectedExpenses]])])]),e("td",null,[e("span",qe,c(s.formatDate(a.expense_date)),1)]),e("td",null,[e("strong",null,c(a.name),1)]),e("td",null,[e("span",Re,c(a.category),1)]),e("td",null,[e("span",Ye," à§³"+c(s.formatNumber(a.amount)),1)]),e("td",null,[e("span",{class:h(["badge",{"bg-success":a.payment_status==="paid","bg-danger":a.payment_status==="unpaid","bg-warning":a.payment_status==="pending"}])},[e("i",{class:h(["fas",{"fa-check-circle":a.payment_status==="paid","fa-times-circle":a.payment_status==="unpaid","fa-clock":a.payment_status==="pending"}])},null,2),b(" "+c(a.payment_status?a.payment_status.charAt(0).toUpperCase()+a.payment_status.slice(1):"Paid"),1)],2)]),e("td",null,c(a.description||"-"),1),e("td",null,[e("i",{class:h([a.icon||"fas fa-receipt","text-primary"])},null,2)]),e("td",null,[e("div",je,[e("button",{onClick:l=>s.editExpense(a),class:"btn btn-sm btn-outline-primary"},[...t[38]||(t[38]=[e("i",{class:"fas fa-edit"},null,-1)])],8,Ge),e("button",{onClick:l=>s.deleteExpense(a.id),class:"btn btn-sm btn-outline-danger"},[...t[39]||(t[39]=[e("i",{class:"fas fa-trash"},null,-1)])],8,He)])])]))),128)),s.expenses.length===0?(f(),p("tr",ze,[...t[40]||(t[40]=[e("td",{colspan:"8",class:"text-center text-muted"},' No expenses found. Click "Add Expense" to record your first expense. ',-1)])])):y("",!0)])])]),e("div",We,[s.expenses.length===0?(f(),p("div",Ke,[...t[42]||(t[42]=[e("i",{class:"fas fa-receipt fa-3x mb-3"},null,-1),e("p",null,[b("No expenses found."),e("br"),b('Click "Add Expense" to record your first expense.')],-1)])])):y("",!0),(f(!0),p(N,null,L(s.paginatedExpenses,a=>(f(),p("div",{key:a.id,class:"mobile-expense-card mb-3"},[e("div",Je,[e("div",Qe,[e("div",Xe,[e("div",Ze,[x(e("input",{class:"form-check-input mobile-checkbox",type:"checkbox",value:a.id,"onUpdate:modelValue":t[6]||(t[6]=l=>s.selectedExpenses=l),id:`mobile-expense-${a.id}`},null,8,$e),[[G,s.selectedExpenses]])]),e("div",et,[e("div",tt,[e("div",st,[e("i",{class:h([a.icon||"fas fa-receipt","text-primary me-2 fs-5"])},null,2),e("h6",at,c(a.name),1)]),e("span",nt,c(s.formatDate(a.expense_date)),1)]),e("div",ot,[e("div",lt,[e("span",it,c(a.category),1)]),a.description?(f(),p("p",rt,[t[43]||(t[43]=e("i",{class:"fas fa-info-circle me-1"},null,-1)),b(" "+c(a.description),1)])):y("",!0),e("div",dt,[e("span",ct," à§³"+c(s.formatNumber(a.amount)),1)]),a.notes?(f(),p("div",ut,[e("small",mt,[t[44]||(t[44]=e("i",{class:"fas fa-sticky-note me-1"},null,-1)),b(" "+c(a.notes),1)])])):y("",!0)])]),e("div",vt,[e("button",{onClick:l=>s.editExpense(a),class:"btn btn-outline-primary btn-sm mobile-btn"},[...t[45]||(t[45]=[e("i",{class:"fas fa-edit"},null,-1)])],8,pt),e("button",{onClick:l=>s.deleteExpense(a.id),class:"btn btn-outline-danger btn-sm mobile-btn"},[...t[46]||(t[46]=[e("i",{class:"fas fa-trash"},null,-1)])],8,ft)])])])])]))),128))]),s.expenses.length>s.itemsPerPage?(f(),p("div",gt,[e("div",bt," Showing "+c((s.currentPage-1)*s.itemsPerPage+1)+" to "+c(Math.min(s.currentPage*s.itemsPerPage,s.expenses.length))+" of "+c(s.expenses.length)+" entries ",1),e("nav",xt,[e("ul",yt,[e("li",{class:h(["page-item",{disabled:s.currentPage===1}])},[e("button",{class:"page-link",onClick:t[7]||(t[7]=a=>s.changePage(s.currentPage-1)),disabled:s.currentPage===1},[...t[47]||(t[47]=[e("i",{class:"fas fa-chevron-left"},null,-1)])],8,ht)],2),(f(!0),p(N,null,L(s.visiblePages,a=>(f(),p("li",{key:a,class:h(["page-item",{active:a===s.currentPage}])},[e("button",{class:"page-link",onClick:l=>s.changePage(a)},c(a),9,_t)],2))),128)),e("li",{class:h(["page-item",{disabled:s.currentPage===s.totalPages}])},[e("button",{class:"page-link",onClick:t[8]||(t[8]=a=>s.changePage(s.currentPage+1)),disabled:s.currentPage===s.totalPages},[...t[48]||(t[48]=[e("i",{class:"fas fa-chevron-right"},null,-1)])],8,Ct)],2)])])])):y("",!0)])]),s.showAddModal||s.editingExpense?(f(),p("div",{key:0,class:"modal-overlay",onClick:t[24]||(t[24]=(...a)=>s.closeModal&&s.closeModal(...a))},[e("div",{class:"modal-content",onClick:t[23]||(t[23]=H(()=>{},["stop"]))},[e("div",Et,[e("h5",null,c(s.editingExpense?"Edit":"Add")+" Expense",1),e("button",{onClick:t[9]||(t[9]=(...a)=>s.closeModal&&s.closeModal(...a)),class:"btn-close"},"Ã—")]),e("div",wt,[e("form",{onSubmit:t[22]||(t[22]=H((...a)=>s.saveExpense&&s.saveExpense(...a),["prevent"]))},[e("div",Dt,[e("div",kt,[t[49]||(t[49]=e("label",{class:"form-label"},"Expense Name *",-1)),x(e("input",{"onUpdate:modelValue":t[10]||(t[10]=a=>s.form.name=a),type:"text",class:"form-control",required:"",placeholder:"e.g., Office Equipment, Training Course"},null,512),[[T,s.form.name]])]),e("div",Tt,[t[50]||(t[50]=e("label",{class:"form-label"},"Expense Date *",-1)),x(e("input",{"onUpdate:modelValue":t[11]||(t[11]=a=>s.form.expense_date=a),type:"date",class:"form-control",required:""},null,512),[[T,s.form.expense_date]]),t[51]||(t[51]=e("small",{class:"form-text text-muted"},"Date when the expense occurred",-1))])]),e("div",Pt,[e("div",St,[t[54]||(t[54]=e("label",{class:"form-label"},"Amount *",-1)),e("div",Bt,[x(e("select",{"onUpdate:modelValue":t[12]||(t[12]=a=>s.form.currency=a),class:"input-group-text",style:{"border-right":"0",background:"#e9ecef"}},[...t[52]||(t[52]=[e("option",{value:"BDT"},"à§³",-1),e("option",{value:"USD"},"$",-1)])],512),[[U,s.form.currency]]),x(e("input",{"onUpdate:modelValue":t[13]||(t[13]=a=>s.form.amount=a),type:"number",class:"form-control",step:"0.01",min:"0",required:"",placeholder:"0.00"},null,512),[[T,s.form.amount,void 0,{number:!0}]])]),s.form.currency==="USD"?(f(),p("div",Mt,[e("small",null,[t[53]||(t[53]=e("i",{class:"fas fa-exchange-alt me-1"},null,-1)),b(" Converted: à§³"+c(s.formatNumber(s.form.amount*s.USD_TO_BDT_RATE))+" BDT (1 USD = "+c(s.USD_TO_BDT_RATE)+" BDT) ",1)])])):y("",!0)]),e("div",At,[t[56]||(t[56]=e("label",{class:"form-label"},"Category *",-1)),x(e("select",{"onUpdate:modelValue":t[14]||(t[14]=a=>s.form.category=a),class:"form-select",required:""},[...t[55]||(t[55]=[I('<option value="" data-v-adc18914>Select Category</option><option value="Equipment" data-v-adc18914>Equipment</option><option value="Repairs" data-v-adc18914>Repairs &amp; Maintenance</option><option value="Training" data-v-adc18914>Training &amp; Development</option><option value="Travel" data-v-adc18914>Travel &amp; Transportation</option><option value="Marketing" data-v-adc18914>Marketing &amp; Advertising</option><option value="Legal" data-v-adc18914>Legal &amp; Professional</option><option value="Supplies" data-v-adc18914>Office Supplies</option><option value="Technology" data-v-adc18914>Technology &amp; Software</option><option value="Miscellaneous" data-v-adc18914>Miscellaneous</option><option value="Emergency" data-v-adc18914>Emergency Expenses</option>',11)])],512),[[U,s.form.category]])])]),e("div",Nt,[e("div",Ut,[t[58]||(t[58]=e("label",{class:"form-label"},"Icon",-1)),x(e("select",{"onUpdate:modelValue":t[15]||(t[15]=a=>s.form.icon=a),class:"form-select"},[...t[57]||(t[57]=[I('<option value="fas fa-receipt" data-v-adc18914>Receipt (Default)</option><option value="fas fa-laptop" data-v-adc18914>Equipment/Technology</option><option value="fas fa-wrench" data-v-adc18914>Repairs &amp; Tools</option><option value="fas fa-graduation-cap" data-v-adc18914>Training &amp; Education</option><option value="fas fa-plane" data-v-adc18914>Travel</option><option value="fas fa-bullhorn" data-v-adc18914>Marketing</option><option value="fas fa-gavel" data-v-adc18914>Legal</option><option value="fas fa-boxes" data-v-adc18914>Supplies</option><option value="fas fa-exclamation-triangle" data-v-adc18914>Emergency</option><option value="fas fa-shopping-cart" data-v-adc18914>Purchase</option>',10)])],512),[[U,s.form.icon]])]),e("div",Ft,[t[60]||(t[60]=e("label",{class:"form-label"},"Payment Status *",-1)),x(e("select",{"onUpdate:modelValue":t[16]||(t[16]=a=>s.form.payment_status=a),class:"form-select",required:""},[...t[59]||(t[59]=[e("option",{value:"paid"},"âœ… Paid",-1),e("option",{value:"unpaid"},"â³ Unpaid",-1),e("option",{value:"pending"},"ðŸ”„ Pending",-1)])],512),[[U,s.form.payment_status]]),t[61]||(t[61]=e("small",{class:"form-text text-muted"},"Current payment status of this expense",-1))])]),s.form.payment_status==="paid"?(f(),p("div",Vt,[e("div",Ot,[t[62]||(t[62]=e("label",{class:"form-label"},"Paid Date",-1)),x(e("input",{"onUpdate:modelValue":t[17]||(t[17]=a=>s.form.paid_date=a),type:"date",class:"form-control",max:new Date().toISOString().split("T")[0]},null,8,It),[[T,s.form.paid_date]]),t[63]||(t[63]=e("small",{class:"form-text text-muted"},"Date when payment was made (optional)",-1))]),e("div",Lt,[t[64]||(t[64]=e("label",{class:"form-label"},"Payment Notes",-1)),x(e("textarea",{"onUpdate:modelValue":t[18]||(t[18]=a=>s.form.payment_notes=a),class:"form-control",rows:"2",placeholder:"Payment method, reference number, etc."},null,512),[[T,s.form.payment_notes]])])])):y("",!0),e("div",qt,[t[65]||(t[65]=e("label",{class:"form-label"},"Description",-1)),x(e("textarea",{"onUpdate:modelValue":t[19]||(t[19]=a=>s.form.description=a),class:"form-control",rows:"3",placeholder:"Brief description of the expense"},null,512),[[T,s.form.description]])]),e("div",Rt,[t[66]||(t[66]=e("label",{class:"form-label"},"Additional Notes",-1)),x(e("textarea",{"onUpdate:modelValue":t[20]||(t[20]=a=>s.form.notes=a),class:"form-control",rows:"2",placeholder:"Any additional notes or details"},null,512),[[T,s.form.notes]])]),e("div",Yt,[e("button",{type:"button",onClick:t[21]||(t[21]=(...a)=>s.closeModal&&s.closeModal(...a)),class:"btn btn-secondary"}," Cancel "),e("button",{type:"submit",class:"btn btn-warning",disabled:s.saving},[t[67]||(t[67]=e("i",{class:"fas fa-save"},null,-1)),b(" "+c(s.saving?"Saving...":"Save Expense"),1)],8,jt)])],32)])])])):y("",!0)])])])],64)}const ss=ie(re,[["render",Gt],["__scopeId","data-v-adc18914"]]);export{ss as default};
