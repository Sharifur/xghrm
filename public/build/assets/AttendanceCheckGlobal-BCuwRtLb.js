import{L as S,H as A,l as o,u as H,m as F,c as f,a as l,b as e,w as O,e as i,t as n,g as N,h as j,F as B,x as M,r as d,o as v,p as W,n as T}from"./app--AXdFNzx.js";import{A as z}from"./AdminMaster-jmqLm_sX.js";import{B as V}from"./Select-SwYCKsJd.js";import{B as G}from"./Button-7mSypOfa.js";import{s as I}from"./vue3-datepicker.esm-ZaZjHLdk.js";import{B as P}from"./ValidationErrors-H8oC0H6u.js";import{S as E}from"./sweetalert2.all-0vlIJAXP.js";import{_ as U}from"./_plugin-vue_export-helper-x3n3nnut.js";const X={name:"AttendanceCheck",layout:z,components:{BsSelect:V,BsButton:G,Datepicker:I,ValidationErrors:P,Link:S,Head:A,Select:V},setup(){const y=o(0),s=o(0),b=o(0),a=o(0),g=o(0),D=o(0),_=o(!1),c=o([]),C=H().props.value.allEmployees,p=F({employee_id:null,startDate:new Date,endDate:new Date});function k(){M.post(route("admin.employee.attendance.post"),{...p}).then(t=>{let u=t.data.logs;if(Object.keys(u).length>0){let h=u,r=[];Object.keys(h).forEach(function(L){let x=h[L];Object.keys(x).forEach(m=>{m!=="dateTime"&&r.push({key:m,customData:{title:`${m.replaceAll("_"," ")}: ${x[m]}`,class:m},dates:new Date(x.dateTime)})})}),c.value=r,_.value=!0,y.value=t.data.holidayCount,s.value=t.data.leaveCount,b.value=t.data.OfficeDays,a.value=t.data.sickLeaveCount,g.value=t.data.paidLeaveCount,D.value=t.data.workFormHome}else E.fire("Error!","NO Data found for selected Dates","warning")}).catch(t=>{E.fire("Error!",t.message,"warning")})}new Date().getMonth(),new Date().getFullYear();function w(){return{masks:{weekdays:"WWW"},attributes:c.value}}return{employeeData:p,getAttendanceDetails:k,employeeList:C,CalendarData:w,attendanceShow:_,CalendarAttributes:c,holidayCount:y,leaveCount:s,OfficeDays:b,sickLeaveCount:a,paidLeaveCount:g,workFormHome:D}}},Y={class:"row"},q={class:"col-lg-12"},J={class:"dashboard-settings margin-top-40"},K=e("div",{class:"header-wrap d-flex justify-content-between"},[e("h2",{class:"dashboards-title"},"Attendance Check")],-1),Q={class:"edit-profile"},R={class:"profile-info-dashboard"},Z={class:"dashboard-profile-flex"},$={class:"dashboard-address-details"},ee={class:"single-dashboard-input"},ae={class:"single-info-input margin-top-30"},te=e("label",{class:"info-title"}," Select Month ",-1),se=e("span",null,"any date you select in this calendar, system will get data for the selected date month",-1),oe={class:"btn-wrapper margin-top-35"},ne={key:0,class:"cleardar-wrapper"},le={class:"head-rapw margin-top-40"},ie=e("h4",null,"Color Explanation",-1),de={class:"color-explanation"},ce={class:"holiday"},re={class:"badge"},me={class:"leave"},_e={class:"badge"},pe={class:"C/In"},ue={class:"badge"},he={class:"sick-leave"},fe={class:"badge"},ve={class:"paid-leave"},ye={class:"badge"},be={class:"work-from-home"},ge={class:"badge"},De={class:"date-box-wrapper"},Ce={class:"day-label"},ke={class:"custom-data-wrapper"};function we(y,s,b,a,g,D){const _=d("Head"),c=d("ValidationErrors"),C=d("Datepicker"),p=d("Select"),k=d("BsButton"),w=d("Calendar");return v(),f(B,null,[l(_,{title:"Employee Attendance Check - Xgenious"}),e("div",Y,[e("div",q,[e("div",J,[K,e("div",Q,[e("div",R,[l(c),e("div",Z,[e("div",$,[e("form",{onSubmit:s[2]||(s[2]=O(()=>{},["prevent"]))},[e("div",ee,[e("div",ae,[te,l(C,{modelValue:a.employeeData.startDate,"onUpdate:modelValue":s[0]||(s[0]=t=>a.employeeData.startDate=t)},null,8,["modelValue"]),se])]),l(p,{title:"Employee",modelValue:a.employeeData.employee_id,"onUpdate:modelValue":s[1]||(s[1]=t=>a.employeeData.employee_id=t),options:a.employeeList},null,8,["modelValue","options"]),e("div",oe,[l(k,{"button-text":"Get Details",onClick:a.getAttendanceDetails,classes:"cmn-btn btn-bg-1"},null,8,["onClick"])])],32)])])])]),a.attendanceShow?(v(),f("div",ne,[e("div",le,[ie,e("ul",de,[e("li",ce,[i("Holiday"),e("span",re,n(a.holidayCount),1)]),e("li",me,[i("leave"),e("span",_e,n(a.leaveCount),1)]),e("li",pe,[i("OfficeDays"),e("span",ue,n(a.OfficeDays),1)]),e("li",he,[i("Sick Leave"),e("span",fe,n(a.sickLeaveCount),1)]),e("li",ve,[i("Paid Leave"),e("span",ye,n(a.paidLeaveCount),1)]),e("li",be,[i("Work From Home"),e("span",ge,n(a.workFormHome),1)])])]),l(w,{class:"custom-calendar-outer-wrap",masks:a.CalendarData().masks,attributes:a.CalendarData().attributes,"disable-page-swipe":"","is-expanded":""},{"day-content":N(({day:t,attributes:u})=>[e("div",De,[e("span",Ce,n(t.day),1),e("div",ke,[(v(!0),f(B,null,W(u,({key:h,customData:r})=>(v(),f("p",{key:h,class:T(["data-item",r.class])},n(r.title),3))),128))])])]),_:1},8,["masks","attributes"])])):j("",!0)])])])],64)}const Fe=U(X,[["render",we]]);export{Fe as default};
